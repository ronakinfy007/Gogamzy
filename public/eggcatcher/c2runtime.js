// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';
var aa, ba, ma, na, ra, sa, ta, va, wa, ya, za, Aa, Ea, Fa, Ga, Ha, Ja, Ka, La, Ma, Na, Oa, Pa, C, Ra, Sa, Va, Wa, Xa, Ya, Za, $a, bb, cb, db, eb, fb, gb, hb, ib, jb, kb, lb, mb, nb, ob, pb, qb, rb, sb, xb, yb, zb, Ab, Bb, Cb, Db, Eb, Fb, Gb, Hb, Ib, Jb, Lb, Mb, Yb, Zb, $b, ac, bc, cc, dc, ec, fc, gc, hc, ic, jc, pc, qc, rc, sc, tc, uc, vc, wc, xc, yc, zc, Ac, Bc, Cc, Dc, Ec, Fc, Gc, Hc, Ic, Jc, Kc, Lc, Mc, Nc = {};
"function" !== typeof Object.getPrototypeOf && (Object.getPrototypeOf = "object" === typeof "test".__proto__ ? function(e) {
    return e.__proto__
} : function(e) {
    return e.constructor.prototype
});
(function() {
    function e(a, d, c, h) {
        this.set(a, d, c, h)
    }

    function m() {
        this.Nb = this.Mb = this.Pb = this.Ob = this.ac = this.$b = this.wb = this.ub = 0
    }

    function k(a, d, c, h) {
        a < d ? c < h ? (M = a < c ? a : c, L = d > h ? d : h) : (M = a < h ? a : h, L = d > c ? d : c) : c < h ? (M = d < c ? d : c, L = a > h ? a : h) : (M = d < h ? d : h, L = a > c ? a : c)
    }

    function n() {
        this.items = this.ff = null;
        this.ok = 0;
        v && (this.ff = new Set);
        this.wj = [];
        this.Zf = !0
    }

    function b(a) {
        z[R++] = a
    }

    function q() {
        this.Ca = this.Oc = this.y = this.Ej = 0
    }

    function f(a) {
        this.Ib = [];
        this.Rl = this.Tl = this.Ul = this.Sl = 0;
        this.ml(a)
    }

    function a(a, d) {
        this.jp =
            a;
        this.ip = d;
        this.cells = {}
    }

    function c(a, d) {
        this.jp = a;
        this.ip = d;
        this.cells = {}
    }

    function t(a, d, c) {
        var h;
        return K.length ? (h = K.pop(), h.bq = a, h.x = d, h.y = c, h) : new ba(a, d, c)
    }

    function d(a, d, c) {
        this.bq = a;
        this.x = d;
        this.y = c;
        this.mc = new ma
    }

    function h(a, d, c) {
        var h;
        return x.length ? (h = x.pop(), h.bq = a, h.x = d, h.y = c, h) : new na(a, d, c)
    }

    function l(a, d, c) {
        this.bq = a;
        this.x = d;
        this.y = c;
        this.mc = [];
        this.Ai = !0;
        this.bf = new ma;
        this.Bj = !1
    }

    function g(a, d) {
        return a.Ke - d.Ke
    }
    ra = function(a) {
        window.console && window.console.log && window.console.log(a)
    };
    sa = function(a) {
        window.console && window.console.error && window.console.error(a)
    };
    aa = function(a) {
        return a
    };
    ta = function(a) {
        return "undefined" === typeof a
    };
    va = function(a) {
        return "number" === typeof a
    };
    wa = function(a) {
        return "string" === typeof a
    };
    ya = function(a) {
        return 0 < a && 0 === (a - 1 & a)
    };
    za = function(a) {
        --a;
        for (var d = 1; 32 > d; d <<= 1) a = a | a >> d;
        return a + 1
    };
    Aa = function(a) {
        return 0 > a ? -a : a
    };
    Ea = function(a, d) {
        return a > d ? a : d
    };
    Fa = function(a, d) {
        return a < d ? a : d
    };
    Ga = Math.PI;
    Ha = function(a) {
        return 0 <= a ? a | 0 : (a | 0) - 1
    };
    Ja = function(a) {
        var d =
            a | 0;
        return d === a ? d : d + 1
    };
    Ka = function(a, d, c, h, b, u, t, g) {
        var l, f, p, r;
        a < c ? (f = a, l = c) : (f = c, l = a);
        b < t ? (r = b, p = t) : (r = t, p = b);
        if (l < r || f > p) return !1;
        d < h ? (f = d, l = h) : (f = h, l = d);
        u < g ? (r = u, p = g) : (r = g, p = u);
        if (l < r || f > p) return !1;
        l = b - a + t - c;
        f = u - d + g - h;
        a = c - a;
        d = h - d;
        b = t - b;
        u = g - u;
        g = Aa(d * b - u * a);
        return Aa(b * f - u * l) > g ? !1 : Aa(a * f - d * l) <= g
    };
    e.prototype.set = function(a, d, c, h) {
        this.left = a;
        this.top = d;
        this.right = c;
        this.bottom = h
    };
    e.prototype.ei = function(a) {
        this.left = a.left;
        this.top = a.top;
        this.right = a.right;
        this.bottom = a.bottom
    };
    e.prototype.width =
        function() {
            return this.right - this.left
        };
    e.prototype.height = function() {
        return this.bottom - this.top
    };
    e.prototype.offset = function(a, d) {
        this.left += a;
        this.top += d;
        this.right += a;
        this.bottom += d;
        return this
    };
    e.prototype.normalize = function() {
        var a = 0;
        this.left > this.right && (a = this.left, this.left = this.right, this.right = a);
        this.top > this.bottom && (a = this.top, this.top = this.bottom, this.bottom = a)
    };
    e.prototype.NB = function(a) {
        return !(a.right < this.left || a.bottom < this.top || a.left > this.right || a.top > this.bottom)
    };
    e.prototype.OB =
        function(a, d, c) {
            return !(a.right + d < this.left || a.bottom + c < this.top || a.left + d > this.right || a.top + c > this.bottom)
        };
    e.prototype.Fc = function(a, d) {
        return a >= this.left && a <= this.right && d >= this.top && d <= this.bottom
    };
    e.prototype.Pj = function(a) {
        return this.left === a.left && this.top === a.top && this.right === a.right && this.bottom === a.bottom
    };
    La = e;
    m.prototype.cj = function(a) {
        this.ub = a.left;
        this.wb = a.top;
        this.$b = a.right;
        this.ac = a.top;
        this.Ob = a.right;
        this.Pb = a.bottom;
        this.Mb = a.left;
        this.Nb = a.bottom
    };
    m.prototype.jw = function(a,
        d) {
        if (0 === d) this.cj(a);
        else {
            var c = Math.sin(d),
                h = Math.cos(d),
                b = a.left * c,
                u = a.top * c,
                t = a.right * c,
                c = a.bottom * c,
                g = a.left * h,
                l = a.top * h,
                f = a.right * h,
                h = a.bottom * h;
            this.ub = g - u;
            this.wb = l + b;
            this.$b = f - u;
            this.ac = l + t;
            this.Ob = f - c;
            this.Pb = h + t;
            this.Mb = g - c;
            this.Nb = h + b
        }
    };
    m.prototype.offset = function(a, d) {
        this.ub += a;
        this.wb += d;
        this.$b += a;
        this.ac += d;
        this.Ob += a;
        this.Pb += d;
        this.Mb += a;
        this.Nb += d;
        return this
    };
    var M = 0,
        L = 0;
    m.prototype.bt = function(a) {
        k(this.ub, this.$b, this.Ob, this.Mb);
        a.left = M;
        a.right = L;
        k(this.wb, this.ac, this.Pb,
            this.Nb);
        a.top = M;
        a.bottom = L
    };
    m.prototype.Fc = function(a, d) {
        var c = this.ub,
            h = this.wb,
            b = this.$b - c,
            u = this.ac - h,
            t = this.Ob - c,
            g = this.Pb - h,
            l = a - c,
            f = d - h,
            p = b * b + u * u,
            r = b * t + u * g,
            u = b * l + u * f,
            e = t * t + g * g,
            v = t * l + g * f,
            M = 1 / (p * e - r * r),
            b = (e * u - r * v) * M,
            p = (p * v - r * u) * M;
        if (0 <= b && 0 < p && 1 > b + p) return !0;
        b = this.Mb - c;
        u = this.Nb - h;
        p = b * b + u * u;
        r = b * t + u * g;
        u = b * l + u * f;
        M = 1 / (p * e - r * r);
        b = (e * u - r * v) * M;
        p = (p * v - r * u) * M;
        return 0 <= b && 0 < p && 1 > b + p
    };
    m.prototype.Xf = function(a, d) {
        if (d) switch (a) {
            case 0:
                return this.ub;
            case 1:
                return this.$b;
            case 2:
                return this.Ob;
            case 3:
                return this.Mb;
            case 4:
                return this.ub;
            default:
                return this.ub
        } else switch (a) {
            case 0:
                return this.wb;
            case 1:
                return this.ac;
            case 2:
                return this.Pb;
            case 3:
                return this.Nb;
            case 4:
                return this.wb;
            default:
                return this.wb
        }
    };
    m.prototype.Tu = function() {
        return (this.ub + this.$b + this.Ob + this.Mb) / 4
    };
    m.prototype.Uu = function() {
        return (this.wb + this.ac + this.Pb + this.Nb) / 4
    };
    m.prototype.iu = function(a) {
        var d = a.Tu(),
            c = a.Uu();
        if (this.Fc(d, c)) return !0;
        d = this.Tu();
        c = this.Uu();
        if (a.Fc(d, c)) return !0;
        var h, b, u, t, g, l, f, p;
        for (f = 0; 4 > f; f++)
            for (p = 0; 4 > p; p++)
                if (d =
                    this.Xf(f, !0), c = this.Xf(f, !1), h = this.Xf(f + 1, !0), b = this.Xf(f + 1, !1), u = a.Xf(p, !0), t = a.Xf(p, !1), g = a.Xf(p + 1, !0), l = a.Xf(p + 1, !1), Ka(d, c, h, b, u, t, g, l)) return !0;
        return !1
    };
    Ma = m;
    Na = function(a, d) {
        for (var c in d) d.hasOwnProperty(c) && (a[c] = d[c]);
        return a
    };
    Oa = function(a, d) {
        var c, h;
        d = Ha(d);
        if (!(0 > d || d >= a.length)) {
            c = d;
            for (h = a.length - 1; c < h; c++) a[c] = a[c + 1];
            Pa(a, h)
        }
    };
    Pa = function(a, d) {
        a.length = d
    };
    C = function(a) {
        Pa(a, 0)
    };
    Ra = function(a, d) {
        C(a);
        var c, h;
        c = 0;
        for (h = d.length; c < h; ++c) a[c] = d[c]
    };
    Sa = function(a, d) {
        a.push.apply(a,
            d)
    };
    Va = function(a, d) {
        var c, h;
        c = 0;
        for (h = a.length; c < h; ++c)
            if (a[c] === d) return c;
        return -1
    };
    Wa = function(a, d) {
        var c = Va(a, d); - 1 !== c && Oa(a, c)
    };
    Xa = function(a, d, c) {
        return a < d ? d : a > c ? c : a
    };
    Ya = function(a) {
        return a / (180 / Ga)
    };
    Za = function(a) {
        return 180 / Ga * a
    };
    $a = function(a) {
        a %= 360;
        0 > a && (a += 360);
        return a
    };
    bb = function(a) {
        a %= 2 * Ga;
        0 > a && (a += 2 * Ga);
        return a
    };
    cb = function(a) {
        return $a(Za(a))
    };
    db = function(a) {
        return bb(Ya(a))
    };
    eb = function(a, d, c, h) {
        return Math.atan2(h - d, c - a)
    };
    fb = function(a, d) {
        if (a === d) return 0;
        var c = Math.sin(a),
            h = Math.cos(a),
            b = Math.sin(d),
            u = Math.cos(d),
            c = c * b + h * u;
        return 1 <= c ? 0 : -1 >= c ? Ga : Math.acos(c)
    };
    gb = function(a, d, c) {
        var h = Math.sin(a),
            b = Math.cos(a),
            u = Math.sin(d),
            t = Math.cos(d);
        return Math.acos(h * u + b * t) > c ? 0 < b * u - h * t ? bb(a + c) : bb(a - c) : bb(d)
    };
    hb = function(a, d) {
        var c = Math.sin(a),
            h = Math.cos(a),
            b = Math.sin(d),
            u = Math.cos(d);
        return 0 >= h * b - c * u
    };
    ib = function(a, d, c, h, b, u) {
        if (0 === c) return u ? a : d;
        var t = Math.sin(c);
        c = Math.cos(c);
        a -= h;
        d -= b;
        var g = a * t;
        a = a * c - d * t;
        d = d * c + g;
        return u ? a + h : d + b
    };
    jb = function(a, d, c, h) {
        a = c - a;
        d = h - d;
        return Math.sqrt(a *
            a + d * d)
    };
    kb = function(a, d) {
        return !a !== !d
    };
    lb = function(a) {
        for (var d in a)
            if (a.hasOwnProperty(d)) return !0;
        return !1
    };
    mb = function(a) {
        for (var d in a) a.hasOwnProperty(d) && delete a[d]
    };
    var w = +new Date;
    nb = function() {
        if ("undefined" !== typeof window.performance) {
            var a = window.performance;
            if ("undefined" !== typeof a.now) return a.now();
            if ("undefined" !== typeof a.webkitNow) return a.webkitNow();
            if ("undefined" !== typeof a.mozNow) return a.mozNow();
            if ("undefined" !== typeof a.msNow) return a.msNow()
        }
        return Date.now() - w
    };
    var p = !1,
        r = p = !1,
        G = !1;
    "undefined" !== typeof window && (p = /chrome/i.test(navigator.userAgent) || /chromium/i.test(navigator.userAgent), p = !p && /safari/i.test(navigator.userAgent), r = /(iphone|ipod|ipad)/i.test(navigator.userAgent), G = window.c2ejecta);
    var v = !p && !G && !r && "undefined" !== typeof Set && "undefined" !== typeof Set.prototype.forEach;
    n.prototype.contains = function(a) {
        return this.Af() ? !1 : v ? this.ff.has(a) : this.items && this.items.hasOwnProperty(a)
    };
    n.prototype.add = function(a) {
        if (v) this.ff.has(a) || (this.ff.add(a), this.Zf = !1);
        else {
            var d = a.toString(),
                c = this.items;
            c ? c.hasOwnProperty(d) || (c[d] = a, this.ok++, this.Zf = !1) : (this.items = {}, this.items[d] = a, this.ok = 1, this.Zf = !1)
        }
    };
    n.prototype.remove = function(a) {
        if (!this.Af())
            if (v) this.ff.has(a) && (this.ff["delete"](a), this.Zf = !1);
            else if (this.items) {
            a = a.toString();
            var d = this.items;
            d.hasOwnProperty(a) && (delete d[a], this.ok--, this.Zf = !1)
        }
    };
    n.prototype.clear = function() {
        this.Af() || (v ? this.ff.clear() : (this.items = null, this.ok = 0), C(this.wj), this.Zf = !0)
    };
    n.prototype.Af = function() {
        return 0 ===
            this.count()
    };
    n.prototype.count = function() {
        return v ? this.ff.size : this.ok
    };
    var z = null,
        R = 0;
    n.prototype.UD = function() {
        if (!this.Zf) {
            if (v) C(this.wj), z = this.wj, R = 0, this.ff.forEach(b), z = null, R = 0;
            else {
                var a = this.wj;
                C(a);
                var d, c = 0,
                    h = this.items;
                if (h)
                    for (d in h) h.hasOwnProperty(d) && (a[c++] = h[d])
            }
            this.Zf = !0
        }
    };
    n.prototype.Pg = function() {
        this.UD();
        return this.wj
    };
    ma = n;
    new ma;
    ob = function(a, d) {
        v ? pb(a, d.ff) : qb(a, d.Pg())
    };
    pb = function(a, d) {
        var c, h, b, u;
        h = c = 0;
        for (b = a.length; c < b; ++c) u = a[c], d.has(u) || (a[h++] = u);
        Pa(a, h)
    };
    qb = function(a, d) {
        var c, h, b, u;
        h = c = 0;
        for (b = a.length; c < b; ++c) u = a[c], -1 === Va(d, u) && (a[h++] = u);
        Pa(a, h)
    };
    q.prototype.add = function(a) {
        this.y = a - this.Ej;
        this.Oc = this.Ca + this.y;
        this.Ej = this.Oc - this.Ca - this.y;
        this.Ca = this.Oc
    };
    q.prototype.reset = function() {
        this.Ca = this.Oc = this.y = this.Ej = 0
    };
    rb = q;
    sb = function(a) {
        return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&")
    };
    f.prototype.ml = function(a) {
        this.Jv = a;
        this.le = a.length / 2;
        this.Ib.length = a.length;
        this.Xl = this.Yl = -1;
        this.et = 0
    };
    f.prototype.vh = function() {
        return !this.Jv.length
    };
    f.prototype.Wa = function() {
        for (var a = this.Ib, d = a[0], c = d, h = a[1], b = h, u, t, g = 1, l = this.le; g < l; ++g) t = 2 * g, u = a[t], t = a[t + 1], u < d && (d = u), u > c && (c = u), t < h && (h = t), t > b && (b = t);
        this.Sl = d;
        this.Tl = c;
        this.Ul = h;
        this.Rl = b
    };
    f.prototype.cj = function(a, d, c) {
        this.Ib.length = 8;
        this.le = 4;
        var h = this.Ib;
        h[0] = a.left - d;
        h[1] = a.top - c;
        h[2] = a.right - d;
        h[3] = a.top - c;
        h[4] = a.right - d;
        h[5] = a.bottom - c;
        h[6] = a.left - d;
        h[7] = a.bottom - c;
        this.Yl = a.right - a.left;
        this.Xl = a.bottom - a.top;
        this.Wa()
    };
    f.prototype.bj = function(a, d, c, h, b) {
        this.Ib.length = 8;
        this.le =
            4;
        var u = this.Ib;
        u[0] = a.ub - d;
        u[1] = a.wb - c;
        u[2] = a.$b - d;
        u[3] = a.ac - c;
        u[4] = a.Ob - d;
        u[5] = a.Pb - c;
        u[6] = a.Mb - d;
        u[7] = a.Nb - c;
        this.Yl = h;
        this.Xl = b;
        this.Wa()
    };
    f.prototype.iw = function(a) {
        this.le = a.le;
        Ra(this.Ib, a.Ib);
        this.Sl = a.Sl;
        this.Ul - a.Ul;
        this.Tl = a.Tl;
        this.Rl = a.Rl
    };
    f.prototype.Zg = function(a, d, c) {
        if (this.Yl !== a || this.Xl !== d || this.et !== c) {
            this.Yl = a;
            this.Xl = d;
            this.et = c;
            var h, b, u, t, g, l = 0,
                f = 1,
                p = this.Jv,
                r = this.Ib;
            0 !== c && (l = Math.sin(c), f = Math.cos(c));
            c = 0;
            for (u = this.le; c < u; c++) h = 2 * c, b = h + 1, t = p[h] * a, g = p[b] * d, r[h] = t * f - g *
                l, r[b] = g * f + t * l;
            this.Wa()
        }
    };
    f.prototype.Fc = function(a, d) {
        var c = this.Ib;
        if (a === c[0] && d === c[1]) return !0;
        var h, b, u, t = this.le,
            g = this.Sl - 110,
            l = this.Ul - 101,
            f = this.Tl + 131,
            p = this.Rl + 120,
            r, e, v = 0,
            M = 0;
        for (h = 0; h < t; h++) b = 2 * h, u = (h + 1) % t * 2, r = c[b], b = c[b + 1], e = c[u], u = c[u + 1], Ka(g, l, a, d, r, b, e, u) && v++, Ka(f, p, a, d, r, b, e, u) && M++;
        return 1 === v % 2 || 1 === M % 2
    };
    f.prototype.ck = function(a, d, c) {
        var h = a.Ib,
            b = this.Ib;
        if (this.Fc(h[0] + d, h[1] + c) || a.Fc(b[0] - d, b[1] - c)) return !0;
        var u, t, g, l, f, p, r, e, v, M, w, z;
        u = 0;
        for (l = this.le; u < l; u++)
            for (t = 2 * u,
                g = (u + 1) % l * 2, e = b[t], t = b[t + 1], v = b[g], M = b[g + 1], g = 0, r = a.le; g < r; g++)
                if (f = 2 * g, p = (g + 1) % r * 2, w = h[f] + d, f = h[f + 1] + c, z = h[p] + d, p = h[p + 1] + c, Ka(e, t, v, M, w, f, z, p)) return !0;
        return !1
    };
    xb = f;
    a.prototype.jg = function(a, d, c) {
        var h;
        h = this.cells[a];
        return h ? (h = h[d]) ? h : c ? (h = t(this, a, d), this.cells[a][d] = h) : null : c ? (h = t(this, a, d), this.cells[a] = {}, this.cells[a][d] = h) : null
    };
    a.prototype.Xc = function(a) {
        return Ha(a / this.jp)
    };
    a.prototype.Yc = function(a) {
        return Ha(a / this.ip)
    };
    a.prototype.update = function(a, d, c) {
        var h, b, u, t, g;
        if (d)
            for (h =
                d.left, b = d.right; h <= b; ++h)
                for (u = d.top, t = d.bottom; u <= t; ++u)
                    if (!c || !c.Fc(h, u))
                        if (g = this.jg(h, u, !1)) g.remove(a), g.Af() && (g.mc.clear(), 1E3 > K.length && K.push(g), this.cells[h][u] = null);
        if (c)
            for (h = c.left, b = c.right; h <= b; ++h)
                for (u = c.top, t = c.bottom; u <= t; ++u) d && d.Fc(h, u) || this.jg(h, u, !0).ng(a)
    };
    a.prototype.Sn = function(a, d) {
        var c, h, b, u, t, g;
        c = this.Xc(a.left);
        b = this.Yc(a.top);
        h = this.Xc(a.right);
        for (t = this.Yc(a.bottom); c <= h; ++c)
            for (u = b; u <= t; ++u)(g = this.jg(c, u, !1)) && g.dump(d)
    };
    yb = a;
    c.prototype.jg = function(a, d, c) {
        var b;
        b = this.cells[a];
        return b ? (b = b[d]) ? b : c ? (b = h(this, a, d), this.cells[a][d] = b) : null : c ? (b = h(this, a, d), this.cells[a] = {}, this.cells[a][d] = b) : null
    };
    c.prototype.Xc = function(a) {
        return Ha(a / this.jp)
    };
    c.prototype.Yc = function(a) {
        return Ha(a / this.ip)
    };
    c.prototype.update = function(a, d, c) {
        var h, b, u, t, g;
        if (d)
            for (h = d.left, b = d.right; h <= b; ++h)
                for (u = d.top, t = d.bottom; u <= t; ++u)
                    if (!c || !c.Fc(h, u))
                        if (g = this.jg(h, u, !1)) g.remove(a), g.Af() && (g.reset(), 1E3 > x.length && x.push(g), this.cells[h][u] = null);
        if (c)
            for (h = c.left, b = c.right; h <=
                b; ++h)
                for (u = c.top, t = c.bottom; u <= t; ++u) d && d.Fc(h, u) || this.jg(h, u, !0).ng(a)
    };
    c.prototype.Sn = function(a, d, c, h, b) {
        var u, t;
        a = this.Xc(a);
        d = this.Yc(d);
        c = this.Xc(c);
        for (u = this.Yc(h); a <= c; ++a)
            for (h = d; h <= u; ++h)(t = this.jg(a, h, !1)) && t.dump(b)
    };
    c.prototype.kC = function(a) {
        var d, c, h, b, u;
        d = a.left;
        h = a.top;
        c = a.right;
        for (b = a.bottom; d <= c; ++d)
            for (a = h; a <= b; ++a)
                if (u = this.jg(d, a, !1)) u.Ai = !1
    };
    zb = c;
    var K = [];
    d.prototype.Af = function() {
        return this.mc.Af()
    };
    d.prototype.ng = function(a) {
        this.mc.add(a)
    };
    d.prototype.remove = function(a) {
        this.mc.remove(a)
    };
    d.prototype.dump = function(a) {
        Sa(a, this.mc.Pg())
    };
    ba = d;
    var x = [];
    l.prototype.Af = function() {
        if (!this.mc.length) return !0;
        if (this.mc.length > this.bf.count()) return !1;
        this.Jp();
        return !0
    };
    l.prototype.ng = function(a) {
        this.bf.contains(a) ? (this.bf.remove(a), this.bf.Af() && (this.Bj = !1)) : this.mc.length ? (this.mc[this.mc.length - 1].We() > a.We() && (this.Ai = !1), this.mc.push(a)) : (this.mc.push(a), this.Ai = !0)
    };
    l.prototype.remove = function(a) {
        this.bf.add(a);
        this.Bj = !0;
        30 <= this.bf.count() && this.Jp()
    };
    l.prototype.Jp = function() {
        this.Bj &&
            (this.bf.count() === this.mc.length ? this.reset() : (ob(this.mc, this.bf), this.bf.clear(), this.Bj = !1))
    };
    l.prototype.oA = function() {
        this.Ai || (this.mc.sort(g), this.Ai = !0)
    };
    l.prototype.reset = function() {
        C(this.mc);
        this.Ai = !0;
        this.bf.clear();
        this.Bj = !1
    };
    l.prototype.dump = function(a) {
        this.Jp();
        this.oA();
        this.mc.length && a.push(this.mc)
    };
    na = l;
    var A = "lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
    Ab = function(a) {
        return 0 >= a || 11 <= a ? "source-over" :
            A[a - 1]
    };
    Bb = function(a, d, c) {
        if (c) switch (a.Mc = c.ONE, a.Hc = c.ONE_MINUS_SRC_ALPHA, d) {
            case 1:
                a.Mc = c.ONE;
                a.Hc = c.ONE;
                break;
            case 3:
                a.Mc = c.ONE;
                a.Hc = c.ZERO;
                break;
            case 4:
                a.Mc = c.ONE_MINUS_DST_ALPHA;
                a.Hc = c.ONE;
                break;
            case 5:
                a.Mc = c.DST_ALPHA;
                a.Hc = c.ZERO;
                break;
            case 6:
                a.Mc = c.ZERO;
                a.Hc = c.SRC_ALPHA;
                break;
            case 7:
                a.Mc = c.ONE_MINUS_DST_ALPHA;
                a.Hc = c.ZERO;
                break;
            case 8:
                a.Mc = c.ZERO;
                a.Hc = c.ONE_MINUS_SRC_ALPHA;
                break;
            case 9:
                a.Mc = c.DST_ALPHA;
                a.Hc = c.ONE_MINUS_SRC_ALPHA;
                break;
            case 10:
                a.Mc = c.ONE_MINUS_DST_ALPHA, a.Hc = c.SRC_ALPHA
        }
    };
    Cb = function(a) {
        return Math.round(1E6 * a) / 1E6
    };
    Db = function(a, d) {
        return "string" !== typeof a || "string" !== typeof d || a.length !== d.length ? !1 : a === d ? !0 : a.toLowerCase() === d.toLowerCase()
    };
    Eb = function(a) {
        a = a.target;
        return !a || a === document || a === window || document && document.body && a === document.body || Db(a.tagName, "canvas") ? !0 : !1
    }
})();
var Oc = "undefined" !== typeof Float32Array ? Float32Array : Array;

function Pc(e) {
    var m = new Oc(3);
    e && (m[0] = e[0], m[1] = e[1], m[2] = e[2]);
    return m
}

function Qc(e) {
    var m = new Oc(16);
    e && (m[0] = e[0], m[1] = e[1], m[2] = e[2], m[3] = e[3], m[4] = e[4], m[5] = e[5], m[6] = e[6], m[7] = e[7], m[8] = e[8], m[9] = e[9], m[10] = e[10], m[11] = e[11], m[12] = e[12], m[13] = e[13], m[14] = e[14], m[15] = e[15]);
    return m
}

function Rc(e, m) {
    m[0] = e[0];
    m[1] = e[1];
    m[2] = e[2];
    m[3] = e[3];
    m[4] = e[4];
    m[5] = e[5];
    m[6] = e[6];
    m[7] = e[7];
    m[8] = e[8];
    m[9] = e[9];
    m[10] = e[10];
    m[11] = e[11];
    m[12] = e[12];
    m[13] = e[13];
    m[14] = e[14];
    m[15] = e[15]
}

function Sc(e, m) {
    var k = m[0],
        n = m[1];
    m = m[2];
    e[0] *= k;
    e[1] *= k;
    e[2] *= k;
    e[3] *= k;
    e[4] *= n;
    e[5] *= n;
    e[6] *= n;
    e[7] *= n;
    e[8] *= m;
    e[9] *= m;
    e[10] *= m;
    e[11] *= m
}

function Tc(e, m, k, n) {
    n || (n = Qc());
    var b, q, f, a, c, t, d, h, l = e[0],
        g = e[1];
    e = e[2];
    q = k[0];
    f = k[1];
    b = k[2];
    k = m[1];
    t = m[2];
    l === m[0] && g === k && e === t ? (e = n, e[0] = 1, e[1] = 0, e[2] = 0, e[3] = 0, e[4] = 0, e[5] = 1, e[6] = 0, e[7] = 0, e[8] = 0, e[9] = 0, e[10] = 1, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1) : (k = l - m[0], t = g - m[1], d = e - m[2], h = 1 / Math.sqrt(k * k + t * t + d * d), k *= h, t *= h, d *= h, m = f * d - b * t, b = b * k - q * d, q = q * t - f * k, (h = Math.sqrt(m * m + b * b + q * q)) ? (h = 1 / h, m *= h, b *= h, q *= h) : q = b = m = 0, f = t * q - d * b, a = d * m - k * q, c = k * b - t * m, (h = Math.sqrt(f * f + a * a + c * c)) ? (h = 1 / h, f *= h, a *= h, c *= h) : c = a = f = 0,
        n[0] = m, n[1] = f, n[2] = k, n[3] = 0, n[4] = b, n[5] = a, n[6] = t, n[7] = 0, n[8] = q, n[9] = c, n[10] = d, n[11] = 0, n[12] = -(m * l + b * g + q * e), n[13] = -(f * l + a * g + c * e), n[14] = -(k * l + t * g + d * e), n[15] = 1)
}
(function() {
    function e(a, c, b) {
        this.pg = /msie/i.test(navigator.userAgent) || /trident/i.test(navigator.userAgent);
        this.height = this.width = 0;
        this.gb = !!b;
        this.Rm = this.fk = !1;
        this.wp = 0;
        this.No = 1;
        this.os = 1E3;
        this.dE = (this.os - this.No) / 32768;
        this.gp = Pc([0, 0, 100]);
        this.Cu = Pc([0, 0, 0]);
        this.Mw = Pc([0, 1, 0]);
        this.El = Pc([1, 1, 1]);
        this.At = !0;
        this.sn = Qc();
        this.Kd = Qc();
        this.Bq = Qc();
        this.vp = Qc();
        this.J = a;
        this.version = 0 === this.J.getParameter(this.J.VERSION).indexOf("WebGL 2") ? 2 : 1;
        this.du()
    }

    function m(a, c, b) {
        this.J = a;
        this.nl =
            c;
        this.name = b;
        this.he = a.getAttribLocation(c, "aPos");
        this.yg = a.getAttribLocation(c, "aTex");
        this.zu = a.getUniformLocation(c, "matP");
        this.ln = a.getUniformLocation(c, "matMV");
        this.Ii = a.getUniformLocation(c, "opacity");
        this.Lq = a.getUniformLocation(c, "colorFill");
        this.Au = a.getUniformLocation(c, "samplerFront");
        this.Dk = a.getUniformLocation(c, "samplerBack");
        this.Dh = a.getUniformLocation(c, "destStart");
        this.Ch = a.getUniformLocation(c, "destEnd");
        this.Fk = a.getUniformLocation(c, "seconds");
        this.Nq = a.getUniformLocation(c,
            "pixelWidth");
        this.Mq = a.getUniformLocation(c, "pixelHeight");
        this.Ck = a.getUniformLocation(c, "layerScale");
        this.Bk = a.getUniformLocation(c, "layerAngle");
        this.Gk = a.getUniformLocation(c, "viewOrigin");
        this.Ek = a.getUniformLocation(c, "scrollPos");
        this.HB = !!(this.Nq || this.Mq || this.Fk || this.Dk || this.Dh || this.Ch || this.Ck || this.Bk || this.Gk || this.Ek);
        this.Lu = this.Mu = -999;
        this.rn = 1;
        this.Hu = this.Gu = 0;
        this.Ju = this.Fu = this.Eu = 1;
        this.Pu = this.Ou = this.Nu = this.Ru = this.Qu = this.Iu = 0;
        this.Aq = [];
        this.Ku = Qc();
        this.Ii && a.uniform1f(this.Ii,
            1);
        this.Lq && a.uniform4f(this.Lq, 1, 1, 1, 1);
        this.Au && a.uniform1i(this.Au, 0);
        this.Dk && a.uniform1i(this.Dk, 1);
        this.Dh && a.uniform2f(this.Dh, 0, 0);
        this.Ch && a.uniform2f(this.Ch, 1, 1);
        this.Ck && a.uniform1f(this.Ck, 1);
        this.Bk && a.uniform1f(this.Bk, 0);
        this.Gk && a.uniform2f(this.Gk, 0, 0);
        this.Ek && a.uniform2f(this.Ek, 0, 0);
        this.Fk && a.uniform1f(this.Fk, 0);
        this.nh = !1
    }

    function k(a, c) {
        return a[0] === c[0] && a[1] === c[1] && a[2] === c[2] && a[3] === c[3] && a[4] === c[4] && a[5] === c[5] && a[6] === c[6] && a[7] === c[7] && a[8] === c[8] && a[9] === c[9] &&
            a[10] === c[10] && a[11] === c[11] && a[12] === c[12] && a[13] === c[13] && a[14] === c[14] && a[15] === c[15]
    }

    function n(a, c) {
        this.type = a;
        this.F = c;
        this.J = c.J;
        this.de = this.Nc = this.tv = 0;
        this.ra = this.oe = null;
        this.kw = []
    }
    var b = Qc();
    e.prototype.du = function() {
        var a = this.J,
            c;
        this.pu = 1;
        this.yh = this.xh = null;
        this.lm = 1;
        a.clearColor(0, 0, 0, 0);
        a.clear(a.COLOR_BUFFER_BIT);
        a.enable(a.BLEND);
        a.blendFunc(a.ONE, a.ONE_MINUS_SRC_ALPHA);
        a.disable(a.CULL_FACE);
        a.disable(a.STENCIL_TEST);
        a.disable(a.DITHER);
        this.gb ? (a.enable(a.DEPTH_TEST), a.depthFunc(a.LEQUAL)) :
            a.disable(a.DEPTH_TEST);
        this.qu = a.ONE;
        this.ou = a.ONE_MINUS_SRC_ALPHA;
        this.Ho = new Float32Array(8E3 * (this.gb ? 3 : 2));
        this.ro = new Float32Array(16E3);
        this.nr = new Float32Array(32E3);
        this.mr = a.createBuffer();
        a.bindBuffer(a.ARRAY_BUFFER, this.mr);
        a.bufferData(a.ARRAY_BUFFER, this.nr.byteLength, a.DYNAMIC_DRAW);
        this.Dl = Array(4);
        this.tl = Array(4);
        for (c = 0; 4 > c; c++) this.Dl[c] = a.createBuffer(), a.bindBuffer(a.ARRAY_BUFFER, this.Dl[c]), a.bufferData(a.ARRAY_BUFFER, this.Ho.byteLength, a.DYNAMIC_DRAW), this.tl[c] = a.createBuffer(),
            a.bindBuffer(a.ARRAY_BUFFER, this.tl[c]), a.bufferData(a.ARRAY_BUFFER, this.ro.byteLength, a.DYNAMIC_DRAW);
        this.sf = 0;
        this.LB = a.createBuffer();
        a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this.LB);
        for (var b = new Uint16Array(12E3), d = c = 0; 12E3 > c;) b[c++] = d, b[c++] = d + 1, b[c++] = d + 2, b[c++] = d, b[c++] = d + 2, b[c++] = d + 3, d += 4;
        a.bufferData(a.ELEMENT_ARRAY_BUFFER, b, a.STATIC_DRAW);
        this.Vi = this.hj = this.Pf = 0;
        this.sb = [];
        c = this.gb ? "attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}" :
            "attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";
        b = this.Hj({
            src: "varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"
        }, c, "<default>");
        this.sb.push(b);
        b = this.Hj({
                src: "uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"
            },
            "attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}", "<point>");
        this.sb.push(b);
        b = this.Hj({
            src: "varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"
        }, c, "<earlyz>");
        this.sb.push(b);
        b = this.Hj({
                src: "uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"
            },
            c, "<fill>");
        this.sb.push(b);
        for (var h in Uc) Uc.hasOwnProperty(h) && this.sb.push(this.Hj(Uc[h], c, h));
        a.activeTexture(a.TEXTURE0);
        a.bindTexture(a.TEXTURE_2D, null);
        this.qf = [];
        this.Oe = 0;
        this.Ic = this.vc = !1;
        this.ut = this.uk = -1;
        this.gi = null;
        this.Hp = a.createFramebuffer();
        this.pm = this.Un = null;
        this.Ys = !1;
        this.gb && (this.pm = a.createRenderbuffer());
        this.Mg = Pc([0, 0, 0]);
        a = a.getParameter(a.ALIASED_POINT_SIZE_RANGE);
        this.nC = a[0];
        this.Rq = a[1];
        2048 < this.Rq && (this.Rq = 2048);
        this.kd(0)
    };
    m.prototype.es = function(a) {
        k(this.Ku,
            a) || (Rc(a, this.Ku), this.J.uniformMatrix4fv(this.ln, !1, a))
    };
    e.prototype.Hj = function(a, c, b) {
        var d = this.J,
            h = d.createShader(d.FRAGMENT_SHADER);
        d.shaderSource(h, a.src);
        d.compileShader(h);
        if (!d.getShaderParameter(h, d.COMPILE_STATUS)) return d.deleteShader(h), null;
        var l = d.createShader(d.VERTEX_SHADER);
        d.shaderSource(l, c);
        d.compileShader(l);
        if (!d.getShaderParameter(l, d.COMPILE_STATUS)) return d.deleteShader(h), d.deleteShader(l), null;
        c = d.createProgram();
        d.attachShader(c, h);
        d.attachShader(c, l);
        d.linkProgram(c);
        if (!d.getProgramParameter(c, d.LINK_STATUS)) return d.deleteShader(h), d.deleteShader(l), d.deleteProgram(c), null;
        d.useProgram(c);
        d.deleteShader(h);
        d.deleteShader(l);
        b = new m(d, c, b);
        b.Fp = a.Fp || 0;
        b.Gp = a.Gp || 0;
        b.qt = !!a.qt;
        b.Be = !!a.Be;
        b.Ws = !!a.Ws;
        b.ta = a.ta || [];
        a = 0;
        for (h = b.ta.length; a < h; a++) b.ta[a][1] = d.getUniformLocation(c, b.ta[a][0]), b.Aq.push(0), d.uniform1f(b.ta[a][1], 0);
        return b
    };
    e.prototype.Yp = function(a) {
        var c, b;
        c = 0;
        for (b = this.sb.length; c < b; c++)
            if (this.sb[c].name === a) return c;
        return -1
    };
    e.prototype.Qn =
        function(a, c, b) {
            var d = this.Kd,
                h = this.sn,
                l = [0, 0, 0, 0, 0, 0, 0, 0];
            l[0] = d[0] * a + d[4] * c + d[12];
            l[1] = d[1] * a + d[5] * c + d[13];
            l[2] = d[2] * a + d[6] * c + d[14];
            l[3] = d[3] * a + d[7] * c + d[15];
            l[4] = h[0] * l[0] + h[4] * l[1] + h[8] * l[2] + h[12] * l[3];
            l[5] = h[1] * l[0] + h[5] * l[1] + h[9] * l[2] + h[13] * l[3];
            l[6] = h[2] * l[0] + h[6] * l[1] + h[10] * l[2] + h[14] * l[3];
            l[7] = -l[2];
            0 !== l[7] && (l[7] = 1 / l[7], l[4] *= l[7], l[5] *= l[7], l[6] *= l[7], b[0] = (.5 * l[4] + .5) * this.width, b[1] = (.5 * l[5] + .5) * this.height)
        };
    e.prototype.Lh = function(a, c, b) {
        if (this.width !== a || this.height !== c || b) {
            this.hg();
            b = this.J;
            this.width = a;
            this.height = c;
            b.viewport(0, 0, a, c);
            Tc(this.gp, this.Cu, this.Mw, this.Kd);
            if (this.gb) {
                var d = -a / 2;
                a = a / 2;
                var h = c / 2;
                c = -c / 2;
                var l = this.No,
                    g = this.os,
                    f = this.sn;
                f || (f = Qc());
                var e = a - d,
                    w = c - h,
                    p = g - l;
                f[0] = 2 / e;
                f[1] = 0;
                f[2] = 0;
                f[3] = 0;
                f[4] = 0;
                f[5] = 2 / w;
                f[6] = 0;
                f[7] = 0;
                f[8] = 0;
                f[9] = 0;
                f[10] = -2 / p;
                f[11] = 0;
                f[12] = -(d + a) / e;
                f[13] = -(c + h) / w;
                f[14] = -(g + l) / p;
                f[15] = 1;
                this.El[0] = 1;
                this.El[1] = 1
            } else c = a / c, d = this.No, a = this.os, f = this.sn, g = d * Math.tan(45 * Math.PI / 360), c *= g, h = -c, l = -g, f || (f = Qc()), e = c - h, w = g - l, p = a - d, f[0] = 2 * d /
                e, f[1] = 0, f[2] = 0, f[3] = 0, f[4] = 0, f[5] = 2 * d / w, f[6] = 0, f[7] = 0, f[8] = (c + h) / e, f[9] = (g + l) / w, f[10] = -(a + d) / p, f[11] = -1, f[12] = 0, f[13] = 0, f[14] = -(a * d * 2) / p, f[15] = 0, d = [0, 0], a = [0, 0], this.Qn(0, 0, d), this.Qn(1, 1, a), this.El[0] = 1 / (a[0] - d[0]), this.El[1] = -1 / (a[1] - d[1]);
            d = 0;
            for (a = this.sb.length; d < a; d++) h = this.sb[d], h.nh = !1, h.zu && (b.useProgram(h.nl), b.uniformMatrix4fv(h.zu, !1, this.sn));
            b.useProgram(this.sb[this.uk].nl);
            b.bindTexture(b.TEXTURE_2D, null);
            b.activeTexture(b.TEXTURE1);
            b.bindTexture(b.TEXTURE_2D, null);
            b.activeTexture(b.TEXTURE0);
            this.yh = this.xh = null;
            this.pm && (b.bindFramebuffer(b.FRAMEBUFFER, this.Hp), b.bindRenderbuffer(b.RENDERBUFFER, this.pm), b.renderbufferStorage(b.RENDERBUFFER, b.DEPTH_COMPONENT16, this.width, this.height), this.Ys || (b.framebufferRenderbuffer(b.FRAMEBUFFER, b.DEPTH_ATTACHMENT, b.RENDERBUFFER, this.pm), this.Ys = !0), b.bindRenderbuffer(b.RENDERBUFFER, null), b.bindFramebuffer(b.FRAMEBUFFER, null), this.Un = null)
        }
    };
    e.prototype.ef = function() {
        Tc(this.gp, this.Cu, this.Mw, this.Kd);
        Sc(this.Kd, this.El)
    };
    e.prototype.translate = function(a,
        c) {
        if (0 !== a || 0 !== c) {
            this.Mg[0] = a;
            this.Mg[1] = c;
            this.Mg[2] = 0;
            var b = this.Kd,
                d = this.Mg,
                h = d[0],
                f = d[1],
                d = d[2];
            b[12] = b[0] * h + b[4] * f + b[8] * d + b[12];
            b[13] = b[1] * h + b[5] * f + b[9] * d + b[13];
            b[14] = b[2] * h + b[6] * f + b[10] * d + b[14];
            b[15] = b[3] * h + b[7] * f + b[11] * d + b[15]
        }
    };
    e.prototype.scale = function(a, c) {
        if (1 !== a || 1 !== c) this.Mg[0] = a, this.Mg[1] = c, this.Mg[2] = 1, Sc(this.Kd, this.Mg)
    };
    e.prototype.Cr = function(a) {
        if (0 !== a) {
            var c = this.Kd,
                b, d = Math.sin(a);
            a = Math.cos(a);
            var h = c[0],
                f = c[1],
                g = c[2],
                e = c[3],
                k = c[4],
                w = c[5],
                p = c[6],
                r = c[7];
            b ? c !== b && (b[8] =
                c[8], b[9] = c[9], b[10] = c[10], b[11] = c[11], b[12] = c[12], b[13] = c[13], b[14] = c[14], b[15] = c[15]) : b = c;
            b[0] = h * a + k * d;
            b[1] = f * a + w * d;
            b[2] = g * a + p * d;
            b[3] = e * a + r * d;
            b[4] = h * -d + k * a;
            b[5] = f * -d + w * a;
            b[6] = g * -d + p * a;
            b[7] = e * -d + r * a
        }
    };
    e.prototype.Je = function() {
        if (!k(this.Bq, this.Kd)) {
            var a = this.fd();
            a.type = 5;
            a.ra ? Rc(this.Kd, a.ra) : a.ra = Qc(this.Kd);
            Rc(this.Kd, this.Bq);
            this.Ic = this.vc = !1
        }
    };
    e.prototype.ao = function(a) {
        this.gb && (32760 < a && (a = 32760), this.wp = this.gp[2] - this.No - a * this.dE)
    };
    n.prototype.Yz = function() {
        var a = this.J,
            c = this.F;
        0 !==
            this.Nc ? (a.depthMask(!0), a.colorMask(!1, !1, !1, !1), a.disable(a.BLEND), a.bindFramebuffer(a.FRAMEBUFFER, c.Hp), a.framebufferTexture2D(a.FRAMEBUFFER, a.COLOR_ATTACHMENT0, a.TEXTURE_2D, null, 0), a.clear(a.DEPTH_BUFFER_BIT), a.bindFramebuffer(a.FRAMEBUFFER, null), c.Rm = !0) : (a.depthMask(!1), a.colorMask(!0, !0, !0, !0), a.enable(a.BLEND), c.Rm = !1)
    };
    n.prototype.bA = function() {
        this.J.bindTexture(this.J.TEXTURE_2D, this.oe)
    };
    n.prototype.cA = function() {
        var a = this.J;
        a.activeTexture(a.TEXTURE1);
        a.bindTexture(a.TEXTURE_2D, this.oe);
        a.activeTexture(a.TEXTURE0)
    };
    n.prototype.Zz = function() {
        var a = this.tv,
            c = this.F;
        c.lm = a;
        c = c.gi;
        c.Ii && c.rn !== a && (c.rn = a, this.J.uniform1f(c.Ii, a))
    };
    n.prototype.Tz = function() {
        this.J.drawElements(this.J.TRIANGLES, this.de, this.J.UNSIGNED_SHORT, this.Nc)
    };
    n.prototype.Vz = function() {
        this.J.blendFunc(this.Nc, this.de)
    };
    n.prototype.dA = function() {
        var a, c, b, d = this.F.sb,
            h = this.F.ut;
        a = 0;
        for (c = d.length; a < c; a++) b = d[a], a === h && b.ln ? (b.es(this.ra), b.nh = !0) : b.nh = !1;
        Rc(this.ra, this.F.vp)
    };
    n.prototype.Uz = function() {
        var a = this.J,
            c = this.F;
        this.oe ? (c.yh === this.oe && (a.activeTexture(a.TEXTURE1), a.bindTexture(a.TEXTURE_2D, null), c.yh = null, a.activeTexture(a.TEXTURE0)), a.bindFramebuffer(a.FRAMEBUFFER, c.Hp), c.Rm || a.framebufferTexture2D(a.FRAMEBUFFER, a.COLOR_ATTACHMENT0, a.TEXTURE_2D, this.oe, 0)) : (c.gb || a.framebufferTexture2D(a.FRAMEBUFFER, a.COLOR_ATTACHMENT0, a.TEXTURE_2D, null, 0), a.bindFramebuffer(a.FRAMEBUFFER, null))
    };
    n.prototype.Pz = function() {
        var a = this.J,
            c = this.Nc;
        0 === c ? (a.clearColor(this.ra[0], this.ra[1], this.ra[2], this.ra[3]), a.clear(a.COLOR_BUFFER_BIT)) :
            1 === c ? (a.enable(a.SCISSOR_TEST), a.scissor(this.ra[0], this.ra[1], this.ra[2], this.ra[3]), a.clearColor(0, 0, 0, 0), a.clear(a.COLOR_BUFFER_BIT), a.disable(a.SCISSOR_TEST)) : a.clear(a.DEPTH_BUFFER_BIT)
    };
    n.prototype.Xz = function() {
        var a = this.J;
        0 !== this.Nc ? a.enable(a.DEPTH_TEST) : a.disable(a.DEPTH_TEST)
    };
    n.prototype.Sz = function() {
        var a = this.J,
            c = this.F;
        c.gb && a.disable(a.DEPTH_TEST);
        var b = c.sb[1];
        a.useProgram(b.nl);
        !b.nh && b.ln && (b.es(c.vp), b.nh = !0);
        a.enableVertexAttribArray(b.he);
        a.bindBuffer(a.ARRAY_BUFFER, c.mr);
        a.vertexAttribPointer(b.he, 4, a.FLOAT, !1, 0, 0);
        a.drawArrays(a.POINTS, this.Nc / 4, this.de);
        b = c.gi;
        a.useProgram(b.nl);
        0 <= b.he && (a.enableVertexAttribArray(b.he), a.bindBuffer(a.ARRAY_BUFFER, c.Dl[c.sf]), a.vertexAttribPointer(b.he, c.gb ? 3 : 2, a.FLOAT, !1, 0, 0));
        0 <= b.yg && (a.enableVertexAttribArray(b.yg), a.bindBuffer(a.ARRAY_BUFFER, c.tl[c.sf]), a.vertexAttribPointer(b.yg, 2, a.FLOAT, !1, 0, 0));
        c.gb && a.enable(a.DEPTH_TEST)
    };
    n.prototype.$z = function() {
        var a = this.J,
            c = this.F,
            b = c.sb[this.Nc];
        c.ut = this.Nc;
        c.gi = b;
        a.useProgram(b.nl);
        !b.nh && b.ln && (b.es(c.vp), b.nh = !0);
        b.Ii && b.rn !== c.lm && (b.rn = c.lm, a.uniform1f(b.Ii, c.lm));
        0 <= b.he && (a.enableVertexAttribArray(b.he), a.bindBuffer(a.ARRAY_BUFFER, c.Dl[c.sf]), a.vertexAttribPointer(b.he, c.gb ? 3 : 2, a.FLOAT, !1, 0, 0));
        0 <= b.yg && (a.enableVertexAttribArray(b.yg), a.bindBuffer(a.ARRAY_BUFFER, c.tl[c.sf]), a.vertexAttribPointer(b.yg, 2, a.FLOAT, !1, 0, 0))
    };
    n.prototype.Wz = function() {
        var a = this.ra;
        this.J.uniform4f(this.F.gi.Lq, a[0], a[1], a[2], a[3])
    };
    n.prototype.aA = function() {
        var a, c, b = this.F.gi,
            d = this.J;
        a =
            this.ra;
        b.Dk && this.F.yh !== this.oe && (d.activeTexture(d.TEXTURE1), d.bindTexture(d.TEXTURE_2D, this.oe), this.F.yh = this.oe, d.activeTexture(d.TEXTURE0));
        var h = a[0];
        b.Nq && h !== b.Mu && (b.Mu = h, d.uniform1f(b.Nq, h));
        h = a[1];
        b.Mq && h !== b.Lu && (b.Lu = h, d.uniform1f(b.Mq, h));
        h = a[2];
        c = a[3];
        !b.Dh || h === b.Gu && c === b.Hu || (b.Gu = h, b.Hu = c, d.uniform2f(b.Dh, h, c));
        h = a[4];
        c = a[5];
        !b.Ch || h === b.Eu && c === b.Fu || (b.Eu = h, b.Fu = c, d.uniform2f(b.Ch, h, c));
        h = a[6];
        b.Ck && h !== b.Ju && (b.Ju = h, d.uniform1f(b.Ck, h));
        h = a[7];
        b.Bk && h !== b.Iu && (b.Iu = h, d.uniform1f(b.Bk,
            h));
        h = a[8];
        c = a[9];
        !b.Gk || h === b.Qu && c === b.Ru || (b.Qu = h, b.Ru = c, d.uniform2f(b.Gk, h, c));
        h = a[10];
        c = a[11];
        !b.Ek || h === b.Nu && c === b.Ou || (b.Nu = h, b.Ou = c, d.uniform2f(b.Ek, h, c));
        h = a[12];
        b.Fk && h !== b.Pu && (b.Pu = h, d.uniform1f(b.Fk, h));
        if (b.ta.length)
            for (a = 0, c = b.ta.length; a < c; a++) h = this.kw[a], h !== b.Aq[a] && (b.Aq[a] = h, d.uniform1f(b.ta[a][1], h))
    };
    e.prototype.fd = function() {
        this.Oe === this.qf.length && this.qf.push(new n(0, this));
        return this.qf[this.Oe++]
    };
    e.prototype.hg = function() {
        if (0 !== this.Oe && !this.J.isContextLost()) {
            var a =
                this.J;
            0 < this.Vi && (a.bindBuffer(a.ARRAY_BUFFER, this.mr), a.bufferSubData(a.ARRAY_BUFFER, 0, this.nr.subarray(0, this.Vi)), b && 0 <= b.he && "<point>" === b.name && a.vertexAttribPointer(b.he, 4, a.FLOAT, !1, 0, 0));
            if (0 < this.Pf) {
                var b = this.gi;
                a.bindBuffer(a.ARRAY_BUFFER, this.Dl[this.sf]);
                a.bufferSubData(a.ARRAY_BUFFER, 0, this.Ho.subarray(0, this.Pf));
                b && 0 <= b.he && "<point>" !== b.name && a.vertexAttribPointer(b.he, this.gb ? 3 : 2, a.FLOAT, !1, 0, 0);
                a.bindBuffer(a.ARRAY_BUFFER, this.tl[this.sf]);
                a.bufferSubData(a.ARRAY_BUFFER, 0, this.ro.subarray(0,
                    this.hj));
                b && 0 <= b.yg && "<point>" !== b.name && a.vertexAttribPointer(b.yg, 2, a.FLOAT, !1, 0, 0)
            }
            for (var f, a = 0, b = this.Oe; a < b; a++) switch (f = this.qf[a], f.type) {
                case 1:
                    f.Tz();
                    break;
                case 2:
                    f.bA();
                    break;
                case 3:
                    f.Zz();
                    break;
                case 4:
                    f.Vz();
                    break;
                case 5:
                    f.dA();
                    break;
                case 6:
                    f.Uz();
                    break;
                case 7:
                    f.Pz();
                    break;
                case 8:
                    f.Sz();
                    break;
                case 9:
                    f.$z();
                    break;
                case 10:
                    f.aA();
                    break;
                case 11:
                    f.cA();
                    break;
                case 12:
                    f.Wz();
                    break;
                case 13:
                    f.Xz();
                    break;
                case 14:
                    f.Yz()
            }
            this.Vi = this.hj = this.Pf = this.Oe = 0;
            this.Rm = this.Ic = this.vc = !1;
            this.sf++;
            4 <= this.sf &&
                (this.sf = 0)
        }
    };
    e.prototype.Kg = function(a) {
        if (a !== this.pu && !this.fk) {
            var b = this.fd();
            b.type = 3;
            this.pu = b.tv = a;
            this.Ic = this.vc = !1
        }
    };
    e.prototype.jd = function(a) {
        if (a !== this.xh) {
            var b = this.fd();
            b.type = 2;
            this.xh = b.oe = a;
            this.Ic = this.vc = !1
        }
    };
    e.prototype.Jg = function(a, b) {
        if ((a !== this.qu || b !== this.ou) && !this.fk) {
            var f = this.fd();
            f.type = 4;
            f.Nc = a;
            f.de = b;
            this.qu = a;
            this.ou = b;
            this.Ic = this.vc = !1
        }
    };
    e.prototype.Xv = function() {
        this.Jg(this.J.ONE, this.J.ONE_MINUS_SRC_ALPHA)
    };
    e.prototype.Wi = function(a, b, f, d, h, l, g, e) {
        15992 <=
            this.Pf && this.hg();
        var k = this.Pf,
            w = this.hj,
            p = this.Ho,
            r = this.ro,
            m = this.wp;
        if (this.vc) this.qf[this.Oe - 1].de += 6;
        else {
            var v = this.fd();
            v.type = 1;
            v.Nc = this.gb ? k : k / 2 * 3;
            v.de = 6;
            this.vc = !0;
            this.Ic = !1
        }
        this.gb ? (p[k++] = a, p[k++] = b, p[k++] = m, p[k++] = f, p[k++] = d, p[k++] = m, p[k++] = h, p[k++] = l, p[k++] = m, p[k++] = g, p[k++] = e, p[k++] = m) : (p[k++] = a, p[k++] = b, p[k++] = f, p[k++] = d, p[k++] = h, p[k++] = l, p[k++] = g, p[k++] = e);
        r[w++] = 0;
        r[w++] = 0;
        r[w++] = 1;
        r[w++] = 0;
        r[w++] = 1;
        r[w++] = 1;
        r[w++] = 0;
        r[w++] = 1;
        this.Pf = k;
        this.hj = w
    };
    e.prototype.cf = function(a, b,
        f, d, h, l, g, e, k) {
        15992 <= this.Pf && this.hg();
        var w = this.Pf,
            p = this.hj,
            r = this.Ho,
            m = this.ro,
            v = this.wp;
        if (this.vc) this.qf[this.Oe - 1].de += 6;
        else {
            var z = this.fd();
            z.type = 1;
            z.Nc = this.gb ? w : w / 2 * 3;
            z.de = 6;
            this.vc = !0;
            this.Ic = !1
        }
        var z = k.left,
            q = k.top,
            n = k.right;
        k = k.bottom;
        this.gb ? (r[w++] = a, r[w++] = b, r[w++] = v, r[w++] = f, r[w++] = d, r[w++] = v, r[w++] = h, r[w++] = l, r[w++] = v, r[w++] = g, r[w++] = e, r[w++] = v) : (r[w++] = a, r[w++] = b, r[w++] = f, r[w++] = d, r[w++] = h, r[w++] = l, r[w++] = g, r[w++] = e);
        m[p++] = z;
        m[p++] = q;
        m[p++] = n;
        m[p++] = q;
        m[p++] = n;
        m[p++] = k;
        m[p++] =
            z;
        m[p++] = k;
        this.Pf = w;
        this.hj = p
    };
    e.prototype.HC = function(a, b, f, d) {
        7996 <= this.Vi && this.hg();
        var h = this.Vi,
            l = this.nr;
        if (this.Ic) this.qf[this.Oe - 1].de++;
        else {
            var g = this.fd();
            g.type = 8;
            g.Nc = h;
            g.de = 1;
            this.Ic = !0;
            this.vc = !1
        }
        l[h++] = a;
        l[h++] = b;
        l[h++] = f;
        l[h++] = d;
        this.Vi = h
    };
    e.prototype.kd = function(a) {
        if (this.uk !== a) {
            if (!this.sb[a]) {
                if (0 === this.uk) return;
                a = 0
            }
            var b = this.fd();
            b.type = 9;
            this.uk = b.Nc = a;
            this.Ic = this.vc = !1
        }
    };
    e.prototype.al = function(a) {
        a = this.sb[a];
        return !(!a.Dh && !a.Ch)
    };
    e.prototype.qr = function(a) {
        a = this.sb[a];
        return !!(a.Dh || a.Ch || a.qt)
    };
    e.prototype.pr = function(a) {
        return this.sb[a].Be
    };
    e.prototype.RC = function(a) {
        a = this.sb[a];
        return 0 !== a.Fp || 0 !== a.Gp
    };
    e.prototype.jB = function(a) {
        return this.sb[a].Fp
    };
    e.prototype.kB = function(a) {
        return this.sb[a].Gp
    };
    e.prototype.lB = function(a, b) {
        return this.sb[a].ta[b][2]
    };
    e.prototype.Pn = function(a) {
        return this.sb[a].Ws
    };
    e.prototype.aj = function(a, b, f, d, h, l, g, e, k, w, p, r, m, v, z) {
        var q = this.sb[this.uk],
            n, x;
        if (q.HB || z.length) {
            n = this.fd();
            n.type = 10;
            n.ra ? Rc(this.Kd, n.ra) : n.ra = Qc();
            x = n.ra;
            x[0] = b;
            x[1] = f;
            x[2] = d;
            x[3] = h;
            x[4] = l;
            x[5] = g;
            x[6] = e;
            x[7] = k;
            x[8] = w;
            x[9] = p;
            x[10] = r;
            x[11] = m;
            x[12] = v;
            q.Dk ? n.oe = a : n.oe = null;
            if (z.length)
                for (f = n.kw, f.length = z.length, a = 0, b = z.length; a < b; a++) f[a] = z[a];
            this.Ic = this.vc = !1
        }
    };
    e.prototype.clear = function(a, b, f, d) {
        var h = this.fd();
        h.type = 7;
        h.Nc = 0;
        h.ra || (h.ra = Qc());
        h.ra[0] = a;
        h.ra[1] = b;
        h.ra[2] = f;
        h.ra[3] = d;
        this.Ic = this.vc = !1
    };
    e.prototype.clearRect = function(a, b, f, d) {
        if (!(0 > f || 0 > d)) {
            var h = this.fd();
            h.type = 7;
            h.Nc = 1;
            h.ra || (h.ra = Qc());
            h.ra[0] = a;
            h.ra[1] = b;
            h.ra[2] = f;
            h.ra[3] =
                d;
            this.Ic = this.vc = !1
        }
    };
    e.prototype.bw = function(a) {
        if (this.gb && (a = !!a, this.fk !== a)) {
            var b = this.fd();
            b.type = 14;
            b.Nc = a ? 1 : 0;
            this.Ic = this.vc = !1;
            this.fk = a;
            this.Un = null;
            this.fk ? this.kd(2) : this.kd(0)
        }
    };
    e.prototype.aw = function(a) {
        if (this.gb) {
            var b = this.fd();
            b.type = 13;
            b.Nc = a ? 1 : 0;
            this.Ic = this.vc = !1
        }
    };
    e.prototype.Jt = function() {
        Rc(this.Bq, b);
        this.ef();
        this.Je();
        var a = this.width / 2,
            c = this.height / 2;
        this.Wi(-a, c, a, c, a, -c, -a, -c);
        Rc(b, this.Kd);
        this.Je()
    };
    e.prototype.$v = function(a, b, f) {
        this.kd(3);
        var d = this.fd();
        d.type =
            12;
        d.ra || (d.ra = Qc());
        d.ra[0] = a;
        d.ra[1] = b;
        d.ra[2] = f;
        d.ra[3] = 1;
        this.Ic = this.vc = !1
    };
    e.prototype.yD = function() {
        this.kd(0)
    };
    e.prototype.hD = function() {
        this.kd(2)
    };
    e.prototype.PC = function() {
        this.hg();
        this.J.flush()
    };
    var q = [],
        f = {};
    e.prototype.Gz = function() {
        C(q);
        f = {}
    };
    e.prototype.vg = function(a, b, e, d) {
        b = !!b;
        e = !!e;
        var h = a.src + "," + b + "," + e + (b ? ",undefined" : ""),
            l = null;
        if ("undefined" !== typeof a.src && f.hasOwnProperty(h)) return l = f[h], l.Wl++, l;
        this.hg();
        var g = this.J,
            k = ya(a.width) && ya(a.height),
            l = g.createTexture();
        g.bindTexture(g.TEXTURE_2D, l);
        g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0);
        var m = g.RGBA,
            w = g.RGBA,
            p = g.UNSIGNED_BYTE;
        if (d && !this.pg) switch (d) {
            case 1:
                w = m = g.RGB;
                break;
            case 2:
                p = g.UNSIGNED_SHORT_4_4_4_4;
                break;
            case 3:
                p = g.UNSIGNED_SHORT_5_5_5_1;
                break;
            case 4:
                w = m = g.RGB, p = g.UNSIGNED_SHORT_5_6_5
        }
        if (1 === this.version && !k && b) {
            d = document.createElement("canvas");
            d.width = za(a.width);
            d.height = za(a.height);
            var r = d.getContext("2d");
            "undefined" !== typeof r.imageSmoothingEnabled ? r.imageSmoothingEnabled = e : (r.webkitImageSmoothingEnabled =
                e, r.mozImageSmoothingEnabled = e, r.msImageSmoothingEnabled = e);
            r.drawImage(a, 0, 0, a.width, a.height, 0, 0, d.width, d.height);
            g.texImage2D(g.TEXTURE_2D, 0, m, w, p, d)
        } else g.texImage2D(g.TEXTURE_2D, 0, m, w, p, a);
        b ? (g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_S, g.REPEAT), g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_T, g.REPEAT)) : (g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_S, g.CLAMP_TO_EDGE), g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_T, g.CLAMP_TO_EDGE));
        e ? (g.texParameteri(g.TEXTURE_2D, g.TEXTURE_MAG_FILTER, g.LINEAR),
            (k || 2 <= this.version) && this.At ? (g.texParameteri(g.TEXTURE_2D, g.TEXTURE_MIN_FILTER, g.LINEAR_MIPMAP_LINEAR), g.generateMipmap(g.TEXTURE_2D)) : g.texParameteri(g.TEXTURE_2D, g.TEXTURE_MIN_FILTER, g.LINEAR)) : (g.texParameteri(g.TEXTURE_2D, g.TEXTURE_MAG_FILTER, g.NEAREST), g.texParameteri(g.TEXTURE_2D, g.TEXTURE_MIN_FILTER, g.NEAREST));
        g.bindTexture(g.TEXTURE_2D, null);
        this.xh = null;
        l.Yg = a.width;
        l.Xg = a.height;
        l.Wl = 1;
        l.dt = h;
        q.push(l);
        return f[h] = l
    };
    e.prototype.Zd = function(a, b, f) {
        var d;
        this.hg();
        var h = this.J;
        this.pg &&
            (d = !1);
        var l = h.createTexture();
        h.bindTexture(h.TEXTURE_2D, l);
        h.texImage2D(h.TEXTURE_2D, 0, h.RGBA, a, b, 0, h.RGBA, d ? h.UNSIGNED_SHORT_4_4_4_4 : h.UNSIGNED_BYTE, null);
        h.texParameteri(h.TEXTURE_2D, h.TEXTURE_WRAP_S, h.CLAMP_TO_EDGE);
        h.texParameteri(h.TEXTURE_2D, h.TEXTURE_WRAP_T, h.CLAMP_TO_EDGE);
        h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MAG_FILTER, f ? h.LINEAR : h.NEAREST);
        h.texParameteri(h.TEXTURE_2D, h.TEXTURE_MIN_FILTER, f ? h.LINEAR : h.NEAREST);
        h.bindTexture(h.TEXTURE_2D, null);
        this.xh = null;
        l.Yg = a;
        l.Xg = b;
        q.push(l);
        return l
    };
    e.prototype.deleteTexture = function(a) {
        a && ("undefined" !== typeof a.Wl && 1 < a.Wl ? a.Wl-- : (this.hg(), a === this.xh && (this.J.bindTexture(this.J.TEXTURE_2D, null), this.xh = null), a === this.yh && (this.J.activeTexture(this.J.TEXTURE1), this.J.bindTexture(this.J.TEXTURE_2D, null), this.J.activeTexture(this.J.TEXTURE0), this.yh = null), Wa(q, a), "undefined" !== typeof a.dt && delete f[a.dt], this.J.deleteTexture(a)))
    };
    e.prototype.me = function(a) {
        if (a !== this.Un) {
            var b = this.fd();
            b.type = 6;
            this.Un = b.oe = a;
            this.Ic = this.vc = !1
        }
    };
    Fb = e
})();
(function() {
    function e(a) {
        if (a && (a.getContext || a.dc) && !a.c2runtime) {
            a.c2runtime = this;
            var d = this;
            this.Qc = (this.ek = /crosswalk/i.test(navigator.userAgent) || /xwalk/i.test(navigator.userAgent) || !("undefined" === typeof window.c2isCrosswalk || !window.c2isCrosswalk)) || "undefined" !== typeof window.device && ("undefined" !== typeof window.device.cordova || "undefined" !== typeof window.device.phonegap) || "undefined" !== typeof window.c2iscordova && window.c2iscordova;
            this.Kc = !!a.dc;
            this.ju = "undefined" !== typeof window.AppMobi ||
                this.Kc;
            this.sd = !!window.c2cocoonjs;
            this.fe = !!window.c2ejecta;
            this.sd && (CocoonJS.App.onSuspended.addEventListener(function() {
                d.setSuspended(!0)
            }), CocoonJS.App.onActivated.addEventListener(function() {
                d.setSuspended(!1)
            }));
            this.fe && (document.addEventListener("pagehide", function() {
                d.setSuspended(!0)
            }), document.addEventListener("pageshow", function() {
                d.setSuspended(!1)
            }), document.addEventListener("resize", function() {
                d.setSize(window.innerWidth, window.innerHeight)
            }));
            this.yb = this.Kc || this.sd || this.fe;
            this.hk =
                /edge\//i.test(navigator.userAgent);
            this.pg = (/msie/i.test(navigator.userAgent) || /trident/i.test(navigator.userAgent) || /iemobile/i.test(navigator.userAgent)) && !this.hk;
            this.xq = /tizen/i.test(navigator.userAgent);
            this.ee = /android/i.test(navigator.userAgent) && !this.xq && !this.pg && !this.hk;
            this.nu = (/iphone/i.test(navigator.userAgent) || /ipod/i.test(navigator.userAgent)) && !this.pg && !this.hk;
            this.aC = /ipad/i.test(navigator.userAgent);
            this.ud = this.nu || this.aC || this.fe;
            this.dk = (/chrome/i.test(navigator.userAgent) ||
                /chromium/i.test(navigator.userAgent)) && !this.pg && !this.hk;
            this.Pm = /amazonwebappplatform/i.test(navigator.userAgent);
            this.SB = /firefox/i.test(navigator.userAgent);
            this.WB = /safari/i.test(navigator.userAgent) && !this.dk && !this.pg && !this.hk;
            this.XB = /windows/i.test(navigator.userAgent);
            this.lu = this.qg = "undefined" !== typeof window.c2nodewebkit || "undefined" !== typeof window.c2nwjs || /nodewebkit/i.test(navigator.userAgent) || /nwjs/i.test(navigator.userAgent);
            this.QB = "undefined" !== typeof window.is_scirra_arcade;
            this.Wm = !("undefined" === typeof window.c2isWindows8 || !window.c2isWindows8);
            this.ZB = !("undefined" === typeof window.c2isWindows8Capable || !window.c2isWindows8Capable);
            this.rg = !("undefined" === typeof window.c2isWindowsPhone8 || !window.c2isWindowsPhone8);
            this.Xm = !("undefined" === typeof window.c2isWindowsPhone81 || !window.c2isWindowsPhone81);
            this.Vm = !!window.cr_windows10;
            this.Um = this.Wm || this.ZB || this.Xm || this.Vm;
            this.Sm = !("undefined" === typeof window.c2isBlackberry10 || !window.c2isBlackberry10);
            this.Qm = this.ee &&
                !this.dk && !this.ek && !this.SB && !this.Pm && !this.yb;
            this.devicePixelRatio = 1;
            this.vi = this.Qc || this.ek || this.ju || this.sd || this.ee || this.ud || this.rg || this.Xm || this.Sm || this.xq || this.fe;
            this.vi || (this.vi = /(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));
            this.lk = !!(this.ud && this.Qc && window.webkit);
            this.hq = null;
            this.JB = "";
            this.lk && (this.hq = cordova && cordova.plugins && cordova.plugins.CorHttpd ? cordova.plugins.CorHttpd : null);
            "undefined" === typeof cr_is_preview ||
                this.qg || "?nw" !== window.location.search && !/nodewebkit/i.test(navigator.userAgent) && !/nwjs/i.test(navigator.userAgent) || (this.qg = !0);
            this.canvas = a;
            this.gt = document.getElementById("c2canvasdiv");
            this.F = this.J = null;
            this.$p = "(unavailable)";
            this.gb = !1;
            this.fh = 0;
            this.jb = null;
            this.Mp = "";
            this.Am = !1;
            this.kv = this.lv = 0;
            this.canvas.oncontextmenu = function(a) {
                a.preventDefault && a.preventDefault();
                return !1
            };
            this.canvas.onselectstart = function(a) {
                a.preventDefault && a.preventDefault();
                return !1
            };
            this.Kc && (window.c2runtime =
                this);
            this.qg && (window.ondragover = function(a) {
                a.preventDefault();
                return !1
            }, window.ondrop = function(a) {
                a.preventDefault();
                return !1
            }, window.nwgui && window.nwgui.App.clearCache && window.nwgui.App.clearCache());
            this.Qm && "undefined" !== typeof jQuery && jQuery("canvas").parents("*").css("overflow", "visible");
            this.width = a.width;
            this.height = a.height;
            this.X = this.width;
            this.W = this.height;
            this.jm = this.width;
            this.Jj = this.height;
            this.Fi = window.innerWidth;
            this.Ei = window.innerHeight;
            this.Ia = !0;
            this.jk = !1;
            Date.now || (Date.now =
                function() {
                    return +new Date
                });
            this.plugins = [];
            this.types = {};
            this.I = [];
            this.mb = [];
            this.Jq = {};
            this.ye = [];
            this.Ep = {};
            this.wf = [];
            this.zj = [];
            this.zo = [];
            this.jz = [];
            this.kz = [];
            this.bh = {};
            this.uq = this.mg = !1;
            this.Hd = 0;
            this.sq = this.wq = !1;
            this.ue = [];
            this.gk = !1;
            this.hn = this.Hr = "";
            this.Vb = null;
            this.Cf = "";
            this.rl = this.ow = !1;
            this.zm = [];
            this.eh = this.gg = 0;
            this.Vu = 30;
            this.sp = this.Hk = 0;
            this.Qh = 1;
            this.kc = new rb;
            this.Qf = new rb;
            this.vn = this.Dm = this.jh = this.Nf = this.Ah = this.Lp = this.cn = 0;
            this.lp = null;
            this.qm = [];
            this.Dp = [];
            this.um = -1;
            this.Oq = [
                []
            ];
            this.as = this.mn = 0;
            this.Rn(null);
            this.Qq = [];
            this.qn = -1;
            this.dv = this.Nk = 0;
            this.Iq = !0;
            this.Rj = 0;
            this.sl = [];
            this.Yr = this.rr = -1;
            this.$m = !0;
            this.Hi = 0;
            this.ik = !1;
            this.FD = 0;
            this.$h = null;
            this.Xe = this.Zt = !1;
            this.jv = new ma;
            this.br = new ma;
            this.cr = new ma;
            this.Tn = [];
            this.Ee = new xb([]);
            this.Xr = new xb([]);
            this.Yh = [];
            this.Zj = {};
            this.bg = {};
            this.Vf = {};
            this.xj = {};
            this.Zs = {};
            this.yu = this.gn = this.Gb = this.Ub = this.xu = this.en = this.Ya = null;
            this.tj = this.yq = !1;
            this.Np = [null, null];
            this.kh = 0;
            this.Ip = "";
            this.Ff = {};
            this.pl = this.wg = null;
            this.qw = "";
            this.un = [];
            this.dD()
        }
    }

    function m(a, d) {
        return 128 >= d ? a[3] : 256 >= d ? a[2] : 512 >= d ? a[1] : a[0]
    }

    function k() {
        try {
            return !!window.indexedDB
        } catch (a) {
            return !1
        }
    }

    function n(a) {
        a.target.result.createObjectStore("saves", {
            keyPath: "slot"
        })
    }

    function b(a, d, b, c) {
        try {
            var h = indexedDB.open("_C2SaveStates");
            h.onupgradeneeded = n;
            h.onerror = c;
            h.onsuccess = function(h) {
                h = h.target.result;
                h.onerror = c;
                h.transaction(["saves"], "readwrite").objectStore("saves").put({
                        slot: a,
                        data: d
                    }).onsuccess =
                    b
            }
        } catch (f) {
            c(f)
        }
    }

    function q(a, d, b) {
        try {
            var c = indexedDB.open("_C2SaveStates");
            c.onupgradeneeded = n;
            c.onerror = b;
            c.onsuccess = function(c) {
                c = c.target.result;
                c.onerror = b;
                var h = c.transaction(["saves"]).objectStore("saves").get(a);
                h.onsuccess = function() {
                    h.result ? d(h.result.data) : d(null)
                }
            }
        } catch (h) {
            b(h)
        }
    }

    function f() {
        ra("Reloading for continuous preview");
        window.c2cocoonjs ? CocoonJS.App.reload() : -1 < window.location.search.indexOf("continuous") ? window.location.reload(!0) : window.location = window.location + "?continuous"
    }

    function a(a) {
        var d, b = {};
        for (d in a) !a.hasOwnProperty(d) || a[d] instanceof ma || a[d] && "undefined" !== typeof a[d].dG || "spriteCreatedDestroyCallback" !== d && (b[d] = a[d]);
        return b
    }
    var c = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame;
    e.prototype.dD = function() {
        var a = this;
        if (this.lk) {
            var d = function() {
                a.TA(function(d) {
                    a.zk(JSON.parse(d))
                }, function() {
                    alert("Error fetching data.js")
                })
            };
            this.hq ? this.hq.startServer({
                port: 0,
                localhost_only: !0
            }, function(b) {
                a.JB = b;
                d()
            }, function(a) {
                console.log("Error starting local server: " + a + ". Video playback will not work.");
                d()
            }) : (console.log("Local server unavailable. Video playback will not work."), d())
        } else {
            var b;
            this.rg ? b = new ActiveXObject("Microsoft.XMLHTTP") : b = new XMLHttpRequest;
            var c = "data.js";
            if (this.Wm || this.rg || this.Xm || this.Vm) c = "data.json";
            b.open("GET", c, !0);
            var h = !1;
            if (!this.yb && "response" in b && "responseType" in b) try {
                b.responseType = "json", h = "json" === b.responseType
            } catch (f) {
                h = !1
            }
            if (!h && "responseType" in b) try {
                b.responseType = "text"
            } catch (g) {}
            if ("overrideMimeType" in b) try {
                b.overrideMimeType("application/json; charset=utf-8")
            } catch (l) {}
            this.rg ? b.onreadystatechange = function() {
                4 === b.readyState && a.zk(JSON.parse(b.responseText))
            } : (b.onload = function() {
                if (h) a.zk(b.response);
                else if (a.fe) {
                    var d = b.responseText,
                        d = d.substr(d.indexOf("{"));
                    a.zk(JSON.parse(d))
                } else a.zk(JSON.parse(b.responseText))
            }, b.onerror = function(a) {
                sa("Error requesting " + c + ":");
                sa(a)
            });
            b.send()
        }
    };
    e.prototype.MB =
        function() {
            var a = this,
                d, b, c, h, f, g, l, p, r;
            this.uh = (!this.yb || this.fe || this.Qc) && this.VD && !this.Qm;
            0 === this.bd && this.ud && (this.uh = !1);
            this.devicePixelRatio = this.uh ? window.devicePixelRatio || window.webkitDevicePixelRatio || window.mozDevicePixelRatio || window.msDevicePixelRatio || 1 : 1;
            this.Dc();
            0 < this.bd && this.setSize(window.innerWidth, window.innerHeight, !0);
            this.canvas.addEventListener("webglcontextlost", function(d) {
                d.preventDefault();
                a.pC();
                ra("[Construct 2] WebGL context lost");
                window.cr_setSuspended(!0)
            }, !1);
            this.canvas.addEventListener("webglcontextrestored", function() {
                a.F.du();
                a.F.Lh(a.F.width, a.F.height, !0);
                a.Ub = null;
                a.Gb = null;
                a.Np[0] = null;
                a.Np[1] = null;
                a.qC();
                a.Ia = !0;
                ra("[Construct 2] WebGL context restored");
                window.cr_setSuspended(!1)
            }, !1);
            try {
                this.mA && (this.sd || this.fe || !this.yb) && (d = {
                    alpha: !0,
                    depth: !1,
                    antialias: !1,
                    powerPreference: "high-performance",
                    failIfMajorPerformanceCaveat: !0
                }, this.J = this.canvas.getContext("webgl2", d) || this.canvas.getContext("webgl", d) || this.canvas.getContext("experimental-webgl",
                    d))
            } catch (e) {}
            if (this.J) {
                if (d = this.J.getExtension("WEBGL_debug_renderer_info")) this.$p = this.J.getParameter(d.UNMASKED_RENDERER_WEBGL) + " [" + this.J.getParameter(d.UNMASKED_VENDOR_WEBGL) + "]";
                this.gb && (this.$p += " [front-to-back enabled]");
                this.yb || (this.xc = document.createElement("canvas"), jQuery(this.xc).appendTo(this.canvas.parentNode), this.xc.oncontextmenu = function() {
                    return !1
                }, this.xc.onselectstart = function() {
                    return !1
                }, this.xc.width = Math.round(this.jm * this.devicePixelRatio), this.xc.height = Math.round(this.Jj *
                    this.devicePixelRatio), jQuery(this.xc).css({
                    width: this.jm + "px",
                    height: this.Jj + "px"
                }), this.Hv(), this.kr = this.xc.getContext("2d"));
                this.F = new Fb(this.J, this.vi, this.gb);
                this.F.Lh(this.canvas.width, this.canvas.height);
                this.F.At = 0 !== this.eA;
                this.jb = null;
                d = 0;
                for (b = this.I.length; d < b; d++)
                    for (f = this.I[d], c = 0, h = f.ga.length; c < h; c++) l = f.ga[c], l.Kb = this.F.Yp(l.id), l.Be = this.F.pr(l.Kb), this.tj = this.tj || this.F.al(l.Kb);
                d = 0;
                for (b = this.ye.length; d < b; d++) {
                    p = this.ye[d];
                    c = 0;
                    for (h = p.ga.length; c < h; c++) l = p.ga[c], l.Kb =
                        this.F.Yp(l.id), l.Be = this.F.pr(l.Kb);
                    p.Ie();
                    c = 0;
                    for (h = p.T.length; c < h; c++) {
                        r = p.T[c];
                        f = 0;
                        for (g = r.ga.length; f < g; f++) l = r.ga[f], l.Kb = this.F.Yp(l.id), l.Be = this.F.pr(l.Kb), this.tj = this.tj || this.F.al(l.Kb);
                        r.Ie()
                    }
                }
            } else {
                if (0 < this.bd && this.Kc) {
                    this.canvas = null;
                    document.oncontextmenu = function() {
                        return !1
                    };
                    document.onselectstart = function() {
                        return !1
                    };
                    this.jb = AppMobi.canvas.getContext("2d");
                    try {
                        this.jb.samplingMode = this.cb ? "smooth" : "sharp", this.jb.globalScale = 1, this.jb.HTML5CompatibilityMode = !0, this.jb.imageSmoothingEnabled =
                            this.cb
                    } catch (t) {}
                    0 !== this.width && 0 !== this.height && (this.jb.width = this.width, this.jb.height = this.height)
                }
                this.jb || (this.sd ? (d = {
                    antialias: !!this.cb,
                    alpha: !0
                }, this.jb = this.canvas.getContext("2d", d)) : (d = {
                    alpha: !0
                }, this.jb = this.canvas.getContext("2d", d)), this.$n(this.jb, this.cb));
                this.kr = this.xc = null
            }
            this.Dw = function(d) {
                a.tb(!1, d)
            };
            window == window.top || this.yb || this.Um || this.rg || (document.addEventListener("mousedown", function() {
                window.focus()
            }, !0), document.addEventListener("touchstart", function() {
                window.focus()
            }, !0));
            "undefined" !== typeof cr_is_preview && (this.sd && console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"), -1 < window.location.search.indexOf("continuous") && (ra("Reloading for continuous preview"), this.hn = "__c2_continuouspreview", this.rl = !0), this.EC && !this.vi && (jQuery(window).focus(function() {
                a.setSuspended(!1)
            }), jQuery(window).blur(function() {
                var d = window.parent;
                d && d.document.hasFocus() || a.setSuspended(!0)
            })));
            window.addEventListener("blur", function() {});
            this.yb || (d = function(a) {
                if (Eb(a) &&
                    document.activeElement && document.activeElement !== document.getElementsByTagName("body")[0] && document.activeElement.blur) try {
                    document.activeElement.blur()
                } catch (d) {}
            }, "undefined" !== typeof PointerEvent ? document.addEventListener("pointerdown", d) : window.navigator.msPointerEnabled ? document.addEventListener("MSPointerDown", d) : document.addEventListener("touchstart", d), document.addEventListener("mousedown", d));
            0 === this.bd && this.uh && 1 < this.devicePixelRatio && this.setSize(this.Xb, this.Wb, !0);
            this.Hw();
            this.zB();
            this.go();
            this.U = {}
        };
    e.prototype.setSize = function(a, d, b) {
        var c = 0,
            h = 0,
            f = 0,
            g = 0,
            g = 0;
        if (this.Fi !== a || this.Ei !== d || b) {
            this.Fi = a;
            this.Ei = d;
            var l = this.bd,
                p = (document.mozFullScreen || document.webkitIsFullScreen || !!document.msFullscreenElement || document.fullScreen || this.ik) && !this.Qc;
            if (p || 0 !== this.bd || b) p && 0 < this.kh && (l = this.kh), b = this.devicePixelRatio, 4 <= l ? (f = this.Xb / this.Wb, a / d > f ? (f *= d, 5 === l ? (g = f * b / this.Xb, 1 < g ? g = Math.floor(g) : 1 > g && (g = 1 / Math.ceil(1 / g)), f = this.Xb * g / b, g = this.Wb * g / b, c = (a - f) / 2, h = (d - g) / 2, a = f,
                    d = g) : (c = (a - f) / 2, a = f)) : (g = a / f, 5 === l ? (g = g * b / this.Wb, 1 < g ? g = Math.floor(g) : 1 > g && (g = 1 / Math.ceil(1 / g)), f = this.Xb * g / b, g = this.Wb * g / b, c = (a - f) / 2, h = (d - g) / 2, a = f) : h = (d - g) / 2, d = g), p && !this.qg && (h = c = 0)) : this.qg && this.ik && 0 === this.Kt && (c = Math.floor((a - this.Xb) / 2), h = Math.floor((d - this.Wb) / 2), a = this.Xb, d = this.Wb), 2 > l && (this.Dj = b), this.jm = Math.round(a), this.Jj = Math.round(d), this.width = Math.round(a * b), this.height = Math.round(d * b), this.Ia = !0, this.Ww ? (this.X = this.width, this.W = this.height, this.Dd = !0) : this.width < this.Xb && this.height <
                this.Wb || 1 === l ? (this.X = this.width, this.W = this.height, this.Dd = !0) : (this.X = this.Xb, this.W = this.Wb, this.Dd = !1, 2 === l ? (f = this.Xb / this.Wb, l = this.Fi / this.Ei, l < f ? this.X = this.W * l : l > f && (this.W = this.X / l)) : 3 === l && (f = this.Xb / this.Wb, l = this.Fi / this.Ei, l > f ? this.X = this.W * l : l < f && (this.W = this.X / l))), this.gt && !this.yb && (jQuery(this.gt).css({
                    width: Math.round(a) + "px",
                    height: Math.round(d) + "px",
                    "margin-left": Math.floor(c) + "px",
                    "margin-top": Math.floor(h) + "px"
                }), "undefined" !== typeof cr_is_preview && jQuery("#borderwrap").css({
                    width: Math.round(a) +
                        "px",
                    height: Math.round(d) + "px"
                })), this.canvas && (this.canvas.width = Math.round(a * b), this.canvas.height = Math.round(d * b), this.fe ? (this.canvas.style.left = Math.floor(c) + "px", this.canvas.style.top = Math.floor(h) + "px", this.canvas.style.width = Math.round(a) + "px", this.canvas.style.height = Math.round(d) + "px") : this.uh && !this.yb && (this.canvas.style.width = Math.round(a) + "px", this.canvas.style.height = Math.round(d) + "px")), this.xc && (this.xc.width = Math.round(a * b), this.xc.height = Math.round(d * b), this.xc.style.width = this.jm +
                    "px", this.xc.style.height = this.Jj + "px"), this.F && this.F.Lh(Math.round(a * b), Math.round(d * b)), this.Kc && this.jb && (this.jb.width = Math.round(a), this.jb.height = Math.round(d)), this.jb && this.$n(this.jb, this.cb), this.Hw(), this.nu && !this.Qc && window.scrollTo(0, 0)
        }
    };
    e.prototype.Hw = function() {
        if (this.pz && 0 !== this.ir) {
            var a = "portrait";
            2 === this.ir && (a = "landscape");
            try {
                screen.orientation && screen.orientation.lock ? screen.orientation.lock(a).catch(function() {}) : screen.lockOrientation ? screen.lockOrientation(a) : screen.webkitLockOrientation ?
                    screen.webkitLockOrientation(a) : screen.mozLockOrientation ? screen.mozLockOrientation(a) : screen.msLockOrientation && screen.msLockOrientation(a)
            } catch (d) {
                console && console.warn && console.warn("Failed to lock orientation: ", d)
            }
        }
    };
    e.prototype.pC = function() {
        this.F.Gz();
        this.yq = !0;
        var a, d, b;
        a = 0;
        for (d = this.I.length; a < d; a++) b = this.I[a], b.Sk && b.Sk()
    };
    e.prototype.qC = function() {
        this.yq = !1;
        var a, d, b;
        a = 0;
        for (d = this.I.length; a < d; a++) b = this.I[a], b.Tk && b.Tk()
    };
    e.prototype.Hv = function() {
        if (!this.yb) {
            var a = (document.mozFullScreen ||
                document.webkitIsFullScreen || document.fullScreen || document.msFullscreenElement || this.ik) && !this.Qc ? jQuery(this.canvas).offset() : jQuery(this.canvas).position();
            a.position = "absolute";
            jQuery(this.xc).css(a)
        }
    };
    var t = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || window.oCancelAnimationFrame;
    e.prototype.setSuspended = function(a) {
        var d;
        if (a && !this.jk)
            for (ra("[Construct 2] Suspending"), this.jk = !0, -1 !== this.rr && t && t(this.rr), -1 !==
                this.Yr && clearTimeout(this.Yr), a = 0, d = this.sl.length; a < d; a++) this.sl[a](!0);
        else if (!a && this.jk) {
            ra("[Construct 2] Resuming");
            this.jk = !1;
            this.cn = nb();
            this.Ah = nb();
            a = this.Hk = this.Dm = 0;
            for (d = this.sl.length; a < d; a++) this.sl[a](!1);
            this.tb(!1)
        }
    };
    e.prototype.Us = function(a) {
        this.sl.push(a)
    };
    e.prototype.Tf = function(a) {
        return this.un[a]
    };
    e.prototype.zk = function(a) {
        a && a.project || sa("Project model unavailable");
        a = a.project;
        this.name = a[0];
        this.It = a[1];
        this.bd = a[12];
        this.Kt = a[12];
        this.Xb = a[10];
        this.Wb = a[11];
        this.Bv =
            this.Xb / 2;
        this.Cv = this.Wb / 2;
        this.yb && !this.fe && (4 <= a[12] || 0 === a[12]) && (ra("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"), this.Kt = this.bd = 3);
        this.js = a[18];
        this.xg = a[19];
        if (0 === this.xg) {
            var d = new Image;
            d.crossOrigin = "anonymous";
            this.dw(d, "loading-logo.png");
            this.wg = {
                pn: d
            }
        } else if (4 === this.xg) {
            d = new Image;
            d.src = "";
            var b = new Image;
            b.src = "";
            var c = new Image;
            c.src = "";
            var h = new Image;
            h.src = "";
            var f = new Image;
            f.src = "";
            var g = new Image;
            g.src =
                "";
            var l = new Image;
            l.src = "";
            var p = new Image;
            p.src = "";
            var r = new Image;
            r.src = "";
            var e = new Image;
            e.src = "";
            var t = new Image;
            t.src = "";
            var v = new Image;
            v.src = "";
            this.wg = {
                pn: [d, b, c, h],
                MC: [f, g, l, p],
                bE: [r, e, t, v]
            }
        }
        this.Nk = a[21];
        this.un = Vc();
        this.gf = new U(this);
        d = 0;
        for (b = a[2].length; d < b; d++) l = a[2][d], c = this.Tf(l[0]), Gb(l, c.prototype), p = new c(this), p.ho = l[1], p.sg = l[2], p.mG = l[5], p.$u = l[9], p.Y && p.Y(), this.plugins.push(p);
        this.un = Vc();
        d = 0;
        for (b = a[3].length; d < b; d++) {
            l = a[3][d];
            f = this.Tf(l[1]);
            p = null;
            c = 0;
            for (h = this.plugins.length; c <
                h; c++)
                if (this.plugins[c] instanceof f) {
                    p = this.plugins[c];
                    break
                }
            r = new p.Fa(p);
            r.name = l[0];
            r.P = l[2];
            r.qq = l[3].slice(0);
            r.XD = l[3].length;
            r.rz = l[4];
            r.YA = l[5];
            r.Ba = l[11];
            r.P ? (r.Li = [], r.xf = this.Rj++, r.kb = null) : (r.Li = null, r.xf = -1, r.kb = []);
            r.xm = null;
            r.li = null;
            r.Bt = null;
            r.Lc = !1;
            r.qd = null;
            l[6] ? (r.ul = l[6][0], r.so = l[6][1], r.Ph = l[6][2]) : (r.ul = null, r.so = 0, r.Ph = 0);
            l[7] ? r.nd = l[7] : r.nd = null;
            r.index = d;
            r.d = [];
            r.nm = [];
            r.Lf = [new Hb(r)];
            r.Te = 0;
            r.ae = null;
            r.Nz = 0;
            r.fj = !0;
            r.Co = Ib;
            r.Up = Jb;
            r.hB = Lb;
            r.ca = Mb;
            r.bl = Yb;
            r.cl = Zb;
            r.Gg =
                $b;
            r.Fm = ac;
            r.Qp = bc;
            r.Tp = cc;
            r.Wd = dc;
            r.Vp = ec;
            r.fm = new yb(this.Xb, this.Wb);
            r.Ol = !0;
            r.Pl = !1;
            r.U = {};
            r.toString = fc;
            r.mb = [];
            c = 0;
            for (h = l[8].length; c < h; c++) {
                e = l[8][c];
                t = this.Tf(e[1]);
                v = null;
                f = 0;
                for (g = this.mb.length; f < g; f++)
                    if (this.mb[f] instanceof t) {
                        v = this.mb[f];
                        break
                    }
                v || (v = new t(this), v.bv = [], v.Xq = new ma, v.Y && v.Y(), this.mb.push(v)); - 1 === v.bv.indexOf(r) && v.bv.push(r);
                f = new v.Fa(v, r);
                f.name = e[0];
                f.Ba = e[2];
                f.Y();
                r.mb.push(f)
            }
            r.global = l[9];
            r.vq = l[10];
            r.ga = [];
            c = 0;
            for (h = l[12].length; c < h; c++) r.ga.push({
                id: l[12][c][0],
                name: l[12][c][1],
                Kb: -1,
                Be: !1,
                G: !0,
                index: c
            });
            r.IG = l[13];
            this.js && !r.P && !r.vq && p.sg || r.Y();
            r.name && (this.types[r.name] = r);
            this.I.push(r);
            p.ho && (c = new p.ua(r), c.uid = this.Nk++, c.Kv = this.dv++, c.ph = 0, c.Xj = gc, c.toString = hc, c.K = l[14], c.Y(), r.d.push(c), this.Ff[c.uid.toString()] = c)
        }
        d = 0;
        for (b = a[4].length; d < b; d++)
            for (f = a[4][d], g = this.I[f[0]], c = 1, h = f.length; c < h; c++) l = this.I[f[c]], l.kb.push(g), g.Li.push(l);
        d = 0;
        for (b = a[28].length; d < b; d++) {
            f = a[28][d];
            g = [];
            c = 0;
            for (h = f.length; c < h; c++) g.push(this.I[f[c]]);
            c = 0;
            for (h =
                g.length; c < h; c++) g[c].Lc = !0, g[c].qd = g
        }
        if (0 < this.Rj)
            for (d = 0, b = this.I.length; d < b; d++)
                if (l = this.I[d], !l.P && l.kb.length) {
                    l.xm = Array(this.Rj);
                    l.li = Array(this.Rj);
                    l.Bt = Array(this.Rj);
                    r = [];
                    c = v = t = e = 0;
                    for (h = l.kb.length; c < h; c++)
                        for (p = l.kb[c], l.xm[p.xf] = e, e += p.XD, l.li[p.xf] = t, t += p.rz, l.Bt[p.xf] = v, v += p.YA, f = 0, g = p.ga.length; f < g; f++) r.push(Na({}, p.ga[f]));
                    l.ga = r.concat(l.ga);
                    c = 0;
                    for (h = l.ga.length; c < h; c++) l.ga[c].index = c
                }
        d = 0;
        for (b = a[5].length; d < b; d++) l = a[5][d], c = new ic(this, l), this.Jq[c.name] = c, this.ye.push(c);
        d = 0;
        for (b = a[6].length; d < b; d++) l = a[6][d], c = new jc(this, l), this.Ep[c.name] = c, this.wf.push(c);
        d = 0;
        for (b = this.wf.length; d < b; d++) this.wf[d].zb();
        d = 0;
        for (b = this.wf.length; d < b; d++) this.wf[d].ds();
        d = 0;
        for (b = this.zo.length; d < b; d++) this.zo[d].zb();
        C(this.zo);
        this.oz = a[7];
        this.Ip = a[8];
        this.Md = a[9];
        this.Dj = 1;
        this.mA = a[13];
        this.cb = a[14];
        this.jt = a[15];
        this.VD = a[17];
        this.ir = a[20];
        this.pz = 0 < this.ir;
        this.EC = a[22];
        this.Dd = this.Ww = a[23];
        this.eA = a[24];
        this.NC = a[25];
        this.gb = a[27] && !this.pg;
        this.mo = Date.now();
        C(this.un);
        this.MB()
    };
    var d = !1;
    e.prototype.Io = function(a, b) {
        a.cocoonLazyLoad = !1;
        a.onerror = function(b) {
            d = a.ct = !0;
            console && console.error && console.error("Error loading image '" + a.src + "': ", b)
        };
        this.fe ? a.src = b : a.src || ("undefined" !== typeof XAPKReader ? XAPKReader.get(b, function(d) {
            a.src = d
        }, function(c) {
            d = a.ct = !0;
            console && console.error && console.error("Error extracting image '" + b + "' from expansion file: ", c)
        }) : (a.crossOrigin = "anonymous", this.dw(a, b)));
        this.zj.push(a)
    };
    e.prototype.VA = function(a) {
        var d, b;
        d = 0;
        for (b = this.zj.length; d <
            b; d++)
            if (this.zj[d].Hz === a) return this.zj[d];
        return null
    };
    var h = 0,
        l = !1;
    e.prototype.zB = function() {
        this.$h && (h = this.$h.wD(this.oz))
    };
    e.prototype.Xs = function() {
        var a = h,
            d = 0,
            b = 0,
            c = !0,
            f, g, b = 0;
        for (f = this.zj.length; b < f; b++) {
            g = this.zj[b];
            var p = g.tp;
            if (!p || 0 >= p) p = 5E4;
            a += p;
            g.src && (g.complete || g.loaded) && !g.ct ? d += p : c = !1
        }
        c && this.NC && this.$h && (l || (this.$h.GD(), l = !0), b = this.$h.iB(), d += b, b < h && (c = !1));
        this.Ce = 0 == a ? 1 : d / a;
        return c
    };
    var g = !1;
    e.prototype.go = function() {
        if (this.jb || this.F) {
            var a = this.jb || this.kr;
            this.xc &&
                this.Hv();
            var b = window.innerWidth,
                h = window.innerHeight;
            this.Fi === b && this.Ei === h || this.setSize(b, h);
            this.Ce = 0;
            this.wu = -1;
            var f = this;
            if (this.Xs() && (4 !== this.xg || g)) this.AB();
            else {
                h = Date.now() - this.mo;
                if (a) {
                    var l = this.width,
                        p = this.height,
                        b = this.devicePixelRatio;
                    if (3 > this.xg && (this.sd || 500 <= h && this.wu != this.Ce)) {
                        a.clearRect(0, 0, l, p);
                        var h = l / 2,
                            p = p / 2,
                            l = 0 === this.xg && this.wg.pn.complete,
                            r = 40 * b,
                            e = 0,
                            v = 80 * b,
                            t;
                        if (l) {
                            var k = this.wg.pn,
                                v = k.width * b;
                            t = k.height * b;
                            r = v / 2;
                            e = t / 2;
                            a.drawImage(k, Ha(h - r), Ha(p - e), v, t)
                        }
                        1 >= this.xg ?
                            (h = Ha(h - r) + .5, p = Ha(p + (e + (l ? 12 * b : 0))) + .5, a.fillStyle = d ? "red" : "DodgerBlue", a.fillRect(h, p, Math.floor(v * this.Ce), 6 * b), a.strokeStyle = "black", a.strokeRect(h, p, v, 6 * b), a.strokeStyle = "white", a.strokeRect(h - 1 * b, p - 1 * b, v + 2 * b, 8 * b)) : 2 === this.xg && (a.font = this.fe ? "12pt ArialMT" : "12pt Arial", a.fillStyle = d ? "#f00" : "#999", a.HG = "middle", b = Math.round(100 * this.Ce) + "%", l = a.measureText ? a.measureText(b) : null, a.fillText(b, h - (l ? l.width : 0) / 2, p));
                        this.wu = this.Ce
                    } else if (4 === this.xg) {
                        this.jA(a);
                        c ? c(function() {
                            f.go()
                        }) : setTimeout(function() {
                                f.go()
                            },
                            16);
                        return
                    }
                }
                setTimeout(function() {
                    f.go()
                }, this.sd ? 10 : 100)
            }
        }
    };
    var M = -1,
        L = "undefined" === typeof cr_is_preview ? 200 : 0,
        w = !0,
        p = !1,
        r = 0,
        G = 0,
        v = "undefined" === typeof cr_is_preview ? 3E3 : 0,
        z = null,
        R = null,
        K = 0;
    e.prototype.jA = function(a) {
        if (!g) {
            for (var b = Math.ceil(this.width), c = Math.ceil(this.height), h = this.wg.pn, f = this.wg.MC, l = this.wg.bE, e = 0; 4 > e; ++e)
                if (!h[e].complete || !f[e].complete || !l[e].complete) return;
            0 === K && (M = Date.now());
            var e = Date.now(),
                t = !1,
                k = a,
                q, n;
            w || p ? (a.clearRect(0, 0, b, c), z && z.width === b && z.height === c || (z =
                document.createElement("canvas"), z.width = b, z.height = c, R = z.getContext("2d")), k = R, t = !0, w && 1 === K && (M = Date.now())) : a.globalAlpha = 1;
            k.fillStyle = "#333333";
            k.fillRect(0, 0, b, c);
            256 < this.Jj ? (q = Xa(.22 * c, 105, .6 * b), n = .25 * q, k.drawImage(m(f, q), .5 * b - q / 2, .2 * c - n / 2, q, n), n = q = Math.min(.395 * c, .95 * b), k.drawImage(m(h, q), .5 * b - q / 2, .485 * c - n / 2, q, n), q = Xa(.22 * c, 105, .6 * b), n = .25 * q, k.drawImage(m(l, q), .5 * b - q / 2, .868 * c - n / 2, q, n), k.fillStyle = "#3C3C3C", q = b, n = Math.max(.005 * c, 2), k.fillRect(0, .8 * c - n / 2, q, n), k.fillStyle = d ? "red" : "#E0FF65",
                q = b * this.Ce, k.fillRect(.5 * b - q / 2, .8 * c - n / 2, q, n)) : (n = q = .55 * c, k.drawImage(m(h, q), .5 * b - q / 2, .45 * c - n / 2, q, n), k.fillStyle = "#3C3C3C", q = b, n = Math.max(.005 * c, 2), k.fillRect(0, .85 * c - n / 2, q, n), k.fillStyle = d ? "red" : "#E0FF65", q = b * this.Ce, k.fillRect(.5 * b - q / 2, .85 * c - n / 2, q, n));
            t && (w ? a.globalAlpha = 0 === K ? 0 : Math.min((e - M) / 300, 1) : p && (a.globalAlpha = Math.max(1 - (e - G) / 300, 0)), a.drawImage(z, 0, 0, b, c));
            w && 300 <= e - M && 2 <= K && (w = !1, r = e);
            !w && e - r >= v && !p && 1 <= this.Ce && (p = !0, G = e);
            if (p && e - G >= 300 + L || "undefined" !== typeof cr_is_preview && 1 <= this.Ce &&
                500 > Date.now() - M) g = !0, p = w = !1, this.wg = R = z = null;
            ++K
        }
    };
    e.prototype.AB = function() {
        this.xc && (this.canvas.parentNode.removeChild(this.xc), this.xc = this.kr = null);
        this.mo = Date.now();
        this.Ah = nb();
        var a, d, b;
        if (this.js)
            for (a = 0, d = this.I.length; a < d; a++) b = this.I[a], b.P || b.vq || !b.Ha.sg || b.Y();
        else this.$m = !1;
        a = 0;
        for (d = this.ye.length; a < d; a++) this.ye[a].Iz();
        2 <= this.bd && (a = this.Xb / this.Wb, d = this.width / this.height, this.Dj = 2 !== this.bd && d > a || 2 === this.bd && d < a ? this.height / this.Wb : this.width / this.Xb);
        this.It ? this.Jq[this.It].Rr() :
            this.ye[0].Rr();
        this.js || (this.Hi = 1, this.trigger(U.prototype.e.us, null), window.C2_RegisterSW && window.C2_RegisterSW());
        navigator.splashscreen && navigator.splashscreen.hide && navigator.splashscreen.hide();
        a = 0;
        for (d = this.I.length; a < d; a++) b = this.I[a], b.mv && b.mv();
        document.hidden || document.webkitHidden || document.mozHidden || document.msHidden ? window.cr_setSuspended(!0) : this.tb(!1);
        this.Kc && AppMobi.webview.execute("onGameReady();")
    };
    e.prototype.tb = function(a, d, b) {
        if (this.Ya) {
            var h = nb();
            if (b || !this.jk || a) {
                a ||
                    (c ? this.rr = c(this.Dw) : this.Yr = setTimeout(this.Dw, this.vi ? 1 : 16));
                d = d || h;
                var f = this.bd;
                ((b = (document.mozFullScreen || document.webkitIsFullScreen || document.fullScreen || !!document.msFullscreenElement) && !this.Qc) || this.ik) && 0 < this.kh && (f = this.kh);
                if (0 < f) {
                    var f = window.innerWidth,
                        g = window.innerHeight;
                    this.Fi === f && this.Ei === g || this.setSize(f, g)
                }
                this.yb || (b ? (this.Am || (this.Mp = jQuery(this.canvas).css("margin") || "0", this.Am = !0), this.dk || this.qg || jQuery(this.canvas).css({
                    "margin-left": "" + Math.floor((screen.width -
                        this.width / this.devicePixelRatio) / 2) + "px",
                    "margin-top": "" + Math.floor((screen.height - this.height / this.devicePixelRatio) / 2) + "px"
                })) : this.Am ? (this.dk || this.qg || jQuery(this.canvas).css("margin", this.Mp), this.Mp = "", this.Am = !1, 0 === this.bd && this.setSize(Math.round(this.lv / this.devicePixelRatio), Math.round(this.kv / this.devicePixelRatio), !0)) : (this.lv = this.width, this.kv = this.height));
                this.$m && (b = this.Xs(), this.Hi = this.Ce, b && (this.$m = !1, this.Ce = 1, this.trigger(U.prototype.e.us, null), window.C2_RegisterSW && window.C2_RegisterSW()));
                this.gC(d);
                !this.Ia && !this.sd || this.yq || this.rl || a || (this.Ia = !1, this.F ? this.tc() : this.Cd(), this.pl && (this.canvas && this.canvas.toDataURL && (this.qw = this.canvas.toDataURL(this.pl[0], this.pl[1]), window.cr_onSnapshot && window.cr_onSnapshot(this.qw), this.trigger(U.prototype.e.Nx, null)), this.pl = null));
                this.kG || (this.Nf++, this.jh++, this.Dm++);
                this.Hk += nb() - h
            }
        }
    };
    e.prototype.gC = function(a) {
        var d, b, c, h, f, g, l, p;
        1E3 <= a - this.Ah && (this.Ah += 1E3, 1E3 <= a - this.Ah && (this.Ah = a), this.Lp = this.Dm, this.Dm = 0, this.sp = this.Hk,
            this.Hk = 0);
        d = 0;
        0 !== this.cn && (d = a - this.cn, 0 > d && (d = 0), this.eh = d /= 1E3, .5 < this.eh ? this.eh = 0 : this.eh > 1 / this.Vu && (this.eh = 1 / this.Vu));
        this.cn = a;
        this.gg = this.eh * this.Qh;
        this.kc.add(this.gg);
        this.Qf.add(d);
        a = (document.mozFullScreen || document.webkitIsFullScreen || document.fullScreen || !!document.msFullscreenElement || this.ik) && !this.Qc;
        2 <= this.bd || a && 0 < this.kh ? (d = this.Xb / this.Wb, b = this.width / this.height, c = this.bd, a && 0 < this.kh && (c = this.kh), this.Dj = 2 !== c && b > d || 2 === c && b < d ? this.height / this.Wb : this.width / this.Xb,
            this.Ya && (this.Ya.Uv(this.Ya.scrollX), this.Ya.Vv(this.Ya.scrollY))) : this.Dj = this.uh ? this.devicePixelRatio : 1;
        this.Dc();
        this.Hd++;
        this.gf.lD();
        this.Hd--;
        this.Dc();
        this.Hd++;
        b = this.jv.Pg();
        a = 0;
        for (d = b.length; a < d; a++) b[a].AG();
        a = 0;
        for (d = this.I.length; a < d; a++)
            if (g = this.I[a], !g.P && (g.mb.length || g.kb.length))
                for (b = 0, c = g.d.length; b < c; b++)
                    for (l = g.d[b], h = 0, f = l.qa.length; h < f; h++) l.qa[h].tb();
        a = 0;
        for (d = this.I.length; a < d; a++)
            if (g = this.I[a], !g.P && (g.mb.length || g.kb.length))
                for (b = 0, c = g.d.length; b < c; b++)
                    for (l = g.d[b],
                        h = 0, f = l.qa.length; h < f; h++) p = l.qa[h], p.LC && p.LC();
        b = this.br.Pg();
        a = 0;
        for (d = b.length; a < d; a++) b[a].tb();
        this.Hd--;
        this.GB();
        for (a = 0; this.lp && 10 > a++;) this.zt(this.lp);
        a = 0;
        for (d = this.wf.length; a < d; a++) this.wf[a].gq = !1;
        this.Ya.hh && this.Ya.hh.Jb();
        C(this.Tn);
        this.Iq = !1;
        this.Hd++;
        a = 0;
        for (d = this.I.length; a < d; a++)
            if (g = this.I[a], !g.P && (g.mb.length || g.kb.length))
                for (b = 0, c = g.d.length; b < c; b++)
                    for (l = g.d[b], h = 0, f = l.qa.length; h < f; h++) p = l.qa[h], p.wo && p.wo();
        b = this.cr.Pg();
        a = 0;
        for (d = b.length; a < d; a++) b[a].wo();
        this.Hd--
    };
    e.prototype.zt = function(a) {
        var d = this.Ya;
        this.Ya.ID();
        var b, c, h;
        if (this.F)
            for (b = 0, c = this.I.length; b < c; b++) h = this.I[b], h.P || !h.yl || h.global && 0 !== h.d.length || -1 !== a.bk.indexOf(h) || h.yl();
        d == a && C(this.gf.md);
        C(this.Tn);
        this.Sv(!0);
        a.Rr();
        this.Sv(!1);
        this.Iq = this.Ia = !0;
        this.Dc()
    };
    e.prototype.Sv = function(a) {
        var d, b, c, h, f, g, l, p, r;
        d = 0;
        for (b = this.mb.length; d < b; d++) c = this.mb[d], a ? c.Ok && c.Ok() : c.Rk && c.Rk();
        d = 0;
        for (b = this.I.length; d < b; d++)
            if (c = this.I[d], c.global || c.Ha.ho)
                for (h = 0, f = c.d.length; h < f; h++)
                    if (g = c.d[h],
                        a ? g.Ok && g.Ok() : g.Rk && g.Rk(), g.qa)
                        for (l = 0, p = g.qa.length; l < p; l++) r = g.qa[l], a ? r.Ok && r.Ok() : r.Rk && r.Rk()
    };
    e.prototype.wl = function(a) {
        this.br.add(a)
    };
    e.prototype.KD = function(a) {
        this.cr.add(a)
    };
    e.prototype.Vj = function(a) {
        return a && -1 !== a.Kk ? this.eh * a.Kk : this.gg
    };
    e.prototype.Cd = function() {
        this.Ya.Cd(this.jb);
        this.Kc && this.jb.present()
    };
    e.prototype.tc = function() {
        this.gb && (this.fh = 1, this.Ya.dh(this.F));
        this.Ya.tc(this.F);
        this.F.PC()
    };
    e.prototype.Xo = function(a) {
        a && this.qm.push(a)
    };
    e.prototype.cD = function(a) {
        Wa(this.qm,
            a)
    };
    e.prototype.oi = function(a) {
        a = a.toString();
        return this.Ff.hasOwnProperty(a) ? this.Ff[a] : null
    };
    var x = [];
    e.prototype.mf = function(a) {
        var d, b;
        d = a.type.name;
        var c = null;
        if (this.bh.hasOwnProperty(d)) {
            if (c = this.bh[d], c.contains(a)) return
        } else c = x.length ? x.pop() : new ma, this.bh[d] = c;
        c.add(a);
        this.mg = !0;
        if (a.Lc)
            for (d = 0, b = a.siblings.length; d < b; d++) this.mf(a.siblings[d]);
        this.uq && c.wj.push(a);
        this.sq || (this.Hd++, this.trigger(Object.getPrototypeOf(a.type.Ha).e.Qx, a), this.Hd--)
    };
    e.prototype.Dc = function() {
        if (this.mg) {
            var a,
                d, b, c, h, f;
            this.uq = !0;
            b = 0;
            for (h = this.ue.length; b < h; ++b)
                for (a = this.ue[b], d = a.type, d.d.push(a), c = 0, f = d.kb.length; c < f; ++c) d.kb[c].d.push(a), d.kb[c].fj = !0;
            C(this.ue);
            this.Fx();
            mb(this.bh);
            this.mg = this.uq = !1
        }
    };
    e.prototype.Fx = function() {
        for (var a in this.bh) this.bh.hasOwnProperty(a) && this.gx(this.bh[a])
    };
    e.prototype.gx = function(a) {
        var d = a.Pg(),
            b = d[0].type,
            c, h, f, g, l, p;
        ob(b.d, a);
        b.fj = !0;
        0 === b.d.length && (b.Pl = !1);
        c = 0;
        for (h = b.kb.length; c < h; ++c) p = b.kb[c], ob(p.d, a), p.fj = !0;
        c = 0;
        for (h = this.gf.md.length; c < h; ++c)
            if (l =
                this.gf.md[c], l.Vc.hasOwnProperty(b.index) && ob(l.Vc[b.index].zf, a), !b.P)
                for (f = 0, g = b.kb.length; f < g; ++f) p = b.kb[f], l.Vc.hasOwnProperty(p.index) && ob(l.Vc[p.index].zf, a);
        if (l = d[0].n) {
            if (l.Td)
                for (f = l.d, c = 0, h = f.length; c < h; ++c) g = f[c], a.contains(g) && (g.Wa(), l.zc.update(g, g.gd, null), g.gd.set(0, 0, -1, -1));
            ob(l.d, a);
            l.ll(0)
        }
        for (c = 0; c < d.length; ++c) this.dx(d[c], b);
        a.clear();
        x.push(a);
        this.Ia = !0
    };
    e.prototype.dx = function(a, d) {
        var b, c, h;
        b = 0;
        for (c = this.qm.length; b < c; ++b) this.qm[b](a);
        a.dg && d.fm.update(a, a.dg, null);
        (b = a.n) && b.Yi(a, !0);
        if (a.qa)
            for (b = 0, c = a.qa.length; b < c; ++b) h = a.qa[b], h.Cg && h.Cg(), h.behavior.Xq.remove(a);
        this.jv.remove(a);
        this.br.remove(a);
        this.cr.remove(a);
        a.Cg && a.Cg();
        this.Ff.hasOwnProperty(a.uid.toString()) && delete this.Ff[a.uid.toString()];
        this.vn--;
        100 > d.nm.length && d.nm.push(a)
    };
    e.prototype.up = function(a, d, b, c) {
        if (a.P) {
            var h = Ha(Math.random() * a.Li.length);
            return this.up(a.Li[h], d, b, c)
        }
        return a.ae ? this.eg(a.ae, d, !1, b, c, !1) : null
    };
    var A = [];
    e.prototype.eg = function(a, d, b, c, h, f) {
        var g, l, p, r;
        if (!a) return null;
        var e = this.I[a[1]],
            v = e.Ha.sg;
        if (this.$m && v && !e.vq || v && !this.F && 11 === a[0][11]) return null;
        var t = d;
        v || (d = null);
        var k;
        e.nm.length ? (k = e.nm.pop(), k.Od = !0, e.Ha.ua.call(k, e)) : (k = new e.Ha.ua(e), k.Od = !1);
        !b || f || this.Ff.hasOwnProperty(a[2].toString()) ? k.uid = this.Nk++ : k.uid = a[2];
        this.Ff[k.uid.toString()] = k;
        k.Kv = this.dv++;
        k.ph = e.d.length;
        g = 0;
        for (l = this.ue.length; g < l; ++g) this.ue[g].type === e && k.ph++;
        k.Xj = gc;
        k.toString = hc;
        p = a[3];
        if (k.Od) mb(k.U);
        else {
            k.U = {};
            if ("undefined" !== typeof cr_is_preview)
                for (k.gu = [], k.gu.length =
                    p.length, g = 0, l = p.length; g < l; g++) k.gu[g] = p[g][1];
            k.Tb = [];
            k.Tb.length = p.length
        }
        g = 0;
        for (l = p.length; g < l; g++) k.Tb[g] = p[g][0];
        if (v) {
            var w = a[0];
            k.x = ta(c) ? w[0] : c;
            k.y = ta(h) ? w[1] : h;
            k.z = w[2];
            k.width = w[3];
            k.height = w[4];
            k.depth = w[5];
            k.j = w[6];
            k.opacity = w[7];
            k.gc = w[8];
            k.hc = w[9];
            k.Ec = w[10];
            g = w[11];
            !this.F && e.ga.length && (k.Ec = g);
            k.Gj = Ab(k.Ec);
            this.J && Bb(k, k.Ec, this.J);
            if (k.Od) {
                g = 0;
                for (l = w[12].length; g < l; g++)
                    for (p = 0, r = w[12][g].length; p < r; p++) k.ob[g][p] = w[12][g][p];
                k.ib.set(0, 0, 0, 0);
                k.dg.set(0, 0, -1, -1);
                k.gd.set(0, 0, -1, -1);
                k.$c.cj(k.ib);
                C(k.ep)
            } else {
                k.ob = w[12].slice(0);
                g = 0;
                for (l = k.ob.length; g < l; g++) k.ob[g] = w[12][g].slice(0);
                k.Ja = [];
                k.Uf = [];
                k.Uf.length = e.ga.length;
                k.ib = new La(0, 0, 0, 0);
                k.dg = new La(0, 0, -1, -1);
                k.gd = new La(0, 0, -1, -1);
                k.$c = new Ma;
                k.ep = [];
                k.eb = pc;
                k.iz = qc;
                k.Fc = rc;
                k.Wa = sc;
                k.Rw = tc;
                k.hs = uc;
                k.We = vc
            }
            k.Fe = !1;
            k.ND = 0;
            k.MD = 0;
            k.LD = null;
            14 === w.length && (k.Fe = !0, k.ND = w[13][0], k.MD = w[13][1], k.LD = w[13][2]);
            g = 0;
            for (l = e.ga.length; g < l; g++) k.Uf[g] = !0;
            k.Jf = !0;
            k.Ie = wc;
            k.Ie();
            k.Sw = !!k.Ja.length;
            k.Vl = !0;
            k.hp = !0;
            e.Ol = !0;
            k.visible = !0;
            k.Kk = -1;
            k.n = d;
            k.Ke = d.d.length;
            k.fh = 0;
            "undefined" === typeof k.za && (k.za = null);
            this.Ia = k.$g = !0
        }
        var z;
        C(A);
        g = 0;
        for (l = e.kb.length; g < l; g++) A.push.apply(A, e.kb[g].mb);
        A.push.apply(A, e.mb);
        if (k.Od)
            for (g = 0, l = A.length; g < l; g++) {
                var m = A[g];
                z = k.qa[g];
                z.Od = !0;
                m.behavior.ua.call(z, m, k);
                w = a[4][g];
                p = 0;
                for (r = w.length; p < r; p++) z.K[p] = w[p];
                z.Y();
                m.behavior.Xq.add(k)
            } else
                for (k.qa = [], g = 0, l = A.length; g < l; g++) m = A[g], z = new m.behavior.ua(m, k), z.Od = !1, z.K = a[4][g].slice(0), z.Y(), k.qa.push(z), m.behavior.Xq.add(k);
        w = a[5];
        if (k.Od)
            for (g =
                0, l = w.length; g < l; g++) k.K[g] = w[g];
        else k.K = w.slice(0);
        this.ue.push(k);
        this.mg = !0;
        d && (d.Cj(k, !0), 1 !== d.je || 1 !== d.ke) && (e.Pl = !0);
        this.vn++;
        if (e.Lc) {
            if (k.Lc = !0, k.Od ? C(k.siblings) : k.siblings = [], !b && !f) {
                g = 0;
                for (l = e.qd.length; g < l; g++)
                    if (e.qd[g] !== e) {
                        if (!e.qd[g].ae) return null;
                        k.siblings.push(this.eg(e.qd[g].ae, t, !1, v ? k.x : c, v ? k.y : h, !0))
                    }
                g = 0;
                for (l = k.siblings.length; g < l; g++)
                    for (k.siblings[g].siblings.push(k), p = 0; p < l; p++) g !== p && k.siblings[g].siblings.push(k.siblings[p])
            }
        } else k.Lc = !1, k.siblings = null;
        k.Y();
        g =
            0;
        for (l = k.qa.length; g < l; g++) k.qa[g].Iv && k.qa[g].Iv();
        return k
    };
    e.prototype.Gm = function(a) {
        var d, b;
        d = 0;
        for (b = this.Ya.T.length; d < b; d++) {
            var c = this.Ya.T[d];
            if (Db(c.name, a)) return c
        }
        return null
    };
    e.prototype.ni = function(a) {
        a = Ha(a);
        0 > a && (a = 0);
        a >= this.Ya.T.length && (a = this.Ya.T.length - 1);
        return this.Ya.T[a]
    };
    e.prototype.Tt = function(a) {
        return va(a) ? this.ni(a) : this.Gm(a.toString())
    };
    e.prototype.mp = function(a) {
        var d, b;
        d = 0;
        for (b = a.length; d < b; d++) a[d].ca().ma = !0
    };
    e.prototype.bl = function(a) {
        var d, b;
        d = 0;
        for (b = a.length; d <
            b; d++) a[d].bl()
    };
    e.prototype.cl = function(a) {
        var d, b;
        d = 0;
        for (b = a.length; d < b; d++) a[d].cl()
    };
    e.prototype.Gg = function(a) {
        var d, b;
        d = 0;
        for (b = a.length; d < b; d++) a[d].Gg()
    };
    e.prototype.Ow = function(a) {
        if (a.Ol) {
            var d, b, c = a.d;
            d = 0;
            for (b = c.length; d < b; ++d) c[d].hs();
            c = this.ue;
            d = 0;
            for (b = c.length; d < b; ++d) c[d].type === a && c[d].hs();
            a.Ol = !1
        }
    };
    e.prototype.Pt = function(a, d, b, c) {
        var h, g, f = a ? 1 !== a.je || 1 !== a.ke : !1;
        if (d.P)
            for (a = 0, h = d.Li.length; a < h; ++a) g = d.Li[a], f || g.Pl ? Sa(c, g.d) : (this.Ow(g), g.fm.Sn(b, c));
        else f || d.Pl ? Sa(c, d.d) :
            (this.Ow(d), d.fm.Sn(b, c))
    };
    e.prototype.qo = function(a, d, b) {
        var c = a.ca(),
            h, g, f, l, p = this.xb().Db.Ld,
            r, e, k;
        if (c.ma)
            for (c.ma = !1, C(c.d), h = 0, l = a.d.length; h < l; h++) f = a.d[h], f.Wa(), r = f.n.qc(d, b, !0), e = f.n.qc(d, b, !1), f.Fc(r, e) ? c.d.push(f) : p && c.la.push(f);
        else {
            g = 0;
            k = p ? c.la : c.d;
            h = 0;
            for (l = k.length; h < l; h++) f = k[h], f.Wa(), r = f.n.qc(d, b, !0), e = f.n.qc(d, b, !1), f.Fc(r, e) && (p ? c.d.push(f) : (c.d[g] = c.d[h], g++));
            k.length = g
        }
        a.Wd();
        return c.fq()
    };
    e.prototype.Aw = function(a, d) {
        if (!(a && d && a !== d && a.$g && d.$g)) return !1;
        a.Wa();
        d.Wa();
        var b = a.n,
            c = d.n,
            h, g, f, l, p, r, e, k;
        if (b === c || b.je === c.je && c.ke === c.ke && b.scale === c.scale && b.j === c.j && b.Le === c.Le) {
            if (!a.ib.NB(d.ib) || !a.$c.iu(d.$c) || a.Fe && d.Fe) return !1;
            if (a.Fe) return this.Bw(a, d);
            if (d.Fe) return this.Bw(d, a);
            e = a.za && !a.za.vh();
            h = d.za && !d.za.vh();
            if (!e && !h) return !0;
            e ? (a.za.Zg(a.width, a.height, a.j), e = a.za) : (this.Ee.bj(a.$c, a.x, a.y, a.width, a.height), e = this.Ee);
            h ? (d.za.Zg(d.width, d.height, d.j), k = d.za) : (this.Ee.bj(d.$c, d.x, d.y, d.width, d.height), k = this.Ee);
            return e.ck(k, d.x - a.x, d.y - a.y)
        }
        e =
            a.za && !a.za.vh();
        h = d.za && !d.za.vh();
        e ? (a.za.Zg(a.width, a.height, a.j), this.Ee.iw(a.za)) : this.Ee.bj(a.$c, a.x, a.y, a.width, a.height);
        e = this.Ee;
        h ? (d.za.Zg(d.width, d.height, d.j), this.Xr.iw(d.za)) : this.Xr.bj(d.$c, d.x, d.y, d.width, d.height);
        k = this.Xr;
        h = 0;
        for (g = e.le; h < g; h++) f = 2 * h, l = f + 1, p = e.Ib[f], r = e.Ib[l], e.Ib[f] = b.Sc(p + a.x, r + a.y, !0), e.Ib[l] = b.Sc(p + a.x, r + a.y, !1);
        e.Wa();
        h = 0;
        for (g = k.le; h < g; h++) f = 2 * h, l = f + 1, p = k.Ib[f], r = k.Ib[l], k.Ib[f] = c.Sc(p + d.x, r + d.y, !0), k.Ib[l] = c.Sc(p + d.x, r + d.y, !1);
        k.Wa();
        return e.ck(k, 0, 0)
    };
    var P = new Ma;
    new La(0, 0, 0, 0);
    var Y = [];
    e.prototype.Bw = function(a, d) {
        var b, c, h, g, f = d.ib,
            l = a.x,
            p = a.y;
        a.hG(f, Y);
        var r = d.za && !d.za.vh();
        b = 0;
        for (c = Y.length; b < c; ++b)
            if (h = Y[b], g = h.WC, f.OB(g, l, p) && (P.cj(g), P.offset(l, p), P.iu(d.$c)))
                if (r)
                    if (d.za.Zg(d.width, d.height, d.j), h.Fg) {
                        if (h.Fg.ck(d.za, d.x - (l + g.left), d.y - (p + g.top))) return C(Y), !0
                    } else {
                        if (this.Ee.bj(P, 0, 0, g.right - g.left, g.bottom - g.top), this.Ee.ck(d.za, d.x, d.y)) return C(Y), !0
                    }
        else if (h.Fg) {
            if (this.Ee.bj(d.$c, 0, 0, d.width, d.height), h.Fg.ck(this.Ee, -(l + g.left), -(p + g.top))) return C(Y), !0
        } else return C(Y), !0;
        C(Y);
        return !1
    };
    e.prototype.Jw = function(a, d) {
        if (!d) return !1;
        var b, c, h, g, f;
        b = 0;
        for (c = a.mb.length; b < c; b++)
            if (a.mb[b].behavior instanceof d) return !0;
        if (!a.P)
            for (b = 0, c = a.kb.length; b < c; b++)
                for (f = a.kb[b], h = 0, g = f.mb.length; h < g; h++)
                    if (f.mb[h].behavior instanceof d) return !0;
        return !1
    };
    e.prototype.bs = function(a) {
        return this.Jw(a, Nc.aF)
    };
    e.prototype.cs = function(a) {
        return this.Jw(a, Nc.eF)
    };
    e.prototype.xz = function(a, d) {
        var b, c, h;
        b = 0;
        for (c = this.Tn.length; b < c; b++)
            if (h =
                this.Tn[b], h[0] == a && h[1] == d || h[0] == d && h[1] == a) return !0;
        return !1
    };
    var E = -1;
    e.prototype.trigger = function(a, d, b) {
        if (!this.Ya) return !1;
        var c = this.Ya.hh;
        if (!c) return !1;
        var h = !1,
            g, f, l;
        E++;
        var p = c.yp;
        f = 0;
        for (l = p.length; f < l; ++f) g = this.Fw(a, d, p[f], b), h = h || g;
        g = this.Fw(a, d, c, b);
        E--;
        return h || g
    };
    e.prototype.Fw = function(a, d, b, c) {
        var h = !1,
            g, f, l, p;
        if (d)
            for (l = this.$r(a, d, d.type.name, b, c), h = h || l, p = d.type.kb, g = 0, f = p.length; g < f; ++g) l = this.$r(a, d, p[g].name, b, c), h = h || l;
        else l = this.$r(a, d, "system", b, c), h = h || l;
        return h
    };
    e.prototype.$r = function(a, d, b, c, h) {
        var g, f = !1,
            l = !1,
            l = "undefined" !== typeof h,
            p = (l ? c.Dt : c.Gw)[b];
        if (!p) return f;
        var r = null;
        c = 0;
        for (g = p.length; c < g; ++c)
            if (p[c].method == a) {
                r = p[c].Qj;
                break
            }
        if (!r) return f;
        var e;
        l ? e = r[h] : e = r;
        if (!e) return null;
        c = 0;
        for (g = e.length; c < g; c++) a = e[c][0], h = e[c][1], l = this.SA(d, b, a, h), f = f || l;
        return f
    };
    e.prototype.SA = function(a, d, b, c) {
        var h, g, f = !1;
        this.as++;
        var l = this.xb().Db;
        l && this.bl(l.Lg);
        var p = 1 < this.as;
        this.bl(b.Lg);
        p && this.SC();
        var r = this.Rn(b);
        r.Db = b;
        a && (h = this.types[d].ca(),
            h.ma = !1, C(h.d), h.d[0] = a, this.types[d].Wd());
        a = !0;
        if (b.parent) {
            d = r.zw;
            for (h = b.parent; h;) d.push(h), h = h.parent;
            d.reverse();
            h = 0;
            for (g = d.length; h < g; h++)
                if (!d[h].nD()) {
                    a = !1;
                    break
                }
        }
        a && (this.jh++, b.Ld ? b.mD(c) : b.Jb(), f = f || r.zh);
        this.Kn();
        p && this.IC();
        this.Gg(b.Lg);
        l && this.Gg(l.Lg);
        this.mg && 0 === this.Hd && 0 === E && !this.wq && this.Dc();
        this.as--;
        return f
    };
    e.prototype.Uj = function() {
        var a = this.xb();
        return a.Db.Qb[a.Cb]
    };
    e.prototype.RB = function() {
        return 0 === this.xb().Cb
    };
    e.prototype.bB = function() {
        var a = this.xb();
        return a.Db.Ud[a.Zc]
    };
    e.prototype.SC = function() {
        this.mn++;
        this.mn >= this.Oq.length && this.Oq.push([])
    };
    e.prototype.IC = function() {
        this.mn--
    };
    e.prototype.Rt = function() {
        return this.Oq[this.mn]
    };
    e.prototype.Rn = function(a) {
        this.um++;
        this.um >= this.Dp.length && this.Dp.push(new xc);
        var d = this.xb();
        d.reset(a);
        return d
    };
    e.prototype.Kn = function() {
        this.um--
    };
    e.prototype.xb = function() {
        return this.Dp[this.um]
    };
    e.prototype.TC = function() {
        this.qn++;
        this.qn >= this.Qq.length && this.Qq.push(aa({
            name: void 0,
            index: 0,
            pc: !1
        }));
        var a = this.cB();
        a.name =
            void 0;
        a.index = 0;
        a.pc = !1;
        return a
    };
    e.prototype.JC = function() {
        this.qn--
    };
    e.prototype.cB = function() {
        return this.Qq[this.qn]
    };
    e.prototype.St = function(a, d) {
        for (var b, c, h, g, f, l; d;) {
            b = 0;
            for (c = d.ne.length; b < c; b++)
                if (l = d.ne[b], l instanceof yc && Db(a, l.name)) return l;
            d = d.parent
        }
        b = 0;
        for (c = this.wf.length; b < c; b++)
            for (f = this.wf[b], h = 0, g = f.ig.length; h < g; h++)
                if (l = f.ig[h], l instanceof yc && Db(a, l.name)) return l;
        return null
    };
    e.prototype.Ut = function(a) {
        var d, b;
        d = 0;
        for (b = this.ye.length; d < b; d++)
            if (this.ye[d].Ba === a) return this.ye[d];
        return null
    };
    e.prototype.Im = function(a) {
        var d, b;
        d = 0;
        for (b = this.I.length; d < b; d++)
            if (this.I[d].Ba === a) return this.I[d];
        return null
    };
    e.prototype.dB = function(a) {
        var d, b;
        d = 0;
        for (b = this.Yh.length; d < b; d++)
            if (this.Yh[d].Ba === a) return this.Yh[d];
        return null
    };
    e.prototype.Oz = function(a, d) {
        this.pl = [a, d];
        this.Ia = !0
    };
    e.prototype.GB = function() {
        var a = this,
            d = this.Hr,
            c = this.Cf,
            h = this.hn,
            g = !1;
        this.ow && (g = !0, d = "__c2_continuouspreview", this.ow = !1);
        if (d.length) {
            this.Dc();
            c = this.rD();
            if (k() && !this.sd) b(d, c, function() {
                ra("Saved state to IndexedDB storage (" +
                    c.length + " bytes)");
                a.Cf = c;
                a.trigger(U.prototype.e.Po, null);
                a.Cf = "";
                g && f()
            }, function(b) {
                try {
                    localStorage.setItem("__c2save_" + d, c), ra("Saved state to WebStorage (" + c.length + " bytes)"), a.Cf = c, a.trigger(U.prototype.e.Po, null), a.Cf = "", g && f()
                } catch (h) {
                    ra("Failed to save game state: " + b + "; " + h), a.trigger(U.prototype.e.ys, null)
                }
            });
            else try {
                localStorage.setItem("__c2save_" + d, c), ra("Saved state to WebStorage (" + c.length + " bytes)"), a.Cf = c, this.trigger(U.prototype.e.Po, null), a.Cf = "", g && f()
            } catch (l) {
                ra("Error saving to WebStorage: " +
                    l), a.trigger(U.prototype.e.ys, null)
            }
            this.hn = this.Hr = "";
            this.Vb = null
        }
        if (h.length) {
            if (k() && !this.sd) q(h, function(d) {
                d ? (a.Vb = d, ra("Loaded state from IndexedDB storage (" + a.Vb.length + " bytes)")) : (a.Vb = localStorage.getItem("__c2save_" + h) || "", ra("Loaded state from WebStorage (" + a.Vb.length + " bytes)"));
                a.rl = !1;
                a.Vb || (a.Vb = null, a.trigger(U.prototype.e.Il, null))
            }, function() {
                a.Vb = localStorage.getItem("__c2save_" + h) || "";
                ra("Loaded state from WebStorage (" + a.Vb.length + " bytes)");
                a.rl = !1;
                a.Vb || (a.Vb = null, a.trigger(U.prototype.e.Il,
                    null))
            });
            else {
                try {
                    this.Vb = localStorage.getItem("__c2save_" + h) || "", ra("Loaded state from WebStorage (" + this.Vb.length + " bytes)")
                } catch (p) {
                    this.Vb = null
                }
                this.rl = !1;
                a.Vb || (a.Vb = null, a.trigger(U.prototype.e.Il, null))
            }
            this.Hr = this.hn = ""
        }
        null !== this.Vb && (this.Dc(), this.fC(this.Vb) ? (this.Cf = this.Vb, this.trigger(U.prototype.e.cy, null), this.Cf = "") : a.trigger(U.prototype.e.Il, null), this.Vb = null)
    };
    e.prototype.rD = function() {
        var d, b, c, h, g, f, l, p = {
            c2save: !0,
            version: 1,
            rt: {
                time: this.kc.Ca,
                walltime: this.Qf.Ca,
                timescale: this.Qh,
                tickcount: this.Nf,
                execcount: this.jh,
                next_uid: this.Nk,
                running_layout: this.Ya.Ba,
                start_time_offset: Date.now() - this.mo
            },
            types: {},
            layouts: {},
            events: {
                groups: {},
                cnds: {},
                acts: {},
                vars: {}
            }
        };
        d = 0;
        for (b = this.I.length; d < b; d++)
            if (g = this.I[d], !g.P && !this.bs(g)) {
                f = {
                    instances: []
                };
                lb(g.U) && (f.ex = a(g.U));
                c = 0;
                for (h = g.d.length; c < h; c++) f.instances.push(this.Gr(g.d[c]));
                p.types[g.Ba.toString()] = f
            }
        d = 0;
        for (b = this.ye.length; d < b; d++) c = this.ye[d], p.layouts[c.Ba.toString()] = c.Uc();
        h = p.events.groups;
        d = 0;
        for (b = this.Yh.length; d <
            b; d++) c = this.Yh[d], h[c.Ba.toString()] = this.Zj[c.Yj].qi;
        b = p.events.cnds;
        for (l in this.bg) this.bg.hasOwnProperty(l) && (d = this.bg[l], lb(d.U) && (b[l] = {
            ex: a(d.U)
        }));
        b = p.events.acts;
        for (l in this.Vf) this.Vf.hasOwnProperty(l) && (d = this.Vf[l], lb(d.U) && (b[l] = {
            ex: a(d.U)
        }));
        b = p.events.vars;
        for (l in this.xj) this.xj.hasOwnProperty(l) && (d = this.xj[l], d.Ym || d.parent && !d.nk || (b[l] = d.data));
        p.system = this.gf.Uc();
        return JSON.stringify(p)
    };
    e.prototype.Ov = function() {
        var a, d, b, c, h, g;
        this.Ff = {};
        a = 0;
        for (d = this.I.length; a < d; a++)
            if (b =
                this.I[a], !b.P)
                for (c = 0, h = b.d.length; c < h; c++) g = b.d[c], this.Ff[g.uid.toString()] = g
    };
    e.prototype.fC = function(a) {
        var d;
        try {
            d = JSON.parse(a)
        } catch (b) {
            return !1
        }
        if (!d.c2save || 1 < d.version) return !1;
        this.gk = !0;
        a = d.rt;
        this.kc.reset();
        this.kc.Ca = a.time;
        this.Qf.reset();
        this.Qf.Ca = a.walltime || 0;
        this.Qh = a.timescale;
        this.Nf = a.tickcount;
        this.jh = a.execcount;
        this.mo = Date.now() - a.start_time_offset;
        var c = a.running_layout;
        if (c !== this.Ya.Ba)
            if (c = this.Ut(c)) this.zt(c);
            else return;
        var h, g, f, l, p, r, e;
        r = d.types;
        for (g in r)
            if (r.hasOwnProperty(g) &&
                (l = this.Im(parseInt(g, 10))) && !l.P && !this.bs(l)) {
                r[g].ex ? l.U = r[g].ex : mb(l.U);
                p = l.d;
                f = r[g].instances;
                c = 0;
                for (h = Fa(p.length, f.length); c < h; c++) this.jn(p[c], f[c]);
                c = f.length;
                for (h = p.length; c < h; c++) this.mf(p[c]);
                c = p.length;
                for (h = f.length; c < h; c++) {
                    p = null;
                    if (l.Ha.sg && (p = this.Ya.Hm(f[c].w.l), !p)) continue;
                    p = this.eg(l.ae, p, !1, 0, 0, !0);
                    this.jn(p, f[c])
                }
                l.fj = !0
            }
        this.Dc();
        this.Ov();
        h = d.layouts;
        for (g in h) h.hasOwnProperty(g) && (c = this.Ut(parseInt(g, 10))) && c.xd(h[g]);
        h = d.events.groups;
        for (g in h) h.hasOwnProperty(g) &&
            (c = this.dB(parseInt(g, 10))) && this.Zj[c.Yj] && this.Zj[c.Yj].tD(h[g]);
        c = d.events.cnds;
        for (g in this.bg) this.bg.hasOwnProperty(g) && (c.hasOwnProperty(g) ? this.bg[g].U = c[g].ex : this.bg[g].U = {});
        c = d.events.acts;
        for (g in this.Vf) this.Vf.hasOwnProperty(g) && (c.hasOwnProperty(g) ? this.Vf[g].U = c[g].ex : this.Vf[g].U = {});
        c = d.events.vars;
        for (g in c) c.hasOwnProperty(g) && this.xj.hasOwnProperty(g) && (this.xj[g].data = c[g]);
        this.Nk = a.next_uid;
        this.gk = !1;
        c = 0;
        for (h = this.zm.length; c < h; ++c) p = this.zm[c], this.trigger(Object.getPrototypeOf(p.type.Ha).e.Vh,
            p);
        C(this.zm);
        this.gf.xd(d.system);
        c = 0;
        for (h = this.I.length; c < h; c++)
            if (l = this.I[c], !l.P && !this.bs(l))
                for (d = 0, g = l.d.length; d < g; d++) {
                    p = l.d[d];
                    if (l.Lc)
                        for (r = p.Xj(), C(p.siblings), a = 0, f = l.qd.length; a < f; a++) e = l.qd[a], l !== e && p.siblings.push(e.d[r]);
                    p.Me && p.Me();
                    if (p.qa)
                        for (a = 0, f = p.qa.length; a < f; a++) r = p.qa[a], r.Me && r.Me()
                }
        return this.Ia = !0
    };
    e.prototype.Gr = function(d, b) {
        var c, h, g, f, l;
        f = d.type;
        g = f.Ha;
        var p = {};
        b ? p.c2 = !0 : p.uid = d.uid;
        lb(d.U) && (p.ex = a(d.U));
        if (d.Tb && d.Tb.length)
            for (p.ivs = {}, c = 0, h = d.Tb.length; c <
                h; c++) p.ivs[d.type.qq[c].toString()] = d.Tb[c];
        if (g.sg) {
            g = {
                x: d.x,
                y: d.y,
                w: d.width,
                h: d.height,
                l: d.n.Ba,
                zi: d.We()
            };
            0 !== d.j && (g.a = d.j);
            1 !== d.opacity && (g.o = d.opacity);
            .5 !== d.gc && (g.hX = d.gc);
            .5 !== d.hc && (g.hY = d.hc);
            0 !== d.Ec && (g.bm = d.Ec);
            d.visible || (g.v = d.visible);
            d.$g || (g.ce = d.$g); - 1 !== d.Kk && (g.mts = d.Kk);
            if (f.ga.length)
                for (g.fx = [], c = 0, h = f.ga.length; c < h; c++) l = f.ga[c], g.fx.push({
                    name: l.name,
                    active: d.Uf[l.index],
                    params: d.ob[l.index]
                });
            p.w = g
        }
        if (d.qa && d.qa.length)
            for (p.behs = {}, c = 0, h = d.qa.length; c < h; c++) f = d.qa[c],
                f.Uc && (p.behs[f.type.Ba.toString()] = f.Uc());
        d.Uc && (p.data = d.Uc());
        return p
    };
    e.prototype.fB = function(a, d) {
        var b, c;
        b = 0;
        for (c = a.qq.length; b < c; b++)
            if (a.qq[b] === d) return b;
        return -1
    };
    e.prototype.aB = function(a, d) {
        var b, c;
        b = 0;
        for (c = a.qa.length; b < c; b++)
            if (a.qa[b].type.Ba === d) return b;
        return -1
    };
    e.prototype.jn = function(a, d, b) {
        var c, h, g, f, l;
        l = a.type;
        f = l.Ha;
        if (b) {
            if (!d.c2) return
        } else a.uid = d.uid;
        d.ex ? a.U = d.ex : mb(a.U);
        if (h = d.ivs)
            for (c in h) h.hasOwnProperty(c) && (g = this.fB(l, parseInt(c, 10)), 0 > g || g >= a.Tb.length ||
                (a.Tb[g] = h[c]));
        if (f.sg) {
            g = d.w;
            a.n.Ba !== g.l && (h = a.n, a.n = this.Ya.Hm(g.l), a.n ? (h.Yi(a, !0), a.n.Cj(a, !0), a.eb(), a.n.ll(0)) : (a.n = h, b || this.mf(a)));
            a.x = g.x;
            a.y = g.y;
            a.width = g.w;
            a.height = g.h;
            a.Ke = g.zi;
            a.j = g.hasOwnProperty("a") ? g.a : 0;
            a.opacity = g.hasOwnProperty("o") ? g.o : 1;
            a.gc = g.hasOwnProperty("hX") ? g.hX : .5;
            a.hc = g.hasOwnProperty("hY") ? g.hY : .5;
            a.visible = g.hasOwnProperty("v") ? g.v : !0;
            a.$g = g.hasOwnProperty("ce") ? g.ce : !0;
            a.Kk = g.hasOwnProperty("mts") ? g.mts : -1;
            a.Ec = g.hasOwnProperty("bm") ? g.bm : 0;
            a.Gj = Ab(a.Ec);
            this.J &&
                Bb(a, a.Ec, this.J);
            a.eb();
            if (g.hasOwnProperty("fx"))
                for (b = 0, h = g.fx.length; b < h; b++) f = l.Tp(g.fx[b].name), 0 > f || (a.Uf[f] = g.fx[b].active, a.ob[f] = g.fx[b].params);
            a.Ie()
        }
        if (l = d.behs)
            for (c in l) l.hasOwnProperty(c) && (b = this.aB(a, parseInt(c, 10)), 0 > b || a.qa[b].xd(l[c]));
        d.data && a.xd(d.data)
    };
    e.prototype.Et = function(a, d, b) {
        window.resolveLocalFileSystemURL(cordova.file.applicationDirectory + "www/" + a, function(a) {
            a.file(d, b)
        }, b)
    };
    e.prototype.TA = function(a, d) {
        this.Et("data.js", function(b) {
            var c = new FileReader;
            c.onload =
                function(d) {
                    a(d.target.result)
                };
            c.onerror = d;
            c.readAsText(b)
        }, d)
    };
    var V = [],
        T = 0;
    e.prototype.Sq = function() {
        if (V.length && !(8 <= T)) {
            T++;
            var a = V.shift();
            this.Rz(a.filename, a.JD, a.pA)
        }
    };
    e.prototype.Ft = function(a, d, b) {
        var c = this;
        V.push({
            filename: a,
            JD: function(a) {
                T--;
                c.Sq();
                d(a)
            },
            pA: function(a) {
                T--;
                c.Sq();
                b(a)
            }
        });
        this.Sq()
    };
    e.prototype.Rz = function(a, d, b) {
        this.Et(a, function(a) {
            var b = new FileReader;
            b.onload = function(a) {
                d(a.target.result)
            };
            b.readAsArrayBuffer(a)
        }, b)
    };
    e.prototype.UA = function(a, d, b) {
        this.Ft(a, function(a) {
            a =
                URL.createObjectURL(new Blob([a]));
            d(a)
        }, b)
    };
    e.prototype.PB = function(a) {
        return /^(?:[a-z]+:)?\/\//.test(a) || "data:" === a.substr(0, 5) || "blob:" === a.substr(0, 5)
    };
    e.prototype.dw = function(a, d) {
        this.lk && !this.PB(d) ? this.UA(d, function(d) {
            a.src = d
        }, function(a) {
            alert("Failed to load image: " + a)
        }) : a.src = d
    };
    e.prototype.$n = function(a, d) {
        "undefined" !== typeof a.imageSmoothingEnabled ? a.imageSmoothingEnabled = d : (a.webkitImageSmoothingEnabled = d, a.mozImageSmoothingEnabled = d, a.msImageSmoothingEnabled = d)
    };
    zc = function(a) {
        return new e(document.getElementById(a))
    };
    Ac = function(a, d) {
        return new e({
            dc: !0,
            width: a,
            height: d
        })
    };
    window.cr_createRuntime = zc;
    window.cr_createDCRuntime = Ac;
    window.createCocoonJSRuntime = function() {
        window.c2cocoonjs = !0;
        var a = document.createElement("screencanvas") || document.createElement("canvas");
        a.Ye = !0;
        document.body.appendChild(a);
        a = new e(a);
        window.c2runtime = a;
        window.addEventListener("orientationchange", function() {
            window.c2runtime.setSize(window.innerWidth, window.innerHeight)
        });
        window.c2runtime.setSize(window.innerWidth, window.innerHeight);
        return a
    };
    window.createEjectaRuntime = function() {
        var a = new e(document.getElementById("canvas"));
        window.c2runtime = a;
        window.c2runtime.setSize(window.innerWidth, window.innerHeight);
        return a
    }
})();
window.cr_getC2Runtime = function() {
    var e = document.getElementById("c2canvas");
    return e ? e.c2runtime : window.c2runtime ? window.c2runtime : null
};
window.cr_getSnapshot = function(e, m) {
    var k = window.cr_getC2Runtime();
    k && k.Oz(e, m)
};
window.cr_sizeCanvas = function(e, m) {
    if (0 !== e && 0 !== m) {
        var k = window.cr_getC2Runtime();
        k && k.setSize(e, m)
    }
};
window.cr_setSuspended = function(e) {
    var m = window.cr_getC2Runtime();
    m && m.setSuspended(e)
};
(function() {
    function e(a, b) {
        this.b = a;
        this.hh = null;
        this.scrollX = this.b.Xb / 2;
        this.scrollY = this.b.Wb / 2;
        this.scale = 1;
        this.j = 0;
        this.mi = !0;
        this.name = b[0];
        this.DC = b[1];
        this.CC = b[2];
        this.width = b[1];
        this.height = b[2];
        this.Kw = b[3];
        this.lw = b[4];
        this.Ba = b[5];
        var c = b[6],
            g, f;
        this.T = [];
        this.bk = [];
        g = 0;
        for (f = c.length; g < f; g++) {
            var e = new Bc(this, c[g]);
            e.hv = g;
            this.T.push(e)
        }
        c = b[7];
        this.qh = [];
        g = 0;
        for (f = c.length; g < f; g++) {
            var e = c[g],
                k = this.b.I[e[1]];
            k.ae || (k.ae = e);
            this.qh.push(e); - 1 === this.bk.indexOf(k) && this.bk.push(k)
        }
        this.ga = [];
        this.Ja = [];
        this.Jf = !0;
        this.ob = [];
        g = 0;
        for (f = b[8].length; g < f; g++) this.ga.push({
            id: b[8][g][0],
            name: b[8][g][1],
            Kb: -1,
            Be: !1,
            G: !0,
            index: g
        }), this.ob.push(b[8][g][2].slice(0));
        this.Ie();
        this.dl = new La(0, 0, 1, 1);
        this.tr = new La(0, 0, 1, 1);
        this.Eg = {}
    }

    function m(a, b) {
        return a.Ke - b.Ke
    }

    function k(a, b) {
        this.lc = a;
        this.b = a.b;
        this.d = [];
        this.scale = 1;
        this.j = 0;
        this.vf = !1;
        this.Of = new La(0, 0, 0, 0);
        this.Ew = new Ma;
        this.$a = this.Ta = this.Xa = this.Oa = 0;
        this.Sh = !1;
        this.Rf = -1;
        this.np = 0;
        this.name = b[0];
        this.index = b[1];
        this.Ba = b[2];
        this.visible = b[3];
        this.re = b[4];
        this.He = b[5];
        this.je = b[6];
        this.ke = b[7];
        this.opacity = b[8];
        this.Cm = b[9];
        this.Td = b[10];
        this.Le = b[11];
        this.Ec = b[12];
        this.lA = b[13];
        this.Gj = "source-over";
        this.Hc = this.Mc = 0;
        this.zc = null;
        this.Df = n();
        this.De = !0;
        this.Gi = new La(0, 0, -1, -1);
        this.rc = new La(0, 0, -1, -1);
        this.Td && (this.zc = new zb(this.b.Xb, this.b.Wb));
        this.df = !1;
        var c = b[14],
            g, f;
        this.rw = [];
        this.Gd = [];
        this.Ij = [];
        g = 0;
        for (f = c.length; g < f; g++) {
            var e = c[g],
                k = this.b.I[e[1]];
            k.ae || (k.ae = e, k.Nz = this.index);
            this.Gd.push(e); - 1 === this.lc.bk.indexOf(k) &&
                this.lc.bk.push(k)
        }
        Ra(this.rw, this.Gd);
        this.ga = [];
        this.Ja = [];
        this.Jf = !0;
        this.ob = [];
        g = 0;
        for (f = b[15].length; g < f; g++) this.ga.push({
            id: b[15][g][0],
            name: b[15][g][1],
            Kb: -1,
            Be: !1,
            G: !0,
            index: g
        }), this.ob.push(b[15][g][2].slice(0));
        this.Ie();
        this.dl = new La(0, 0, 1, 1);
        this.tr = new La(0, 0, 1, 1)
    }

    function n() {
        return a.length ? a.pop() : []
    }

    function b(d) {
        C(d);
        a.push(d)
    }
    e.prototype.qD = function(a) {
        var b = a.type.Ba.toString();
        this.Eg.hasOwnProperty(b) || (this.Eg[b] = []);
        this.Eg[b].push(this.b.Gr(a))
    };
    e.prototype.$t = function() {
        var a =
            this.T[0];
        return !a.He && 1 === a.opacity && !a.Cm && a.visible
    };
    e.prototype.Ie = function() {
        C(this.Ja);
        this.Jf = !0;
        var a, b, c;
        a = 0;
        for (b = this.ga.length; a < b; a++) c = this.ga[a], c.G && (this.Ja.push(c), c.Be || (this.Jf = !1))
    };
    e.prototype.Sp = function(a) {
        var b, c, g;
        b = 0;
        for (c = this.ga.length; b < c; b++)
            if (g = this.ga[b], g.name === a) return g;
        return null
    };
    var q = [],
        f = !0;
    e.prototype.Rr = function() {
        this.lw && (this.hh = this.b.Ep[this.lw], this.hh.ds());
        this.b.Ya = this;
        this.width = this.DC;
        this.height = this.CC;
        this.scrollX = this.b.Xb / 2;
        this.scrollY =
            this.b.Wb / 2;
        var a, b, c, g, e, k, t;
        a = 0;
        for (c = this.b.I.length; a < c; a++)
            if (b = this.b.I[a], !b.P)
                for (e = b.d, b = 0, g = e.length; b < g; b++)
                    if (k = e[b], k.n) {
                        var p = k.n.hv;
                        p >= this.T.length && (p = this.T.length - 1);
                        k.n = this.T[p]; - 1 === k.n.d.indexOf(k) && k.n.d.push(k);
                        k.n.Sh = !0
                    }
        if (!f)
            for (a = 0, c = this.T.length; a < c; ++a) this.T[a].d.sort(m);
        C(q);
        this.sz();
        a = 0;
        for (c = this.T.length; a < c; a++) k = this.T[a], k.Jz(), k.Eo();
        e = !1;
        if (!this.mi) {
            for (t in this.Eg)
                if (this.Eg.hasOwnProperty(t) && (b = this.b.Im(parseInt(t, 10))) && !b.P && this.b.cs(b)) {
                    g = this.Eg[t];
                    a = 0;
                    for (c = g.length; a < c; a++) {
                        k = null;
                        if (b.Ha.sg && (k = this.Hm(g[a].w.l), !k)) continue;
                        k = this.b.eg(b.ae, k, !1, 0, 0, !0);
                        this.b.jn(k, g[a]);
                        e = !0;
                        q.push(k)
                    }
                    C(g)
                }
            a = 0;
            for (c = this.T.length; a < c; a++) this.T[a].d.sort(m), this.T[a].Sh = !0
        }
        e && (this.b.Dc(), this.b.Ov());
        for (a = 0; a < q.length; a++)
            if (k = q[a], k.type.Lc)
                for (c = k.Xj(), b = 0, g = k.type.qd.length; b < g; b++) t = k.type.qd[b], k.type !== t && (t.d.length > c ? k.siblings.push(t.d[c]) : t.ae && (e = this.b.eg(t.ae, k.n, !0, k.x, k.y, !0), this.b.Dc(), t.Co(), k.siblings.push(e), q.push(e)));
        a = 0;
        for (c =
            this.qh.length; a < c; a++) this.b.eg(this.qh[a], null, !0);
        this.b.lp = null;
        this.b.Dc();
        if (this.b.jb && !this.b.yb)
            for (a = 0, c = this.b.I.length; a < c; a++) t = this.b.I[a], !t.P && t.d.length && t.Zk && t.Zk(this.b.jb);
        if (this.b.gk) Ra(this.b.zm, q);
        else
            for (a = 0, c = q.length; a < c; a++) k = q[a], this.b.trigger(Object.getPrototypeOf(k.type.Ha).e.Vh, k);
        C(q);
        this.b.gk || this.b.trigger(U.prototype.e.ts, null);
        this.mi = !1
    };
    e.prototype.Iz = function() {
        var a, b, c, g, f;
        b = a = 0;
        for (c = this.qh.length; a < c; a++) g = this.qh[a], f = this.b.I[g[1]], f.global ? f.Lc ||
            this.b.eg(g, null, !0) : (this.qh[b] = g, b++);
        Pa(this.qh, b)
    };
    e.prototype.ID = function() {
        this.b.gk || this.b.trigger(U.prototype.e.by, null);
        this.b.sq = !0;
        C(this.b.gf.md);
        var a, b, c, g, e, k;
        if (!this.mi)
            for (a = 0, b = this.T.length; a < b; a++)
                for (this.T[a].gs(), e = this.T[a].d, c = 0, g = e.length; c < g; c++) k = e[c], k.type.global || this.b.cs(k.type) && this.qD(k);
        a = 0;
        for (b = this.T.length; a < b; a++) {
            e = this.T[a].d;
            c = 0;
            for (g = e.length; c < g; c++) k = e[c], k.type.global || this.b.mf(k);
            this.b.Dc();
            C(e);
            this.T[a].Sh = !0
        }
        a = 0;
        for (b = this.b.I.length; a < b; a++)
            if (e =
                this.b.I[a], !(e.global || e.Ha.sg || e.Ha.ho || e.P)) {
                c = 0;
                for (g = e.d.length; c < g; c++) this.b.mf(e.d[c]);
                this.b.Dc()
            }
        f = !1;
        this.b.sq = !1
    };
    new La(0, 0, 0, 0);
    e.prototype.Cd = function(a) {
        var b, c = a,
            g = !1,
            f = !this.b.Dd;
        f && (this.b.gn || (this.b.gn = document.createElement("canvas"), b = this.b.gn, b.width = this.b.X, b.height = this.b.W, this.b.yu = b.getContext("2d"), g = !0), b = this.b.gn, c = this.b.yu, b.width !== this.b.X && (b.width = this.b.X, g = !0), b.height !== this.b.W && (b.height = this.b.W, g = !0), g && this.b.$n(c, this.b.cb));
        c.globalAlpha = 1;
        c.globalCompositeOperation =
            "source-over";
        this.b.jt && !this.$t() && c.clearRect(0, 0, this.b.X, this.b.W);
        var e, k, g = 0;
        for (e = this.T.length; g < e; g++) k = this.T[g], k.visible && 0 < k.opacity && 11 !== k.Ec && (k.d.length || !k.He) ? k.Cd(c) : k.Eo();
        f && a.drawImage(b, 0, 0, this.b.width, this.b.height)
    };
    e.prototype.dh = function(a) {
        a.bw(!0);
        this.b.Gb || (this.b.Gb = a.Zd(this.b.X, this.b.W, this.b.cb));
        if (this.b.Gb.Yg !== this.b.X || this.b.Gb.Xg !== this.b.W) a.deleteTexture(this.b.Gb), this.b.Gb = a.Zd(this.b.X, this.b.W, this.b.cb);
        a.me(this.b.Gb);
        this.b.Dd || a.Lh(this.b.X,
            this.b.W);
        var b, c;
        for (b = this.T.length - 1; 0 <= b; --b) c = this.T[b], c.visible && 1 === c.opacity && c.Jf && 0 === c.Ec && (c.d.length || !c.He) ? c.dh(a) : c.Eo();
        a.bw(!1)
    };
    e.prototype.tc = function(a) {
        var b = 0 < this.Ja.length || this.b.tj || !this.b.Dd || this.b.gb;
        if (b) {
            this.b.Gb || (this.b.Gb = a.Zd(this.b.X, this.b.W, this.b.cb));
            if (this.b.Gb.Yg !== this.b.X || this.b.Gb.Xg !== this.b.W) a.deleteTexture(this.b.Gb), this.b.Gb = a.Zd(this.b.X, this.b.W, this.b.cb);
            a.me(this.b.Gb);
            this.b.Dd || a.Lh(this.b.X, this.b.W)
        } else this.b.Gb && (a.me(null), a.deleteTexture(this.b.Gb),
            this.b.Gb = null);
        this.b.jt && !this.$t() && a.clear(0, 0, 0, 0);
        var c, g, f;
        c = 0;
        for (g = this.T.length; c < g; c++) f = this.T[c], f.visible && 0 < f.opacity && (f.d.length || !f.He) ? f.tc(a) : f.Eo();
        b && (0 === this.Ja.length || 1 === this.Ja.length && this.b.Dd ? (1 === this.Ja.length ? (b = this.Ja[0].index, a.kd(this.Ja[0].Kb), a.aj(null, 1 / this.b.X, 1 / this.b.W, 0, 0, 1, 1, this.scale, this.j, 0, 0, this.b.X / 2, this.b.W / 2, this.b.kc.Ca, this.ob[b]), a.Pn(this.Ja[0].Kb) && (this.b.Ia = !0)) : a.kd(0), this.b.Dd || a.Lh(this.b.width, this.b.height), a.me(null), a.aw(!1),
            a.Kg(1), a.jd(this.b.Gb), a.Xv(), a.ef(), a.Je(), b = this.b.width / 2, c = this.b.height / 2, a.Wi(-b, c, b, c, b, -c, -b, -c), a.jd(null), a.aw(!0)) : this.ur(a, null, null, null))
    };
    e.prototype.Wj = function() {
        return 0 < this.Ja.length || this.b.tj || !this.b.Dd || this.b.gb ? this.b.Gb : null
    };
    e.prototype.Vt = function() {
        var a = this.T[0].Fd(),
            b, c, g;
        b = 1;
        for (c = this.T.length; b < c; b++) g = this.T[b], (0 !== g.je || 0 !== g.ke) && g.Fd() < a && (a = g.Fd());
        return a
    };
    e.prototype.Uv = function(a) {
        if (!this.Kw) {
            var b = 1 / this.Vt() * this.b.X / 2;
            a > this.width - b && (a = this.width -
                b);
            a < b && (a = b)
        }
        this.scrollX !== a && (this.scrollX = a, this.b.Ia = !0)
    };
    e.prototype.Vv = function(a) {
        if (!this.Kw) {
            var b = 1 / this.Vt() * this.b.W / 2;
            a > this.height - b && (a = this.height - b);
            a < b && (a = b)
        }
        this.scrollY !== a && (this.scrollY = a, this.b.Ia = !0)
    };
    e.prototype.sz = function() {
        this.Uv(this.scrollX);
        this.Vv(this.scrollY)
    };
    e.prototype.ur = function(a, b, c, g) {
        var f = c ? c.Ja : b ? b.Ja : this.Ja,
            e = 1,
            k = 0,
            p = 0,
            r = 0,
            t = this.b.X,
            v = this.b.W;
        c ? (e = c.n.Fd(), k = c.n.Sb(), p = c.n.Oa, r = c.n.Ta, t = c.n.Xa, v = c.n.$a) : b && (e = b.Fd(), k = b.Sb(), p = b.Oa, r = b.Ta, t = b.Xa,
            v = b.$a);
        var z = this.b.Np,
            m, q, n, A, P = 0,
            Y = 1,
            E, V, T = this.b.X,
            u = this.b.W,
            O = T / 2,
            y = u / 2,
            F = b ? b.dl : this.dl,
            D = b ? b.tr : this.tr,
            Q = 0,
            J = 0,
            H = 0,
            N = 0,
            W = T,
            ka = T,
            S = u,
            Ia = u,
            Ba = n = 0;
        A = c ? c.n.Sb() : 0;
        if (c) {
            m = 0;
            for (q = f.length; m < q; m++) n += a.jB(f[m].Kb), Ba += a.kB(f[m].Kb);
            N = c.ib;
            Q = b.Sc(N.left, N.top, !0, !0);
            H = b.Sc(N.left, N.top, !1, !0);
            W = b.Sc(N.right, N.bottom, !0, !0);
            S = b.Sc(N.right, N.bottom, !1, !0);
            0 !== A && (m = b.Sc(N.right, N.top, !0, !0), q = b.Sc(N.right, N.top, !1, !0), J = b.Sc(N.left, N.bottom, !0, !0), N = b.Sc(N.left, N.bottom, !1, !0), A = Math.min(Q, W, m, J),
                W = Math.max(Q, W, m, J), Q = A, A = Math.min(H, S, q, N), S = Math.max(H, S, q, N), H = A);
            Q -= n;
            H -= Ba;
            W += n;
            S += Ba;
            D.left = Q / T;
            D.top = 1 - H / u;
            D.right = W / T;
            D.bottom = 1 - S / u;
            J = Q = Ha(Q);
            N = H = Ha(H);
            ka = W = Ja(W);
            Ia = S = Ja(S);
            J -= n;
            N -= Ba;
            ka += n;
            Ia += Ba;
            0 > Q && (Q = 0);
            0 > H && (H = 0);
            W > T && (W = T);
            S > u && (S = u);
            0 > J && (J = 0);
            0 > N && (N = 0);
            ka > T && (ka = T);
            Ia > u && (Ia = u);
            F.left = Q / T;
            F.top = 1 - H / u;
            F.right = W / T;
            F.bottom = 1 - S / u
        } else F.left = D.left = 0, F.top = D.top = 0, F.right = D.right = 1, F.bottom = D.bottom = 1;
        Ba = c && (a.al(f[0].Kb) || 0 !== n || 0 !== Ba || 1 !== c.opacity || c.type.Ha.$u) || b && !c && 1 !== b.opacity;
        a.Xv();
        if (Ba) {
            z[P] || (z[P] = a.Zd(T, u, this.b.cb));
            if (z[P].Yg !== T || z[P].Xg !== u) a.deleteTexture(z[P]), z[P] = a.Zd(T, u, this.b.cb);
            a.kd(0);
            a.me(z[P]);
            V = Ia - N;
            a.clearRect(J, u - N - V, ka - J, V);
            c ? c.tc(a) : (a.jd(this.b.Ub), a.Kg(b.opacity), a.ef(), a.translate(-O, -y), a.Je(), a.cf(Q, S, W, S, W, H, Q, H, F));
            D.left = D.top = 0;
            D.right = D.bottom = 1;
            c && (A = F.top, F.top = F.bottom, F.bottom = A);
            P = 1;
            Y = 0
        }
        a.Kg(1);
        n = f.length - 1;
        var oa = a.qr(f[n].Kb) || !b && !c && !this.b.Dd;
        m = A = 0;
        for (q = f.length; m < q; m++) {
            z[P] || (z[P] = a.Zd(T, u, this.b.cb));
            if (z[P].Yg !== T || z[P].Xg !==
                u) a.deleteTexture(z[P]), z[P] = a.Zd(T, u, this.b.cb);
            a.kd(f[m].Kb);
            A = f[m].index;
            a.Pn(f[m].Kb) && (this.b.Ia = !0);
            0 != m || Ba ? (a.aj(g, 1 / T, 1 / u, D.left, D.top, D.right, D.bottom, e, k, p, r, (p + t) / 2, (r + v) / 2, this.b.kc.Ca, c ? c.ob[A] : b ? b.ob[A] : this.ob[A]), a.jd(null), m !== n || oa ? (a.me(z[P]), V = Ia - N, E = u - N - V, a.clearRect(J, E, ka - J, V)) : (c ? a.Jg(c.Mc, c.Hc) : b && a.Jg(b.Mc, b.Hc), a.me(g)), a.jd(z[Y]), a.ef(), a.translate(-O, -y), a.Je(), a.cf(Q, S, W, S, W, H, Q, H, F), m !== n || oa || a.jd(null)) : (a.me(z[P]), V = Ia - N, E = u - N - V, a.clearRect(J, E, ka - J, V), c ? (c.ec &&
                c.ec.L ? (E = c.ec.L, Y = 1 / E.width, E = 1 / E.height) : (Y = 1 / c.width, E = 1 / c.height), a.aj(g, Y, E, D.left, D.top, D.right, D.bottom, e, k, p, r, (p + t) / 2, (r + v) / 2, this.b.kc.Ca, c.ob[A]), c.tc(a)) : (a.aj(g, 1 / T, 1 / u, 0, 0, 1, 1, e, k, p, r, (p + t) / 2, (r + v) / 2, this.b.kc.Ca, b ? b.ob[A] : this.ob[A]), a.jd(b ? this.b.Ub : this.b.Gb), a.ef(), a.translate(-O, -y), a.Je(), a.cf(Q, S, W, S, W, H, Q, H, F)), D.left = D.top = 0, D.right = D.bottom = 1, c && !oa && (A = S, S = H, H = A));
            P = 0 === P ? 1 : 0;
            Y = 0 === P ? 1 : 0
        }
        oa && (a.kd(0), c ? a.Jg(c.Mc, c.Hc) : b ? a.Jg(b.Mc, b.Hc) : this.b.Dd || (a.Lh(this.b.width, this.b.height),
            O = this.b.width / 2, y = this.b.height / 2, H = Q = 0, W = this.b.width, S = this.b.height), a.me(g), a.jd(z[Y]), a.ef(), a.translate(-O, -y), a.Je(), c && 1 === f.length && !Ba ? a.cf(Q, H, W, H, W, S, Q, S, F) : a.cf(Q, S, W, S, W, H, Q, H, F), a.jd(null))
    };
    e.prototype.Hm = function(a) {
        var b, c;
        b = 0;
        for (c = this.T.length; b < c; b++)
            if (this.T[b].Ba === a) return this.T[b];
        return null
    };
    e.prototype.Uc = function() {
        var a, b, c, g = {
            sx: this.scrollX,
            sy: this.scrollY,
            s: this.scale,
            a: this.j,
            w: this.width,
            h: this.height,
            fv: this.mi,
            persist: this.Eg,
            fx: [],
            layers: {}
        };
        a = 0;
        for (b = this.ga.length; a <
            b; a++) c = this.ga[a], g.fx.push({
            name: c.name,
            active: c.G,
            params: this.ob[c.index]
        });
        a = 0;
        for (b = this.T.length; a < b; a++) c = this.T[a], g.layers[c.Ba.toString()] = c.Uc();
        return g
    };
    e.prototype.xd = function(a) {
        var b, c, g, f;
        this.scrollX = a.sx;
        this.scrollY = a.sy;
        this.scale = a.s;
        this.j = a.a;
        this.width = a.w;
        this.height = a.h;
        this.Eg = a.persist;
        "undefined" !== typeof a.fv && (this.mi = a.fv);
        var e = a.fx;
        b = 0;
        for (c = e.length; b < c; b++)
            if (g = this.Sp(e[b].name)) g.G = e[b].active, this.ob[g.index] = e[b].params;
        this.Ie();
        b = a.layers;
        for (f in b) b.hasOwnProperty(f) &&
            (a = this.Hm(parseInt(f, 10))) && a.xd(b[f])
    };
    ic = e;
    k.prototype.Ie = function() {
        C(this.Ja);
        this.Jf = !0;
        var a, b, c;
        a = 0;
        for (b = this.ga.length; a < b; a++) c = this.ga[a], c.G && (this.Ja.push(c), c.Be || (this.Jf = !1))
    };
    k.prototype.Sp = function(a) {
        var b, c, g;
        b = 0;
        for (c = this.ga.length; b < c; b++)
            if (g = this.ga[b], g.name === a) return g;
        return null
    };
    k.prototype.Jz = function() {
        var a, b, c, g, f, e;
        b = a = 0;
        for (c = this.Gd.length; a < c; a++) {
            g = this.Gd[a];
            f = this.b.I[g[1]];
            e = this.b.cs(f);
            f = !0;
            if (!e || this.lc.mi) {
                g = this.b.eg(g, this, !0);
                if (!g) continue;
                q.push(g);
                g.type.global && (f = !1, this.Ij.push(g.uid))
            }
            f && (this.Gd[b] = this.Gd[a], b++)
        }
        this.Gd.length = b;
        this.b.Dc();
        !this.b.F && this.ga.length && (this.Ec = this.lA);
        this.Gj = Ab(this.Ec);
        this.b.J && Bb(this, this.Ec, this.b.J);
        this.De = !0
    };
    k.prototype.Yi = function(a, b) {
        var c = Va(this.d, a);
        0 > c || (b && this.Td && a.gd && a.gd.right >= a.gd.left && (a.Wa(), this.zc.update(a, a.gd, null), a.gd.set(0, 0, -1, -1)), c === this.d.length - 1 ? this.d.pop() : (Oa(this.d, c), this.ll(c)), this.De = !0)
    };
    k.prototype.Cj = function(a, b) {
        a.Ke = this.d.length;
        this.d.push(a);
        b && this.Td && a.gd && a.eb();
        this.De = !0
    };
    k.prototype.OC = function(a) {
        this.d.unshift(a);
        this.ll(0)
    };
    k.prototype.oC = function(a, b, c) {
        var g = a.We();
        b = b.We();
        Oa(this.d, g);
        g < b && b--;
        c && b++;
        b === this.d.length ? this.d.push(a) : this.d.splice(b, 0, a);
        this.ll(g < b ? g : b)
    };
    k.prototype.ll = function(a) {
        -1 === this.Rf ? this.Rf = a : a < this.Rf && (this.Rf = a);
        this.De = this.Sh = !0
    };
    k.prototype.gs = function() {
        if (this.Sh) {
            -1 === this.Rf && (this.Rf = 0);
            var a, b, c;
            if (this.Td)
                for (a = this.Rf, b = this.d.length; a < b; ++a) c = this.d[a], c.Ke = a, this.zc.kC(c.gd);
            else
                for (a =
                    this.Rf, b = this.d.length; a < b; ++a) this.d[a].Ke = a;
            this.Sh = !1;
            this.Rf = -1
        }
    };
    k.prototype.Fd = function(a) {
        return this.gB() * (this.b.Dd || a ? this.b.Dj : 1)
    };
    k.prototype.gB = function() {
        return (this.scale * this.lc.scale - 1) * this.Le + 1
    };
    k.prototype.Sb = function() {
        return this.vf ? 0 : bb(this.lc.j + this.j)
    };
    var a = [],
        c = [],
        t = [];
    k.prototype.Xp = function() {
        this.gs();
        this.zc.Sn(this.Oa, this.Ta, this.Xa, this.$a, t);
        if (!t.length) return n();
        if (1 === t.length) {
            var a = n();
            Ra(a, t[0]);
            C(t);
            return a
        }
        for (var f = !0; 1 < t.length;) {
            for (var a = t, l = void 0,
                    g = void 0, e = void 0, k = void 0, m = void 0, l = 0, g = a.length; l < g - 1; l += 2) {
                var e = a[l],
                    k = a[l + 1],
                    m = n(),
                    p = e,
                    r = k,
                    q = m,
                    v = 0,
                    z = 0,
                    R = 0,
                    K = p.length,
                    x = r.length,
                    A = void 0,
                    P = void 0;
                for (q.length = K + x; v < K && z < x; ++R) A = p[v], P = r[z], A.Ke < P.Ke ? (q[R] = A, ++v) : (q[R] = P, ++z);
                for (; v < K; ++v, ++R) q[R] = p[v];
                for (; z < x; ++z, ++R) q[R] = r[z];
                f || (b(e), b(k));
                c.push(m)
            }
            1 === g % 2 && (f ? (e = n(), Ra(e, a[g - 1]), c.push(e)) : c.push(a[g - 1]));
            Ra(a, c);
            C(c);
            f = !1
        }
        a = t[0];
        C(t);
        return a
    };
    k.prototype.Cd = function(a) {
        this.df = this.Cm || 1 !== this.opacity || 0 !== this.Ec;
        var c = this.b.canvas,
            f = a,
            g = !1;
        this.df && (this.b.en || (this.b.en = document.createElement("canvas"), c = this.b.en, c.width = this.b.X, c.height = this.b.W, this.b.xu = c.getContext("2d"), g = !0), c = this.b.en, f = this.b.xu, c.width !== this.b.X && (c.width = this.b.X, g = !0), c.height !== this.b.W && (c.height = this.b.W, g = !0), g && this.b.$n(f, this.b.cb), this.He && f.clearRect(0, 0, this.b.X, this.b.W));
        f.globalAlpha = 1;
        f.globalCompositeOperation = "source-over";
        this.He || (f.fillStyle = "rgb(" + this.re[0] + "," + this.re[1] + "," + this.re[2] + ")", f.fillRect(0, 0, this.b.X, this.b.W));
        f.save();
        this.vf = !0;
        var g = this.qc(0, 0, !0, !0),
            e = this.qc(0, 0, !1, !0);
        this.vf = !1;
        this.b.Md && (g = Math.round(g), e = Math.round(e));
        this.Wn(g, e, f);
        var k = this.Fd();
        f.scale(k, k);
        f.translate(-g, -e);
        this.Td ? (this.rc.left = this.zc.Xc(this.Oa), this.rc.top = this.zc.Yc(this.Ta), this.rc.right = this.zc.Xc(this.Xa), this.rc.bottom = this.zc.Yc(this.$a), this.De || !this.rc.Pj(this.Gi) ? (b(this.Df), g = this.Xp(), this.De = !1, this.Gi.ei(this.rc)) : g = this.Df) : g = this.d;
        for (var t, p = null, e = 0, k = g.length; e < k; ++e) t = g[e], t !== p && (this.fA(t, f),
            p = t);
        this.Td && (this.Df = g);
        f.restore();
        this.df && (a.globalCompositeOperation = this.Gj, a.globalAlpha = this.opacity, a.drawImage(c, 0, 0))
    };
    k.prototype.fA = function(a, b) {
        if (a.visible && 0 !== a.width && 0 !== a.height) {
            a.Wa();
            var c = a.ib;
            c.right < this.Oa || c.bottom < this.Ta || c.left > this.Xa || c.top > this.$a || (b.globalCompositeOperation = a.Gj, a.Cd(b))
        }
    };
    k.prototype.Eo = function() {
        this.vf = !0;
        var a = this.qc(0, 0, !0, !0),
            b = this.qc(0, 0, !1, !0);
        this.vf = !1;
        this.b.Md && (a = Math.round(a), b = Math.round(b));
        this.Wn(a, b, null)
    };
    k.prototype.Wn =
        function(a, b, c) {
            var g = this.Fd();
            this.Oa = a;
            this.Ta = b;
            this.Xa = a + 1 / g * this.b.X;
            this.$a = b + 1 / g * this.b.W;
            this.Oa > this.Xa && (a = this.Oa, this.Oa = this.Xa, this.Xa = a);
            this.Ta > this.$a && (a = this.Ta, this.Ta = this.$a, this.$a = a);
            a = this.Sb();
            0 !== a && (c && (c.translate(this.b.X / 2, this.b.W / 2), c.rotate(-a), c.translate(this.b.X / -2, this.b.W / -2)), this.Of.set(this.Oa, this.Ta, this.Xa, this.$a), this.Of.offset((this.Oa + this.Xa) / -2, (this.Ta + this.$a) / -2), this.Ew.jw(this.Of, a), this.Ew.bt(this.Of), this.Of.offset((this.Oa + this.Xa) / 2, (this.Ta +
                this.$a) / 2), this.Oa = this.Of.left, this.Ta = this.Of.top, this.Xa = this.Of.right, this.$a = this.Of.bottom)
        };
    k.prototype.dh = function(a) {
        if (this.df = this.Cm) {
            this.b.Ub || (this.b.Ub = a.Zd(this.b.X, this.b.W, this.b.cb));
            if (this.b.Ub.Yg !== this.b.X || this.b.Ub.Xg !== this.b.W) a.deleteTexture(this.b.Ub), this.b.Ub = a.Zd(this.b.X, this.b.W, this.b.cb);
            a.me(this.b.Ub)
        }
        this.vf = !0;
        var c = this.qc(0, 0, !0, !0),
            f = this.qc(0, 0, !1, !0);
        this.vf = !1;
        this.b.Md && (c = Math.round(c), f = Math.round(f));
        this.Wn(c, f, null);
        c = this.Fd();
        a.ef();
        a.scale(c,
            c);
        a.Cr(-this.Sb());
        a.translate((this.Oa + this.Xa) / -2, (this.Ta + this.$a) / -2);
        a.Je();
        this.Td ? (this.rc.left = this.zc.Xc(this.Oa), this.rc.top = this.zc.Yc(this.Ta), this.rc.right = this.zc.Xc(this.Xa), this.rc.bottom = this.zc.Yc(this.$a), this.De || !this.rc.Pj(this.Gi) ? (b(this.Df), c = this.Xp(), this.De = !1, this.Gi.ei(this.rc)) : c = this.Df) : c = this.d;
        for (var g, e = null, f = c.length - 1; 0 <= f; --f) g = c[f], g !== e && (this.hA(c[f], a), e = g);
        this.Td && (this.Df = c);
        this.He || (this.np = this.b.fh++, a.ao(this.np), a.$v(1, 1, 1), a.Jt(), a.hD())
    };
    k.prototype.tc =
        function(a) {
            var c = 0,
                f = 0;
            if (this.df = this.Cm || 1 !== this.opacity || 0 < this.Ja.length || 0 !== this.Ec) {
                this.b.Ub || (this.b.Ub = a.Zd(this.b.X, this.b.W, this.b.cb));
                if (this.b.Ub.Yg !== this.b.X || this.b.Ub.Xg !== this.b.W) a.deleteTexture(this.b.Ub), this.b.Ub = a.Zd(this.b.X, this.b.W, this.b.cb);
                a.me(this.b.Ub);
                this.He && a.clear(0, 0, 0, 0)
            }
            this.He || (this.b.gb ? (a.ao(this.np), a.$v(this.re[0] / 255, this.re[1] / 255, this.re[2] / 255), a.Jt(), a.yD()) : a.clear(this.re[0] / 255, this.re[1] / 255, this.re[2] / 255, 1));
            this.vf = !0;
            var g = this.qc(0, 0, !0, !0),
                c = this.qc(0, 0, !1, !0);
            this.vf = !1;
            this.b.Md && (g = Math.round(g), c = Math.round(c));
            this.Wn(g, c, null);
            g = this.Fd();
            a.ef();
            a.scale(g, g);
            a.Cr(-this.Sb());
            a.translate((this.Oa + this.Xa) / -2, (this.Ta + this.$a) / -2);
            a.Je();
            this.Td ? (this.rc.left = this.zc.Xc(this.Oa), this.rc.top = this.zc.Yc(this.Ta), this.rc.right = this.zc.Xc(this.Xa), this.rc.bottom = this.zc.Yc(this.$a), this.De || !this.rc.Pj(this.Gi) ? (b(this.Df), c = this.Xp(), this.De = !1, this.Gi.ei(this.rc)) : c = this.Df) : c = this.d;
            var e, k, t = null,
                f = 0;
            for (e = c.length; f < e; ++f) k =
                c[f], k !== t && (this.gA(c[f], a), t = k);
            this.Td && (this.Df = c);
            this.df && (c = this.Ja.length ? this.Ja[0].Kb : 0, f = this.Ja.length ? this.Ja[0].index : 0, 0 === this.Ja.length || 1 === this.Ja.length && !a.qr(c) && 1 === this.opacity ? (1 === this.Ja.length ? (a.kd(c), a.aj(this.lc.Wj(), 1 / this.b.X, 1 / this.b.W, 0, 0, 1, 1, g, this.Sb(), this.Oa, this.Ta, (this.Oa + this.Xa) / 2, (this.Ta + this.$a) / 2, this.b.kc.Ca, this.ob[f]), a.Pn(c) && (this.b.Ia = !0)) : a.kd(0), a.me(this.lc.Wj()), a.Kg(this.opacity), a.jd(this.b.Ub), a.Jg(this.Mc, this.Hc), a.ef(), a.Je(), g = this.b.X /
                2, c = this.b.W / 2, a.Wi(-g, c, g, c, g, -c, -g, -c), a.jd(null)) : this.lc.ur(a, this, null, this.lc.Wj()))
        };
    k.prototype.gA = function(a, b) {
        if (a.visible && 0 !== a.width && 0 !== a.height) {
            a.Wa();
            var c = a.ib;
            c.right < this.Oa || c.bottom < this.Ta || c.left > this.Xa || c.top > this.$a || (b.ao(a.fh), a.Sw ? this.iA(a, b) : (b.kd(0), b.Jg(a.Mc, a.Hc), a.tc(b)))
        }
    };
    k.prototype.hA = function(a, b) {
        if (a.visible && 0 !== a.width && 0 !== a.height) {
            a.Wa();
            var c = a.ib;
            c.right < this.Oa || c.bottom < this.Ta || c.left > this.Xa || c.top > this.$a || (a.fh = this.b.fh++, 0 === a.Ec && 1 === a.opacity &&
                a.Jf && a.dh && (b.ao(a.fh), a.dh(b)))
        }
    };
    k.prototype.iA = function(a, b) {
        var c = a.Ja[0].Kb,
            g = a.Ja[0].index,
            f = this.Fd();
        if (1 !== a.Ja.length || b.qr(c) || b.RC(c) || (a.j || a.n.Sb()) && b.al(c) || 1 !== a.opacity || a.type.Ha.$u) this.lc.ur(b, this, a, this.df ? this.b.Ub : this.lc.Wj()), b.ef(), b.scale(f, f), b.Cr(-this.Sb()), b.translate((this.Oa + this.Xa) / -2, (this.Ta + this.$a) / -2), b.Je();
        else {
            b.kd(c);
            b.Jg(a.Mc, a.Hc);
            b.Pn(c) && (this.b.Ia = !0);
            var e = 0,
                k = 0,
                p = 0,
                r = 0;
            b.al(c) && (r = a.ib, e = this.Sc(r.left, r.top, !0, !0), k = this.Sc(r.left, r.top, !1, !0),
                p = this.Sc(r.right, r.bottom, !0, !0), r = this.Sc(r.right, r.bottom, !1, !0), e = e / windowWidth, k = 1 - k / windowHeight, p = p / windowWidth, r = 1 - r / windowHeight);
            var t;
            a.ec && a.ec.L ? (t = a.ec.L, c = 1 / t.width, t = 1 / t.height) : (c = 1 / a.width, t = 1 / a.height);
            b.aj(this.df ? this.b.Ub : this.lc.Wj(), c, t, e, k, p, r, f, this.Sb(), this.Oa, this.Ta, (this.Oa + this.Xa) / 2, (this.Ta + this.$a) / 2, this.b.kc.Ca, a.ob[g]);
            a.tc(b)
        }
    };
    k.prototype.qc = function(a, b, c, g) {
        var f = this.b.devicePixelRatio;
        this.b.uh && (a *= f, b *= f);
        var f = this.b.Bv,
            e = this.b.Cv,
            f = (this.lc.scrollX -
                f) * this.je + f,
            e = (this.lc.scrollY - e) * this.ke + e,
            k = f,
            p = e,
            r = 1 / this.Fd(!g);
        g ? (k -= this.b.X * r / 2, p -= this.b.W * r / 2) : (k -= this.b.width * r / 2, p -= this.b.height * r / 2);
        k += a * r;
        p += b * r;
        b = this.Sb();
        0 !== b && (k -= f, p -= e, a = Math.cos(b), b = Math.sin(b), g = k * a - p * b, p = p * a + k * b, k = g + f, p += e);
        return c ? k : p
    };
    k.prototype.Sc = function(a, b, c, g) {
        var f = this.b.Bv,
            e = this.b.Cv,
            k = (this.lc.scrollX - f) * this.je + f,
            p = (this.lc.scrollY - e) * this.ke + e,
            e = k,
            f = p,
            r = this.Sb();
        if (0 !== r) {
            a -= k;
            b -= p;
            var t = Math.cos(-r),
                r = Math.sin(-r),
                v = a * t - b * r;
            b = b * t + a * r;
            a = v + k;
            b += p
        }
        k = 1 / this.Fd(!g);
        g ? (e -= this.b.X * k / 2, f -= this.b.W * k / 2) : (e -= this.b.width * k / 2, f -= this.b.height * k / 2);
        e = (a - e) / k;
        f = (b - f) / k;
        a = this.b.devicePixelRatio;
        this.b.uh && !g && (e /= a, f /= a);
        return c ? e : f
    };
    k.prototype.Uc = function() {
        var a, b, c, g = {
            s: this.scale,
            a: this.j,
            vl: this.Oa,
            vt: this.Ta,
            vr: this.Xa,
            vb: this.$a,
            v: this.visible,
            bc: this.re,
            t: this.He,
            px: this.je,
            py: this.ke,
            o: this.opacity,
            zr: this.Le,
            fx: [],
            cg: this.Ij,
            instances: []
        };
        a = 0;
        for (b = this.ga.length; a < b; a++) c = this.ga[a], g.fx.push({
            name: c.name,
            active: c.G,
            params: this.ob[c.index]
        });
        return g
    };
    k.prototype.xd = function(a) {
        var b, c, g;
        this.scale = a.s;
        this.j = a.a;
        this.Oa = a.vl;
        this.Ta = a.vt;
        this.Xa = a.vr;
        this.$a = a.vb;
        this.visible = a.v;
        this.re = a.bc;
        this.He = a.t;
        this.je = a.px;
        this.ke = a.py;
        this.opacity = a.o;
        this.Le = a.zr;
        this.Ij = a.cg || [];
        Ra(this.Gd, this.rw);
        var f = new ma;
        b = 0;
        for (g = this.Ij.length; b < g; ++b) f.add(this.Ij[b]);
        c = b = 0;
        for (g = this.Gd.length; b < g; ++b) f.contains(this.Gd[b][2]) || (this.Gd[c] = this.Gd[b], ++c);
        Pa(this.Gd, c);
        c = a.fx;
        b = 0;
        for (g = c.length; b < g; b++)
            if (a = this.Sp(c[b].name)) a.G = c[b].active, this.ob[a.index] =
                c[b].params;
        this.Ie();
        this.d.sort(m);
        this.Sh = !0
    };
    Bc = k
})();
(function() {
    function e(a, b) {
        var c, d = a.length;
        switch (d) {
            case 0:
                return !0;
            case 1:
                return a[0] === b[0];
            case 2:
                return a[0] === b[0] && a[1] === b[1];
            default:
                for (c = 0; c < d; c++)
                    if (a[c] !== b[c]) return !1;
                return !0
        }
    }

    function m(a, b) {
        return a.index - b.index
    }

    function k(a) {
        var b, c, d, g;
        2 === a.length ? a[0].index > a[1].index && (b = a[0], a[0] = a[1], a[1] = b) : 2 < a.length && a.sort(m);
        a.length >= M.length && (M.length = a.length + 1);
        M[a.length] || (M[a.length] = []);
        g = M[a.length];
        b = 0;
        for (c = g.length; b < c; b++)
            if (d = g[b], e(a, d)) return d;
        g.push(a);
        return a
    }

    function n(a, b) {
        this.b = a;
        this.Gw = {};
        this.Dt = {};
        this.gq = !1;
        this.cu = new ma;
        this.yp = [];
        this.Zo = [];
        this.name = b[0];
        var c = b[1];
        this.ig = [];
        var d, g;
        d = 0;
        for (g = c.length; d < g; d++) this.eu(c[d], null, this.ig)
    }

    function b(a) {
        this.type = a;
        this.d = [];
        this.la = [];
        this.ma = !0
    }

    function q(a, b, c) {
        this.sheet = a;
        this.parent = b;
        this.b = a.b;
        this.Va = [];
        this.Lg = [];
        this.au = this.xo = this.Zr = this.mq = this.group = this.Pr = !1;
        this.Qb = [];
        this.Ud = [];
        this.ne = [];
        this.Yj = "";
        this.qi = this.mq = this.group = !1;
        this.gm = null;
        c[1] && (this.Yj = c[1][1].toLowerCase(),
            this.group = !0, this.mq = !!c[1][0], this.gm = [], this.qi = this.mq, this.b.Yh.push(this), this.b.Zj[this.Yj] = this);
        this.Ld = c[2];
        this.Ba = c[4];
        this.group || (this.b.Zs[this.Ba.toString()] = this);
        var d = c[5];
        a = 0;
        for (b = d.length; a < b; a++) {
            var g = new Cc(this, d[a]);
            g.index = a;
            this.Qb.push(g);
            this.Ss(g.type)
        }
        d = c[6];
        a = 0;
        for (b = d.length; a < b; a++) g = new Dc(this, d[a]), g.index = a, this.Ud.push(g);
        if (8 === c.length)
            for (c = c[7], a = 0, b = c.length; a < b; a++) this.sheet.eu(c[a], this, this.ne);
        this.Zm = !1;
        this.Qb.length && (this.Zm = null == this.Qb[0].type &&
            this.Qb[0].uc == U.prototype.e.rs)
    }

    function f(a, b) {
        var c, d, g;
        if (a && (-1 === b.indexOf(a) && b.push(a), a.Lc))
            for (c = 0, d = a.qd.length; c < d; c++) g = a.qd[c], a !== g && -1 === b.indexOf(g) && b.push(g)
    }

    function a(a, b) {
        this.Bd = a;
        this.sheet = a.sheet;
        this.b = a.b;
        this.ta = [];
        this.rb = [];
        this.U = {};
        this.index = -1;
        this.Aj = !1;
        this.uc = this.b.Tf(b[1]);
        this.trigger = 0 < b[3];
        this.Ct = 2 === b[3];
        this.Ze = b[4];
        this.Om = b[5];
        this.bC = b[6];
        this.Ba = b[7];
        this.b.bg[this.Ba.toString()] = this; - 1 === b[0] ? (this.type = null, this.Jb = this.Fr, this.Wg = null, this.se = -1) : (this.type = this.b.I[b[0]], this.Jb = this.bC ? this.oD : this.Er, b[2] ? (this.Wg = this.type.Fm(b[2]), this.se = this.type.Qp(b[2])) : (this.Wg = null, this.se = -1), this.Bd.parent && this.Bd.parent.fo());
        this.Ct && (this.Jb = this.pD);
        if (10 === b.length) {
            var c, d, g = b[9];
            c = 0;
            for (d = g.length; c < d; c++) {
                var f = new Ec(this, g[c]);
                this.ta.push(f)
            }
            this.rb.length = g.length
        }
    }

    function c(a, b) {
        this.Bd = a;
        this.sheet = a.sheet;
        this.b = a.b;
        this.ta = [];
        this.rb = [];
        this.U = {};
        this.index = -1;
        this.Aj = !1;
        this.uc = this.b.Tf(b[1]); - 1 === b[0] ? (this.type = null,
            this.Jb = this.Fr, this.Wg = null, this.se = -1) : (this.type = this.b.I[b[0]], this.Jb = this.Er, b[2] ? (this.Wg = this.type.Fm(b[2]), this.se = this.type.Qp(b[2])) : (this.Wg = null, this.se = -1));
        this.Ba = b[3];
        this.b.Vf[this.Ba.toString()] = this;
        if (6 === b.length) {
            var c, d, g = b[5];
            c = 0;
            for (d = g.length; c < d; c++) {
                var f = new Ec(this, g[c]);
                this.ta.push(f)
            }
            this.rb.length = g.length
        }
    }

    function t() {
        w++;
        L.length === w && L.push(new Fc);
        return L[w]
    }

    function d(a, b) {
        this.hb = a;
        this.Bd = a.Bd;
        this.sheet = a.sheet;
        this.b = a.b;
        this.type = b[0];
        this.Ue = null;
        this.Kf =
            0;
        this.get = null;
        this.mt = 0;
        this.lc = null;
        this.key = 0;
        this.object = null;
        this.index = 0;
        this.Al = this.Nh = this.Al = this.Nh = this.Gt = this.ih = this.Bl = null;
        this.pe = !1;
        var c, d, g;
        switch (b[0]) {
            case 0:
            case 7:
                this.Ue = new Gc(this, b[1]);
                this.Kf = 0;
                this.get = this.qB;
                break;
            case 1:
                this.Ue = new Gc(this, b[1]);
                this.Kf = 0;
                this.get = this.rB;
                break;
            case 5:
                this.Ue = new Gc(this, b[1]);
                this.Kf = 0;
                this.get = this.vB;
                break;
            case 3:
            case 8:
                this.mt = b[1];
                this.get = this.oB;
                break;
            case 6:
                this.lc = this.b.Jq[b[1]];
                this.get = this.wB;
                break;
            case 9:
                this.key = b[1];
                this.get = this.uB;
                break;
            case 4:
                this.object = this.b.I[b[1]];
                this.get = this.xB;
                this.Bd.Ss(this.object);
                this.hb instanceof Dc ? this.Bd.fo() : this.Bd.parent && this.Bd.parent.fo();
                break;
            case 10:
                this.index = b[1];
                a.type && a.type.P ? (this.get = this.sB, this.pe = !0) : this.get = this.tB;
                break;
            case 11:
                this.Bl = b[1];
                this.ih = null;
                this.get = this.pB;
                break;
            case 2:
            case 12:
                this.Gt = b[1];
                this.get = this.nB;
                break;
            case 13:
                for (this.get = this.yB, this.Nh = [], this.Al = [], c = 1, d = b.length; c < d; c++) g = new Ec(this.hb, b[c]), this.Nh.push(g), this.Al.push(0)
        }
    }

    function h(a, b, c) {
        this.sheet = a;
        this.parent = b;
        this.b = a.b;
        this.Va = [];
        this.name = c[1];
        this.Cl = c[2];
        this.C = c[3];
        this.nk = !!c[4];
        this.Ym = !!c[5];
        this.Ba = c[6];
        this.b.xj[this.Ba.toString()] = this;
        this.data = this.C;
        this.parent ? (this.Eh = this.nk || this.Ym ? -1 : this.b.FD++, this.b.kz.push(this)) : (this.Eh = -1, this.b.jz.push(this))
    }

    function l(a, b, c) {
        this.sheet = a;
        this.parent = b;
        this.b = a.b;
        this.Va = [];
        this.ak = null;
        this.KB = c[1];
        this.G = !0
    }

    function g() {
        this.zw = [];
        this.reset(null)
    }
    var M = [];
    n.prototype.toString = function() {
        return this.name
    };
    n.prototype.eu = function(a, b, c) {
        switch (a[0]) {
            case 0:
                a = new Hc(this, b, a);
                if (a.Ld)
                    for (c.push(a), c = 0, b = a.Qb.length; c < b; c++) a.Qb[c].trigger && this.fu(a, c);
                else a.mu() ? this.fu(a, 0) : c.push(a);
                break;
            case 1:
                a = new yc(this, b, a);
                c.push(a);
                break;
            case 2:
                a = new Ic(this, b, a), c.push(a)
        }
    };
    n.prototype.zb = function() {
        var a, b;
        a = 0;
        for (b = this.ig.length; a < b; a++) this.ig[a].zb(a < b - 1 && this.ig[a + 1].Zm)
    };
    n.prototype.ds = function() {
        C(this.yp);
        C(this.Zo);
        this.Qs(this);
        C(this.Zo)
    };
    n.prototype.Qs = function(a) {
        var b, c, d, g, f = a.yp,
            h = a.Zo,
            e = this.cu.Pg();
        b = 0;
        for (c = e.length; b < c; ++b) d = e[b], g = d.ak, !d.G || a === g || -1 < h.indexOf(g) || (h.push(g), g.Qs(a), f.push(g))
    };
    n.prototype.Jb = function(a) {
        this.b.FG || (this.gq = !0, a || (this.b.wq = !0));
        var b, c;
        b = 0;
        for (c = this.ig.length; b < c; b++) {
            var d = this.ig[b];
            d.Jb();
            this.b.mp(d.Va);
            this.b.mg && this.b.Dc()
        }
        a || (this.b.wq = !1)
    };
    n.prototype.fu = function(a, b) {
        a.Ld || this.b.zo.push(a);
        var c, d, g = a.Qb[b],
            f;
        g.type ? f = g.type.name : f = "system";
        var h = (c = g.Ct) ? this.Dt : this.Gw;
        h[f] || (h[f] = []);
        f = h[f];
        h = g.uc;
        if (c) {
            if (g.ta.length && (g =
                    g.ta[0], 1 === g.type && 2 === g.Ue.type)) {
                g = g.Ue.value.toLowerCase();
                c = 0;
                for (d = f.length; c < d; c++)
                    if (f[c].method == h) {
                        c = f[c].Qj;
                        c[g] ? c[g].push([a, b]) : c[g] = [
                            [a, b]
                        ];
                        return
                    }
                c = {};
                c[g] = [
                    [a, b]
                ];
                f.push({
                    method: h,
                    Qj: c
                })
            }
        } else {
            c = 0;
            for (d = f.length; c < d; c++)
                if (f[c].method == h) {
                    f[c].Qj.push([a, b]);
                    return
                }
            Wc && h === Wc.prototype.e.Wh ? f.unshift({
                method: h,
                Qj: [
                    [a, b]
                ]
            }) : f.push({
                method: h,
                Qj: [
                    [a, b]
                ]
            })
        }
    };
    jc = n;
    b.prototype.fq = function() {
        return this.ma ? this.type.d.length : this.d.length
    };
    b.prototype.cd = function() {
        return this.ma ? this.type.d :
            this.d
    };
    b.prototype.Xk = function(a) {
        a && (a.b.xb().Db.Ld ? (this.ma && (C(this.d), Ra(this.la, a.type.d), this.ma = !1), a = this.la.indexOf(a), -1 !== a && (this.d.push(this.la[a]), this.la.splice(a, 1))) : (this.ma = !1, C(this.d), this.d[0] = a))
    };
    Hb = b;
    window._c2hh_ = "E8D4EF6B20D81CAD7C3B3932B134BCD4B42AB538";
    q.prototype.zb = function(a) {
        var b, c = this.parent;
        if (this.group)
            for (this.xo = !0; c;) {
                if (!c.group) {
                    this.xo = !1;
                    break
                }
                c = c.parent
            }
        this.Zr = !this.mu() && (!this.parent || this.parent.group && this.parent.xo);
        this.au = !!a;
        this.Lg = this.Va.slice(0);
        for (c = this.parent; c;) {
            a = 0;
            for (b = c.Va.length; a < b; a++) this.hz(c.Va[a]);
            c = c.parent
        }
        this.Va = k(this.Va);
        this.Lg = k(this.Lg);
        a = 0;
        for (b = this.Qb.length; a < b; a++) this.Qb[a].zb();
        a = 0;
        for (b = this.Ud.length; a < b; a++) this.Ud[a].zb();
        a = 0;
        for (b = this.ne.length; a < b; a++) this.ne[a].zb(a < b - 1 && this.ne[a + 1].Zm)
    };
    q.prototype.tD = function(a) {
        if (this.qi !== !!a) {
            this.qi = !!a;
            var b;
            a = 0;
            for (b = this.gm.length; a < b; ++a) this.gm[a].Nw();
            0 < b && this.b.Ya.hh && this.b.Ya.hh.ds()
        }
    };
    q.prototype.Ss = function(a) {
        f(a, this.Va)
    };
    q.prototype.hz = function(a) {
        f(a,
            this.Lg)
    };
    q.prototype.fo = function() {
        this.Pr = !0;
        this.parent && this.parent.fo()
    };
    q.prototype.mu = function() {
        return this.Qb.length ? this.Qb[0].trigger : !1
    };
    q.prototype.Jb = function() {
        var a, b, c = !1,
            d = this.b,
            g = this.b.xb();
        g.Db = this;
        var f = this.Qb;
        this.Zm || (g.Cp = !1);
        if (this.Ld) {
            0 === f.length && (c = !0);
            g.Cb = 0;
            for (a = f.length; g.Cb < a; g.Cb++) b = f[g.Cb], b.trigger || (b = b.Jb()) && (c = !0);
            (g.zh = c) && this.Xn()
        } else {
            g.Cb = 0;
            for (a = f.length; g.Cb < a; g.Cb++)
                if (b = f[g.Cb].Jb(), !b) {
                    g.zh = !1;
                    this.Zr && d.mg && d.Dc();
                    return
                }
            g.zh = !0;
            this.Xn()
        }
        this.nA(g)
    };
    q.prototype.nA = function(a) {
        a.zh && this.au && (a.Cp = !0);
        this.Zr && this.b.mg && this.b.Dc()
    };
    q.prototype.mD = function(a) {
        this.b.xb().Db = this;
        this.Qb[a].Jb() && (this.Xn(), this.b.xb().zh = !0)
    };
    q.prototype.Xn = function() {
        var a = this.b.xb(),
            b;
        a.Zc = 0;
        for (b = this.Ud.length; a.Zc < b; a.Zc++)
            if (this.Ud[a.Zc].Jb()) return;
        this.Tv()
    };
    q.prototype.jD = function() {
        var a = this.b.xb(),
            b;
        for (b = this.Ud.length; a.Zc < b; a.Zc++)
            if (this.Ud[a.Zc].Jb()) return;
        this.Tv()
    };
    q.prototype.Tv = function() {
        if (this.ne.length) {
            var a, b, c, d, g = this.ne.length -
                1;
            this.b.Rn(this);
            if (this.Pr)
                for (a = 0, b = this.ne.length; a < b; a++) c = this.ne[a], (d = !this.xo || !this.group && a < g) && this.b.cl(c.Va), c.Jb(), d ? this.b.Gg(c.Va) : this.b.mp(c.Va);
            else
                for (a = 0, b = this.ne.length; a < b; a++) this.ne[a].Jb();
            this.b.Kn()
        }
    };
    q.prototype.nD = function() {
        var a = this.b.xb();
        a.Db = this;
        var b = !1,
            c;
        a.Cb = 0;
        for (c = this.Qb.length; a.Cb < c; a.Cb++)
            if (this.Qb[a.Cb].Jb()) b = !0;
            else if (!this.Ld) return !1;
        return this.Ld ? b : !0
    };
    q.prototype.Br = function() {
        this.b.jh++;
        var a = this.b.xb().Cb,
            b = this.b.Rn(this);
        if (!this.Ld)
            for (b.Cb =
                a + 1, a = this.Qb.length; b.Cb < a; b.Cb++)
                if (!this.Qb[b.Cb].Jb()) {
                    this.b.Kn();
                    return
                }
        this.Xn();
        this.b.Kn()
    };
    q.prototype.TB = function(a) {
        var b = a.index;
        if (0 === b) return !0;
        for (--b; 0 <= b; --b)
            if (this.Qb[b].type === a.type) return !1;
        return !0
    };
    Hc = q;
    a.prototype.zb = function() {
        var a, b, c;
        a = 0;
        for (b = this.ta.length; a < b; a++) c = this.ta[a], c.zb(), c.pe && (this.Aj = !0)
    };
    a.prototype.pD = function() {
        return !0
    };
    a.prototype.Fr = function() {
        var a, b;
        a = 0;
        for (b = this.ta.length; a < b; a++) this.rb[a] = this.ta[a].get();
        return kb(this.uc.apply(this.b.gf,
            this.rb), this.Om)
    };
    a.prototype.oD = function() {
        var a, b;
        a = 0;
        for (b = this.ta.length; a < b; a++) this.rb[a] = this.ta[a].get();
        a = this.uc.apply(this.Wg ? this.Wg : this.type, this.rb);
        this.type.Wd();
        return a
    };
    a.prototype.Er = function() {
        var a, b, c, d, g, f, h, e, k = this.type,
            l = k.ca(),
            t = this.Bd.Ld && !this.trigger;
        b = 0;
        var m = k.Lc,
            q = k.P,
            n = k.xf,
            w = this.se,
            M = -1 < w,
            L = this.Aj,
            F = this.ta,
            D = this.rb,
            Q = this.Om,
            J = this.uc,
            H;
        if (L)
            for (b = 0, g = F.length; b < g; ++b) f = F[b], f.pe || (D[b] = f.get(0));
        else
            for (b = 0, g = F.length; b < g; ++b) D[b] = F[b].get(0);
        if (l.ma) {
            C(l.d);
            C(l.la);
            H = k.d;
            a = 0;
            for (d = H.length; a < d; ++a) {
                e = H[a];
                if (L)
                    for (b = 0, g = F.length; b < g; ++b) f = F[b], f.pe && (D[b] = f.get(a));
                M ? (b = 0, q && (b = e.type.li[n]), b = J.apply(e.qa[w + b], D)) : b = J.apply(e, D);
                (h = kb(b, Q)) ? l.d.push(e): t && l.la.push(e)
            }
            k.finish && k.finish(!0);
            l.ma = !1;
            k.Wd();
            return l.fq()
        }
        c = 0;
        H = (h = t && !this.Bd.TB(this)) ? l.la : l.d;
        var N = !1;
        a = 0;
        for (d = H.length; a < d; ++a) {
            e = H[a];
            if (L)
                for (b = 0, g = F.length; b < g; ++b) f = F[b], f.pe && (D[b] = f.get(a));
            M ? (b = 0, q && (b = e.type.li[n]), b = J.apply(e.qa[w + b], D)) : b = J.apply(e, D);
            if (kb(b, Q))
                if (N = !0, h) {
                    if (l.d.push(e),
                        m)
                        for (b = 0, g = e.siblings.length; b < g; b++) f = e.siblings[b], f.type.ca().d.push(f)
                } else {
                    H[c] = e;
                    if (m)
                        for (b = 0, g = e.siblings.length; b < g; b++) f = e.siblings[b], f.type.ca().d[c] = f;
                    c++
                }
            else if (h) {
                H[c] = e;
                if (m)
                    for (b = 0, g = e.siblings.length; b < g; b++) f = e.siblings[b], f.type.ca().la[c] = f;
                c++
            } else if (t && (l.la.push(e), m))
                for (b = 0, g = e.siblings.length; b < g; b++) f = e.siblings[b], f.type.ca().la.push(f)
        }
        Pa(H, c);
        if (m)
            for (q = k.qd, a = 0, d = q.length; a < d; a++) e = q[a].ca(), h ? Pa(e.la, c) : Pa(e.d, c);
        c = N;
        if (h && !N)
            for (a = 0, d = l.d.length; a < d; a++) {
                e = l.d[a];
                if (L)
                    for (b = 0, g = F.length; b < g; b++) f = F[b], f.pe && (D[b] = f.get(a));
                b = M ? J.apply(e.qa[w], D) : J.apply(e, D);
                if (kb(b, Q)) {
                    N = !0;
                    break
                }
            }
        k.finish && k.finish(c || t);
        return t ? N : l.fq()
    };
    Cc = a;
    c.prototype.zb = function() {
        var a, b, c;
        a = 0;
        for (b = this.ta.length; a < b; a++) c = this.ta[a], c.zb(), c.pe && (this.Aj = !0)
    };
    c.prototype.Fr = function() {
        var a = this.b,
            b, c, d = this.ta,
            g = this.rb;
        b = 0;
        for (c = d.length; b < c; ++b) g[b] = d[b].get();
        return this.uc.apply(a.gf, g)
    };
    c.prototype.Er = function() {
        var a = this.type,
            b = this.se,
            c = a.xf,
            d = this.Aj,
            g = this.ta,
            f = this.rb,
            h = this.uc,
            e = a.ca().cd(),
            a = a.P,
            k = -1 < b,
            l, t, m, q, n, w;
        if (d)
            for (t = 0, q = g.length; t < q; ++t) n = g[t], n.pe || (f[t] = n.get(0));
        else
            for (t = 0, q = g.length; t < q; ++t) f[t] = g[t].get(0);
        l = 0;
        for (m = e.length; l < m; ++l) {
            w = e[l];
            if (d)
                for (t = 0, q = g.length; t < q; ++t) n = g[t], n.pe && (f[t] = n.get(l));
            k ? (t = 0, a && (t = w.type.li[c]), h.apply(w.qa[b + t], f)) : h.apply(w, f)
        }
        return !1
    };
    Dc = c;
    var L = [],
        w = -1;
    d.prototype.zb = function() {
        var a, b;
        if (11 === this.type) this.ih = this.b.St(this.Bl, this.Bd.parent);
        else if (13 === this.type)
            for (a = 0, b = this.Nh.length; a < b; a++) this.Nh[a].zb();
        this.Ue && this.Ue.zb()
    };
    d.prototype.mC = function(a) {
        this.pe || !a || a.Ha.ho || (this.pe = !0)
    };
    d.prototype.gw = function() {
        this.pe = !0
    };
    d.prototype.qB = function(a) {
        this.Kf = a || 0;
        a = t();
        this.Ue.get(a);
        w--;
        return a.data
    };
    d.prototype.rB = function(a) {
        this.Kf = a || 0;
        a = t();
        this.Ue.get(a);
        w--;
        return wa(a.data) ? a.data : ""
    };
    d.prototype.xB = function() {
        return this.object
    };
    d.prototype.oB = function() {
        return this.mt
    };
    d.prototype.vB = function(a) {
        this.Kf = a || 0;
        a = t();
        this.Ue.get(a);
        w--;
        return a.ic() ? this.b.ni(a.data) : this.b.Gm(a.data)
    };
    d.prototype.wB = function() {
        return this.lc
    };
    d.prototype.uB = function() {
        return this.key
    };
    d.prototype.tB = function() {
        return this.index
    };
    d.prototype.sB = function(a) {
        a = a || 0;
        var b = this.hb.type,
            c = null,
            c = b.ca(),
            d = c.cd();
        if (d.length) c = d[a % d.length].type;
        else if (c.la.length) c = c.la[a % c.la.length].type;
        else if (b.d.length) c = b.d[a % b.d.length].type;
        else return 0;
        return this.index + c.xm[b.xf]
    };
    d.prototype.pB = function() {
        return this.ih
    };
    d.prototype.nB = function() {
        return this.Gt
    };
    d.prototype.yB = function() {
        var a, b;
        a = 0;
        for (b =
            this.Nh.length; a < b; a++) this.Al[a] = this.Nh[a].get();
        return this.Al
    };
    Ec = d;
    h.prototype.zb = function() {
        this.Va = k(this.Va)
    };
    h.prototype.If = function(a) {
        var b = this.b.Rt();
        this.parent && !this.nk && b ? (this.Eh >= b.length && (b.length = this.Eh + 1), b[this.Eh] = a) : this.data = a
    };
    h.prototype.mh = function() {
        var a = this.b.Rt();
        return !this.parent || this.nk || !a || this.Ym ? this.data : this.Eh >= a.length || "undefined" === typeof a[this.Eh] ? this.C : a[this.Eh]
    };
    h.prototype.Jb = function() {
        !this.parent || this.nk || this.Ym || this.If(this.C)
    };
    yc = h;
    l.prototype.toString = function() {
        return "include:" + this.ak.toString()
    };
    l.prototype.zb = function() {
        this.ak = this.b.Ep[this.KB];
        this.sheet.cu.add(this);
        this.Va = k(this.Va);
        for (var a = this.parent; a;) a.group && a.gm.push(this), a = a.parent;
        this.Nw()
    };
    l.prototype.Jb = function() {
        this.parent && this.b.bl(this.b.I);
        this.ak.gq || this.ak.Jb(!0);
        this.parent && this.b.Gg(this.b.I)
    };
    l.prototype.Nw = function() {
        for (var a = this.parent; a;) {
            if (a.group && !a.qi) {
                this.G = !1;
                return
            }
            a = a.parent
        }
        this.G = !0
    };
    Ic = l;
    g.prototype.reset = function(a) {
        this.Db =
            a;
        this.Zc = this.Cb = 0;
        C(this.zw);
        this.Cp = this.zh = !1
    };
    g.prototype.VB = function() {
        return this.Db.Pr ? !0 : this.Cb < this.Db.Qb.length - 1 ? !!this.Db.Va.length : !1
    };
    xc = g
})();
(function() {
    function e(b, a) {
        this.hb = b;
        this.b = b.b;
        this.type = a[0];
        this.get = [this.FA, this.BA, this.OA, this.RA, this.qA, this.PA, this.JA, this.yA, this.IA, this.NA, this.rA, this.MA, this.zA, this.KA, this.GA, this.HA, this.CA, this.DA, this.xA, this.QA, this.LA, this.EA, this.wA, this.AA][this.type];
        var c = null;
        this.Ef = this.ta = this.rb = this.uc = this.vo = this.second = this.first = this.value = null;
        this.se = -1;
        this.xe = null;
        this.Uw = -1;
        this.ih = this.Bl = null;
        this.$i = !1;
        switch (this.type) {
            case 0:
            case 1:
            case 2:
                this.value = a[1];
                break;
            case 3:
                this.first =
                    new Gc(b, a[1]);
                break;
            case 18:
                this.first = new Gc(b, a[1]);
                this.second = new Gc(b, a[2]);
                this.vo = new Gc(b, a[3]);
                break;
            case 19:
                this.uc = this.b.Tf(a[1]);
                this.uc !== U.prototype.Da.random && this.uc !== U.prototype.Da.it || this.hb.gw();
                this.rb = [];
                this.ta = [];
                3 === a.length ? (c = a[2], this.rb.length = c.length + 1) : this.rb.length = 1;
                break;
            case 20:
                this.Ef = this.b.I[a[1]];
                this.se = -1;
                this.uc = this.b.Tf(a[2]);
                this.$i = a[3];
                Xc && this.uc === Xc.prototype.Da.bx && this.hb.gw();
                a[4] ? this.xe = new Gc(b, a[4]) : this.xe = null;
                this.rb = [];
                this.ta = [];
                6 ===
                    a.length ? (c = a[5], this.rb.length = c.length + 1) : this.rb.length = 1;
                break;
            case 21:
                this.Ef = this.b.I[a[1]];
                this.$i = a[2];
                a[3] ? this.xe = new Gc(b, a[3]) : this.xe = null;
                this.Uw = a[4];
                break;
            case 22:
                this.Ef = this.b.I[a[1]];
                this.Ef.Fm(a[2]);
                this.se = this.Ef.Qp(a[2]);
                this.uc = this.b.Tf(a[3]);
                this.$i = a[4];
                a[5] ? this.xe = new Gc(b, a[5]) : this.xe = null;
                this.rb = [];
                this.ta = [];
                7 === a.length ? (c = a[6], this.rb.length = c.length + 1) : this.rb.length = 1;
                break;
            case 23:
                this.Bl = a[1], this.ih = null
        }
        this.hb.mC(this.Ef);
        4 <= this.type && 17 >= this.type && (this.first =
            new Gc(b, a[1]), this.second = new Gc(b, a[2]));
        if (c) {
            var e, d;
            e = 0;
            for (d = c.length; e < d; e++) this.ta.push(new Gc(b, c[e]))
        }
    }

    function m() {
        ++q;
        b.length === q && b.push(new Fc);
        return b[q]
    }

    function k(b, a, c) {
        var e, d;
        e = 0;
        for (d = b.length; e < d; ++e) b[e].get(c), a[e + 1] = c.data
    }

    function n(b, a) {
        this.type = b || Jc.Uh;
        this.data = a || 0;
        this.Hh = null;
        this.type == Jc.Uh && (this.data = Math.floor(this.data))
    }
    e.prototype.zb = function() {
        23 === this.type && (this.ih = this.hb.b.St(this.Bl, this.hb.Bd.parent));
        this.first && this.first.zb();
        this.second && this.second.zb();
        this.vo && this.vo.zb();
        this.xe && this.xe.zb();
        if (this.ta) {
            var b, a;
            b = 0;
            for (a = this.ta.length; b < a; b++) this.ta[b].zb()
        }
    };
    var b = [],
        q = -1;
    e.prototype.QA = function(b) {
        var a = this.ta,
            c = this.rb;
        c[0] = b;
        b = m();
        k(a, c, b);
        --q;
        this.uc.apply(this.b.gf, c)
    };
    e.prototype.LA = function(b) {
        var a = this.Ef,
            c = this.rb,
            e = this.ta,
            d = this.xe,
            h = this.uc,
            l = this.hb.Kf,
            g = a.ca(),
            n = g.cd();
        if (!n.length)
            if (g.la.length) n = g.la;
            else {
                this.$i ? b.oc("") : b.Za(0);
                return
            }
        c[0] = b;
        b.Hh = a;
        b = m();
        k(e, c, b);
        d && (d.get(b), b.ic() && (l = b.data, n = a.d));
        --q;
        a = n.length;
        if (l >= a || l <= -a) l %= a;
        0 > l && (l += a);
        h.apply(n[l], c)
    };
    e.prototype.wA = function(b) {
        var a = this.Ef,
            c = this.rb,
            e = this.ta,
            d = this.xe,
            h = this.se,
            l = this.uc,
            g = this.hb.Kf,
            n = a.ca(),
            L = n.cd();
        if (!L.length)
            if (n.la.length) L = n.la;
            else {
                this.$i ? b.oc("") : b.Za(0);
                return
            }
        c[0] = b;
        b.Hh = a;
        b = m();
        k(e, c, b);
        d && (d.get(b), b.ic() && (g = b.data, L = a.d));
        --q;
        e = L.length;
        if (g >= e || g <= -e) g %= e;
        0 > g && (g += e);
        g = L[g];
        L = 0;
        a.P && (L = g.type.li[a.xf]);
        l.apply(g.qa[h + L], c)
    };
    e.prototype.EA = function(b) {
        var a = this.xe,
            c = this.Ef,
            e = this.Uw,
            d = this.hb.Kf,
            h = c.ca(),
            k =
            h.cd();
        if (!k.length)
            if (h.la.length) k = h.la;
            else {
                this.$i ? b.oc("") : b.Za(0);
                return
            }
        if (a) {
            h = m();
            a.get(h);
            if (h.ic()) {
                d = h.data;
                k = c.d;
                0 !== k.length && (d %= k.length, 0 > d && (d += k.length));
                d = c.Vp(d);
                c = d.Tb[e];
                wa(c) ? b.oc(c) : b.A(c);
                --q;
                return
            }--q
        }
        a = k.length;
        if (d >= a || d <= -a) d %= a;
        0 > d && (d += a);
        d = k[d];
        k = 0;
        c.P && (k = d.type.xm[c.xf]);
        c = d.Tb[e + k];
        wa(c) ? b.oc(c) : b.A(c)
    };
    e.prototype.FA = function(b) {
        b.type = Jc.Uh;
        b.data = this.value
    };
    e.prototype.BA = function(b) {
        b.type = Jc.Th;
        b.data = this.value
    };
    e.prototype.OA = function(b) {
        b.type = Jc.String;
        b.data = this.value
    };
    e.prototype.RA = function(b) {
        this.first.get(b);
        b.ic() && (b.data = -b.data)
    };
    e.prototype.qA = function(b) {
        this.first.get(b);
        var a = m();
        this.second.get(a);
        b.ic() && a.ic() && (b.data += a.data, a.xi() && b.Ki());
        --q
    };
    e.prototype.PA = function(b) {
        this.first.get(b);
        var a = m();
        this.second.get(a);
        b.ic() && a.ic() && (b.data -= a.data, a.xi() && b.Ki());
        --q
    };
    e.prototype.JA = function(b) {
        this.first.get(b);
        var a = m();
        this.second.get(a);
        b.ic() && a.ic() && (b.data *= a.data, a.xi() && b.Ki());
        --q
    };
    e.prototype.yA = function(b) {
        this.first.get(b);
        var a = m();
        this.second.get(a);
        b.ic() && a.ic() && (b.data /= a.data, b.Ki());
        --q
    };
    e.prototype.IA = function(b) {
        this.first.get(b);
        var a = m();
        this.second.get(a);
        b.ic() && a.ic() && (b.data %= a.data, a.xi() && b.Ki());
        --q
    };
    e.prototype.NA = function(b) {
        this.first.get(b);
        var a = m();
        this.second.get(a);
        b.ic() && a.ic() && (b.data = Math.pow(b.data, a.data), a.xi() && b.Ki());
        --q
    };
    e.prototype.rA = function(b) {
        this.first.get(b);
        var a = m();
        this.second.get(a);
        a.Bi() || b.Bi() ? this.tA(b, a) : this.sA(b, a);
        --q
    };
    e.prototype.tA = function(b, a) {
        b.Bi() &&
            a.Bi() ? this.vA(b, a) : this.uA(b, a)
    };
    e.prototype.vA = function(b, a) {
        b.data += a.data
    };
    e.prototype.uA = function(b, a) {
        b.Bi() ? b.data += (Math.round(1E10 * a.data) / 1E10).toString() : b.oc(b.data.toString() + a.data)
    };
    e.prototype.sA = function(b, a) {
        b.Za(b.data && a.data ? 1 : 0)
    };
    e.prototype.MA = function(b) {
        this.first.get(b);
        var a = m();
        this.second.get(a);
        b.ic() && a.ic() && (b.data || a.data ? b.Za(1) : b.Za(0));
        --q
    };
    e.prototype.xA = function(b) {
        this.first.get(b);
        b.data ? this.second.get(b) : this.vo.get(b)
    };
    e.prototype.zA = function(b) {
        this.first.get(b);
        var a = m();
        this.second.get(a);
        b.Za(b.data === a.data ? 1 : 0);
        --q
    };
    e.prototype.KA = function(b) {
        this.first.get(b);
        var a = m();
        this.second.get(a);
        b.Za(b.data !== a.data ? 1 : 0);
        --q
    };
    e.prototype.GA = function(b) {
        this.first.get(b);
        var a = m();
        this.second.get(a);
        b.Za(b.data < a.data ? 1 : 0);
        --q
    };
    e.prototype.HA = function(b) {
        this.first.get(b);
        var a = m();
        this.second.get(a);
        b.Za(b.data <= a.data ? 1 : 0);
        --q
    };
    e.prototype.CA = function(b) {
        this.first.get(b);
        var a = m();
        this.second.get(a);
        b.Za(b.data > a.data ? 1 : 0);
        --q
    };
    e.prototype.DA = function(b) {
        this.first.get(b);
        var a = m();
        this.second.get(a);
        b.Za(b.data >= a.data ? 1 : 0);
        --q
    };
    e.prototype.AA = function(b) {
        var a = this.ih.mh();
        va(a) ? b.A(a) : b.oc(a)
    };
    Gc = e;
    n.prototype.xi = function() {
        return this.type === Jc.Th
    };
    n.prototype.ic = function() {
        return this.type === Jc.Uh || this.type === Jc.Th
    };
    n.prototype.Bi = function() {
        return this.type === Jc.String
    };
    n.prototype.Ki = function() {
        this.xi() || (this.Bi() && (this.data = parseFloat(this.data)), this.type = Jc.Th)
    };
    n.prototype.Za = function(b) {
        this.type = Jc.Uh;
        this.data = Math.floor(b)
    };
    n.prototype.A = function(b) {
        this.type =
            Jc.Th;
        this.data = b
    };
    n.prototype.oc = function(b) {
        this.type = Jc.String;
        this.data = b
    };
    n.prototype.hw = function(b) {
        va(b) ? (this.type = Jc.Th, this.data = b) : wa(b) ? (this.type = Jc.String, this.data = b.toString()) : (this.type = Jc.Uh, this.data = 0)
    };
    Fc = n;
    Jc = {
        Uh: 0,
        Th: 1,
        String: 2
    }
})();

function U(e) {
    this.b = e;
    this.md = []
}
U.prototype.Uc = function() {
    var e = {},
        m, k, n, b, q, f, a, c;
    e.waits = [];
    var t = e.waits,
        d;
    m = 0;
    for (k = this.md.length; m < k; m++) {
        f = this.md[m];
        d = {
            t: f.time,
            st: f.pw,
            s: f.Nr,
            ev: f.ki.Ba,
            sm: [],
            sols: {}
        };
        f.ki.Ud[f.Zc] && (d.act = f.ki.Ud[f.Zc].Ba);
        n = 0;
        for (b = f.Va.length; n < b; n++) d.sm.push(f.Va[n].Ba);
        for (q in f.Vc)
            if (f.Vc.hasOwnProperty(q)) {
                a = this.b.I[parseInt(q, 10)];
                c = {
                    sa: f.Vc[q].Yn,
                    insts: []
                };
                n = 0;
                for (b = f.Vc[q].zf.length; n < b; n++) c.insts.push(f.Vc[q].zf[n].uid);
                d.sols[a.Ba.toString()] = c
            }
        t.push(d)
    }
    return e
};
U.prototype.xd = function(e) {
    e = e.waits;
    var m, k, n, b, q, f, a, c, t, d, h;
    C(this.md);
    m = 0;
    for (k = e.length; m < k; m++)
        if (f = e[m], c = this.b.Zs[f.ev.toString()]) {
            t = -1;
            n = 0;
            for (b = c.Ud.length; n < b; n++)
                if (c.Ud[n].Ba === f.act) {
                    t = n;
                    break
                }
            if (-1 !== t) {
                a = {
                    Vc: {},
                    Va: [],
                    zp: !1
                };
                a.time = f.t;
                a.pw = f.st || "";
                a.Nr = !!f.s;
                a.ki = c;
                a.Zc = t;
                n = 0;
                for (b = f.sm.length; n < b; n++)(c = this.b.Im(f.sm[n])) && a.Va.push(c);
                for (q in f.sols)
                    if (f.sols.hasOwnProperty(q) && (c = this.b.Im(parseInt(q, 10)))) {
                        t = f.sols[q];
                        d = {
                            Yn: t.sa,
                            zf: []
                        };
                        n = 0;
                        for (b = t.insts.length; n < b; n++)(h =
                            this.b.oi(t.insts[n])) && d.zf.push(h);
                        a.Vc[c.index.toString()] = d
                    }
                this.md.push(a)
            }
        }
};
(function() {
    function e() {}

    function m() {}

    function k() {}
    var n = U.prototype;
    e.prototype.ts = function() {
        return !0
    };
    e.prototype.by = function() {
        return !0
    };
    e.prototype.hx = function(a, b, d) {
        return Kc(a, b, d)
    };
    e.prototype.Gx = function(a) {
        return a ? a.visible : !1
    };
    var b = [],
        q = -1;
    e.prototype.ox = function(a) {
        var f = a.ca();
        q++;
        b.length === q && b.push([]);
        var d = b[q];
        Ra(d, f.cd());
        var h = this.b.xb(),
            e = h.Db,
            g = h.VB(),
            h = this.b.TC(),
            k, m, n, p, r, G, v = a.Lc;
        if (g)
            for (g = 0, k = d.length; g < k && !h.pc; g++) {
                this.b.cl(e.Va);
                p = d[g];
                f = a.ca();
                f.ma = !1;
                C(f.d);
                f.d[0] = p;
                if (v)
                    for (m = 0, n = p.siblings.length; m < n; m++) r = p.siblings[m], G = r.type.ca(), G.ma = !1, C(G.d), G.d[0] = r;
                h.index = g;
                e.Br();
                this.b.Gg(e.Va)
            } else
                for (f.ma = !1, C(f.d), g = 0, k = d.length; g < k && !h.pc; g++) {
                    p = d[g];
                    f.d[0] = p;
                    if (v)
                        for (m = 0, n = p.siblings.length; m < n; m++) r = p.siblings[m], G = r.type.ca(), G.ma = !1, C(G.d), G.d[0] = r;
                    h.index = g;
                    e.Br()
                }
        C(d);
        this.b.JC();
        q--;
        return !1
    };
    e.prototype.Yy = function() {
        var a = this.b.Uj().U;
        "undefined" === typeof a.TriggerOnce_lastTick && (a.TriggerOnce_lastTick = -1);
        var b = a.TriggerOnce_lastTick,
            d =
            this.b.Nf;
        a.TriggerOnce_lastTick = d;
        return this.b.Iq || b !== d - 1
    };
    e.prototype.nx = function(a) {
        var b = this.b.Uj(),
            d = b.U.Every_lastTime || 0,
            f = this.b.kc.Ca;
        "undefined" === typeof b.U.Every_seconds && (b.U.Every_seconds = a);
        var e = b.U.Every_seconds;
        if (f >= d + e) return b.U.Every_lastTime = d + e, f >= b.U.Every_lastTime + .04 && (b.U.Every_lastTime = f), b.U.Every_seconds = a, !0;
        f < d - .1 && (b.U.Every_lastTime = f);
        return !1
    };
    e.prototype.kx = function(a, b, d) {
        return Kc(a.mh(), b, d)
    };
    e.prototype.yx = function(a) {
        return (a = this.b.Zj[a.toLowerCase()]) &&
            a.qi
    };
    e.prototype.rs = function() {
        var a = this.b.xb();
        return a.Cp ? !1 : !a.zh
    };
    e.prototype.us = function() {
        return !0
    };
    e.prototype.Nx = function() {
        return !0
    };
    e.prototype.Po = function() {
        return !0
    };
    e.prototype.ys = function() {
        return !0
    };
    e.prototype.cy = function() {
        return !0
    };
    e.prototype.Il = function() {
        return !0
    };
    e.prototype.Bx = function(a) {
        var b = this.b;
        switch (a) {
            case 0:
                return !b.yb && !b.lu && !b.Qc && !b.Um && !b.rg && !b.Sm && !b.Pm;
            case 1:
                return b.ud;
            case 2:
                return b.ee;
            case 3:
                return b.Wm;
            case 4:
                return b.rg;
            case 5:
                return b.Sm;
            case 6:
                return b.xq;
            case 7:
                return b.sd;
            case 8:
                return b.Qc;
            case 9:
                return b.QB;
            case 10:
                return b.lu;
            case 11:
                return b.ek;
            case 12:
                return b.Pm;
            case 13:
                return b.Vm;
            default:
                return !1
        }
    };
    e.prototype.Zw = function(a, b, d) {
        return fb(Ya(a), Ya(d)) <= Ya(b)
    };
    e.prototype.xx = function(a, b) {
        return hb(Ya(a), Ya(b))
    };
    e.prototype.vx = function(a, b, d) {
        a = db(a);
        b = db(b);
        d = db(d);
        return hb(d, b) ? hb(a, b) && !hb(a, d) : !(!hb(a, b) && hb(a, d))
    };
    n.e = new e;
    m.prototype.lx = function(a, b, d, f) {
        if (b && a && (b = this.b.up(a, b, d, f))) {
            this.b.Hd++;
            var e;
            this.b.trigger(Object.getPrototypeOf(a.Ha).e.Vh,
                b);
            if (b.Lc)
                for (d = 0, f = b.siblings.length; d < f; d++) e = b.siblings[d], this.b.trigger(Object.getPrototypeOf(e.type.Ha).e.Vh, e);
            this.b.Hd--;
            a = a.ca();
            a.ma = !1;
            C(a.d);
            a.d[0] = b;
            if (b.Lc)
                for (d = 0, f = b.siblings.length; d < f; d++) e = b.siblings[d], a = e.type.ca(), a.ma = !1, C(a.d), a.d[0] = e
        }
    };
    m.prototype.Iy = function(a, b) {
        a && a.visible !== b && (a.visible = b, this.b.Ia = !0)
    };
    m.prototype.Hy = function(a, b) {
        a && (b = Xa(b / 100, 0, 1), a.opacity !== b && (a.opacity = b, this.b.Ia = !0))
    };
    m.prototype.Oy = function(a, b) {
        0 === a.Cl ? va(b) ? a.If(b) : a.If(parseFloat(b)) :
            1 === a.Cl && a.If(b.toString())
    };
    m.prototype.Yw = function(a, b) {
        0 === a.Cl ? va(b) ? a.If(a.mh() + b) : a.If(a.mh() + parseFloat(b)) : 1 === a.Cl && a.If(a.mh() + b.toString())
    };
    m.prototype.Vy = function(a, b) {
        0 === a.Cl && (va(b) ? a.If(a.mh() - b) : a.If(a.mh() - parseFloat(b)))
    };
    var f = [],
        a = [];
    m.prototype.Zy = function(b) {
        if (!(0 > b)) {
            var e, d, h, k = this.b.xb(),
                g;
            f.length ? g = f.pop() : g = {
                Vc: {},
                Va: []
            };
            g.zp = !1;
            g.time = this.b.kc.Ca + b;
            g.pw = "";
            g.Nr = !1;
            g.ki = k.Db;
            g.Zc = k.Zc + 1;
            b = 0;
            for (e = this.b.I.length; b < e; b++) h = this.b.I[b], d = h.ca(), d.ma && -1 === k.Db.Va.indexOf(h) ||
                (g.Va.push(h), h = void 0, a.length ? h = a.pop() : h = {
                    zf: []
                }, h.Yn = !1, h.Yn = d.ma, Ra(h.zf, d.d), g.Vc[b.toString()] = h);
            this.md.push(g);
            return !0
        }
    };
    n.B = new m;
    k.prototype["int"] = function(a, b) {
        wa(b) ? (a.Za(parseInt(b, 10)), isNaN(a.data) && (a.data = 0)) : a.Za(b)
    };
    k.prototype["float"] = function(a, b) {
        wa(b) ? (a.A(parseFloat(b)), isNaN(a.data) && (a.data = 0)) : a.A(b)
    };
    k.prototype.random = function(a, b, d) {
        void 0 === d ? a.A(Math.random() * b) : a.A(Math.random() * (d - b) + b)
    };
    k.prototype.sqrt = function(a, b) {
        a.A(Math.sqrt(b))
    };
    k.prototype.abs = function(a,
        b) {
        a.A(Math.abs(b))
    };
    k.prototype.round = function(a, b) {
        a.Za(Math.round(b))
    };
    k.prototype.floor = function(a, b) {
        a.Za(Math.floor(b))
    };
    k.prototype.ceil = function(a, b) {
        a.Za(Math.ceil(b))
    };
    k.prototype.sin = function(a, b) {
        a.A(Math.sin(Ya(b)))
    };
    k.prototype.cos = function(a, b) {
        a.A(Math.cos(Ya(b)))
    };
    k.prototype.tan = function(a, b) {
        a.A(Math.tan(Ya(b)))
    };
    k.prototype.asin = function(a, b) {
        a.A(Za(Math.asin(b)))
    };
    k.prototype.acos = function(a, b) {
        a.A(Za(Math.acos(b)))
    };
    k.prototype.atan = function(a, b) {
        a.A(Za(Math.atan(b)))
    };
    k.prototype.exp =
        function(a, b) {
            a.A(Math.exp(b))
        };
    k.prototype.log10 = function(a, b) {
        a.A(Math.log(b) / Math.LN10)
    };
    k.prototype.max = function(a) {
        var b = arguments[1];
        "number" !== typeof b && (b = 0);
        var d, f, e;
        d = 2;
        for (f = arguments.length; d < f; d++) e = arguments[d], "number" === typeof e && b < e && (b = e);
        a.A(b)
    };
    k.prototype.min = function(a) {
        var b = arguments[1];
        "number" !== typeof b && (b = 0);
        var d, f, e;
        d = 2;
        for (f = arguments.length; d < f; d++) e = arguments[d], "number" === typeof e && b > e && (b = e);
        a.A(b)
    };
    k.prototype.gg = function(a) {
        a.A(this.b.gg)
    };
    k.prototype.Qh = function(a) {
        a.A(this.b.Qh)
    };
    k.prototype.time = function(a) {
        a.A(this.b.kc.Ca)
    };
    k.prototype.Nf = function(a) {
        a.Za(this.b.Nf)
    };
    k.prototype.vn = function(a) {
        a.Za(this.b.vn)
    };
    k.prototype.Lp = function(a) {
        a.Za(this.b.Lp)
    };
    k.prototype.j = function(a, b, d, f, e) {
        a.A(Za(eb(b, d, f, e)))
    };
    k.prototype.bi = function(a, b, d, f) {
        b < d ? a.A(d) : b > f ? a.A(f) : a.A(b)
    };
    k.prototype.left = function(a, b, d) {
        a.oc(wa(b) ? b.substr(0, d) : "")
    };
    k.prototype.right = function(a, b, d) {
        a.oc(wa(b) ? b.substr(b.length - d) : "")
    };
    k.prototype.replace = function(a, b, d, f) {
        wa(b) && wa(d) && wa(f) ? a.oc(b.replace(new RegExp(sb(d),
            "gi"), f)) : a.oc(wa(b) ? b : "")
    };
    k.prototype.trim = function(a, b) {
        a.oc(wa(b) ? b.trim() : "")
    };
    k.prototype.it = function(a) {
        var b = Ha(Math.random() * (arguments.length - 1));
        a.hw(arguments[b + 1])
    };
    k.prototype.sp = function(a) {
        a.A(this.b.sp / 1E3)
    };
    k.prototype.$D = function(a, b) {
        var d = this.b.Tt(b);
        a.A(d ? d.Oa : 0)
    };
    k.prototype.aE = function(a, b) {
        var d = this.b.Tt(b);
        a.A(d ? d.Xa : 0)
    };
    k.prototype.Hi = function(a) {
        a.A(this.b.Hi)
    };
    n.Da = new k;
    n.lD = function() {
        var b, e, d, h, k, g, m = this.b.xb();
        b = 0;
        for (d = this.md.length; b < d; b++) {
            h = this.md[b];
            if (-1 ===
                h.time) {
                if (!h.Nr) continue
            } else if (h.time > this.b.kc.Ca) continue;
            m.Db = h.ki;
            m.Zc = h.Zc;
            m.Cb = 0;
            for (e in h.Vc) h.Vc.hasOwnProperty(e) && (k = this.b.I[parseInt(e, 10)].ca(), g = h.Vc[e], k.ma = g.Yn, Ra(k.d, g.zf), k = g, C(k.zf), a.push(k));
            h.ki.jD();
            this.b.mp(h.Va);
            h.zp = !0
        }
        e = b = 0;
        for (d = this.md.length; b < d; b++) h = this.md[b], this.md[e] = h, h.zp ? (mb(h.Vc), C(h.Va), f.push(h)) : e++;
        Pa(this.md, e)
    }
})();
(function() {
    Gb = function(e, k) {
        var n = e[1],
            b = e[3],
            q = e[4],
            f = e[5],
            a = e[6],
            c = e[7],
            t = e[8];
        k.e || (k.e = {});
        k.B || (k.B = {});
        k.Da || (k.Da = {});
        var d = k.e,
            h = k.B,
            l = k.Da;
        b && (d.uE = function(a, b) {
                return Kc(this.x, a, b)
            }, d.vE = function(a, b) {
                return Kc(this.y, a, b)
            }, d.LE = function() {
                var a = this.n;
                this.Wa();
                var b = this.ib;
                return !(b.right < a.Oa || b.bottom < a.Ta || b.left > a.Xa || b.top > a.$a)
            }, d.ME = function() {
                this.Wa();
                var a = this.ib,
                    b = this.b.Ya;
                return 0 > a.right || 0 > a.bottom || a.left > b.width || a.top > b.height
            }, d.fF = function(a, b, c) {
                var d = this.ca(),
                    f = d.cd();
                if (!f.length) return !1;
                var h = f[0],
                    e = h,
                    k = jb(h.x, h.y, b, c),
                    l, m, q;
                l = 1;
                for (m = f.length; l < m; l++)
                    if (h = f[l], q = jb(h.x, h.y, b, c), 0 === a && q < k || 1 === a && q > k) k = q, e = h;
                d.Xk(e);
                return !0
            }, h.Uo = function(a) {
                this.x !== a && (this.x = a, this.eb())
            }, h.OF = function(a) {
                this.y !== a && (this.y = a, this.eb())
            }, h.Fs = function(a, b) {
                if (this.x !== a || this.y !== b) this.x = a, this.y = b, this.eb()
            }, h.Ky = function(a, b) {
                var c = a.hB(this);
                if (c) {
                    var d;
                    c.lg ? (d = c.lg(b, !0), c = c.lg(b, !1)) : (d = c.x, c = c.y);
                    if (this.x !== d || this.y !== c) this.x = d, this.y = c, this.eb()
                }
            },
            h.UE = function(a) {
                0 !== a && (this.x += Math.cos(this.j) * a, this.y += Math.sin(this.j) * a, this.eb())
            }, h.TE = function(a, b) {
                0 !== b && (this.x += Math.cos(Ya(a)) * b, this.y += Math.sin(Ya(a)) * b, this.eb())
            }, l.Ll = function(a) {
                a.A(this.x)
            }, l.Js = function(a) {
                a.A(this.y)
            }, l.gg = function(a) {
                a.A(this.b.Vj(this))
            });
        q && (d.tE = function(a, b) {
                return Kc(this.width, a, b)
            }, d.qE = function(a, b) {
                return Kc(this.height, a, b)
            }, h.NF = function(a) {
                this.width !== a && (this.width = a, this.eb())
            }, h.CF = function(a) {
                this.height !== a && (this.height = a, this.eb())
            }, h.Ly =
            function(a, b) {
                if (this.width !== a || this.height !== b) this.width = a, this.height = b, this.eb()
            }, l.Is = function(a) {
                a.A(this.width)
            }, l.ux = function(a) {
                a.A(this.height)
            }, l.jE = function(a) {
                this.Wa();
                a.A(this.ib.left)
            }, l.lE = function(a) {
                this.Wa();
                a.A(this.ib.top)
            }, l.kE = function(a) {
                this.Wa();
                a.A(this.ib.right)
            }, l.iE = function(a) {
                this.Wa();
                a.A(this.ib.bottom)
            });
        f && (d.Zw = function(a, b) {
            return fb(this.j, Ya(b)) <= Ya(a)
        }, d.xx = function(a) {
            return hb(this.j, Ya(a))
        }, d.vx = function(a, b) {
            var c = db(a),
                d = db(b),
                f = bb(this.j);
            return hb(d,
                c) ? hb(f, c) && !hb(f, d) : !(!hb(f, c) && hb(f, d))
        }, h.By = function(a) {
            a = Ya($a(a));
            isNaN(a) || this.j === a || (this.j = a, this.eb())
        }, h.sF = function(a) {
            0 === a || isNaN(a) || (this.j += Ya(a), this.j = bb(this.j), this.eb())
        }, h.tF = function(a) {
            0 === a || isNaN(a) || (this.j -= Ya(a), this.j = bb(this.j), this.eb())
        }, h.uF = function(a, b) {
            var c = gb(this.j, Ya(b), Ya(a));
            isNaN(c) || this.j === c || (this.j = c, this.eb())
        }, h.vF = function(a, b, c) {
            a = gb(this.j, Math.atan2(c - this.y, b - this.x), Ya(a));
            isNaN(a) || this.j === a || (this.j = a, this.eb())
        }, h.KF = function(a, b) {
            var c =
                Math.atan2(b - this.y, a - this.x);
            isNaN(c) || this.j === c || (this.j = c, this.eb())
        }, l.gE = function(a) {
            a.A(cb(this.j))
        });
        n || (d.ix = function(a, b, c) {
            return Kc(this.Tb[a], b, c)
        }, d.wx = function(a) {
            return this.Tb[a]
        }, d.gF = function(a, b) {
            var c = this.ca(),
                d = c.cd();
            if (!d.length) return !1;
            var f = d[0],
                h = f,
                e = f.Tb[b],
                k, l, m;
            k = 1;
            for (l = d.length; k < l; k++)
                if (f = d[k], m = f.Tb[b], 0 === a && m < e || 1 === a && m > e) e = m, h = f;
            c.Xk(h);
            return !0
        }, d.Cs = function(a) {
            var b, c, d, f, h;
            if (this.b.Uj().Om) {
                h = this.ca();
                if (h.ma)
                    for (h.ma = !1, C(h.d), C(h.la), d = this.d, b = 0, c =
                        d.length; b < c; b++) f = d[b], f.uid === a ? h.la.push(f) : h.d.push(f);
                else {
                    d = b = 0;
                    for (c = h.d.length; b < c; b++) f = h.d[b], h.d[d] = f, f.uid === a ? h.la.push(f) : d++;
                    Pa(h.d, d)
                }
                this.Wd();
                return !!h.d.length
            }
            f = this.b.oi(a);
            if (!f) return !1;
            h = this.ca();
            if (!h.ma && -1 === h.d.indexOf(f)) return !1;
            if (this.P)
                for (a = f.type.kb, b = 0, c = a.length; b < c; b++) {
                    if (a[b] === this) return h.Xk(f), this.Wd(), !0
                } else if (f.type === this) return h.Xk(f), this.Wd(), !0;
            return !1
        }, d.Vh = function() {
            return !0
        }, d.Qx = function() {
            return !0
        }, h.EF = function(a, b) {
            var c = this.Tb;
            va(c[a]) ?
                c[a] = va(b) ? b : parseFloat(b) : wa(c[a]) && (c[a] = wa(b) ? b : b.toString())
        }, h.fE = function(a, b) {
            var c = this.Tb;
            va(c[a]) ? c[a] = va(b) ? c[a] + b : c[a] + parseFloat(b) : wa(c[a]) && (c[a] = wa(b) ? c[a] + b : c[a] + b.toString())
        }, h.VF = function(a, b) {
            var c = this.Tb;
            va(c[a]) && (c[a] = va(b) ? c[a] - b : c[a] - parseFloat(b))
        }, h.Ey = function(a, b) {
            this.Tb[a] = b ? 1 : 0
        }, h.YF = function(a) {
            this.Tb[a] = 1 - this.Tb[a]
        }, h.Oo = function() {
            this.b.mf(this)
        }, h.Hx || (h.Hx = function(a) {
            var b, c;
            try {
                b = JSON.parse(a)
            } catch (d) {
                return
            }
            this.b.jn(this, b, !0);
            this.Me && this.Me();
            if (this.qa)
                for (a =
                    0, b = this.qa.length; a < b; ++a) c = this.qa[a], c.Me && c.Me()
        }), l.yE = function(a) {
            var b = a.Hh.d.length,
                c, d, f;
            c = 0;
            for (d = this.b.ue.length; c < d; c++) f = this.b.ue[c], a.Hh.P ? 0 <= f.type.kb.indexOf(a.Hh) && b++ : f.type === a.Hh && b++;
            a.Za(b)
        }, l.iF = function(a) {
            a.Za(a.Hh.ca().cd().length)
        }, l.ZF = function(a) {
            a.Za(this.uid)
        }, l.IE = function(a) {
            a.Za(this.Xj())
        }, l.ps || (l.ps = function(a) {
            a.oc(JSON.stringify(this.b.Gr(this, !0)))
        }));
        a && (d.Ex = function() {
            return this.visible
        }, h.To = function(a) {
            !a !== !this.visible && (this.visible = !!a, this.b.Ia = !0)
        }, d.rE = function(a, b) {
            return Kc(Cb(100 * this.opacity), a, b)
        }, h.So = function(a) {
            a = a / 100;
            0 > a ? a = 0 : 1 < a && (a = 1);
            a !== this.opacity && (this.opacity = a, this.b.Ia = !0)
        }, l.Opacity = function(a) {
            a.A(Cb(100 * this.opacity))
        });
        c && (d.ss = function(a) {
                return a ? this.n === a : !1
            }, d.hF = function(a) {
                var b = this.ca(),
                    c = b.cd();
                if (!c.length) return !1;
                var d = c[0],
                    f = d,
                    h, e;
                h = 1;
                for (e = c.length; h < e; h++)
                    if (d = c[h], 0 === a) {
                        if (d.n.index > f.n.index || d.n.index === f.n.index && d.We() > f.We()) f = d
                    } else if (d.n.index < f.n.index || d.n.index === f.n.index && d.We() < f.We()) f =
                    d;
                b.Xk(f);
                return !0
            }, h.XE = function() {
                var a = this.n,
                    b = a.d;
                b.length && b[b.length - 1] === this || (a.Yi(this, !1), a.Cj(this, !1), this.b.Ia = !0)
            }, h.VE = function() {
                var a = this.n,
                    b = a.d;
                b.length && b[0] === this || (a.Yi(this, !1), a.OC(this), this.b.Ia = !0)
            }, h.WE = function(a) {
                a && a != this.n && (this.n.Yi(this, !0), this.n = a, a.Cj(this, !0), this.b.Ia = !0)
            }, h.bz = function(a, b) {
                var c = 0 === a;
                if (b) {
                    var d = b.Up(this);
                    d && d.uid !== this.uid && (this.n.index !== d.n.index && (this.n.Yi(this, !0), this.n = d.n, d.n.Cj(this, !0)), this.n.oC(this, d, c), this.b.Ia = !0)
                }
            },
            l.RE = function(a) {
                a.Za(this.n.hv)
            }, l.QE = function(a) {
                a.oc(this.n.name)
            }, l.bG = function(a) {
                a.Za(this.We())
            });
        t && (h.AF = function(a, b) {
            if (this.b.F) {
                var c = this.type.Tp(b);
                if (!(0 > c)) {
                    var d = 1 === a;
                    this.Uf[c] !== d && (this.Uf[c] = d, this.Ie(), this.b.Ia = !0)
                }
            }
        }, h.BF = function(a, b, c) {
            if (this.b.F) {
                var d = this.type.Tp(a);
                0 > d || (a = this.type.ga[d], d = this.ob[d], b = Math.floor(b), 0 > b || b >= d.length || (1 === this.b.F.lB(a.Kb, b) && (c /= 100), d[b] !== c && (d[b] = c, a.G && (this.b.Ia = !0))))
            }
        })
    };
    pc = function() {
        this.hp = this.Vl = !0;
        this.type.Ol = !0;
        this.b.Ia = !0;
        var e, k, n = this.ep;
        e = 0;
        for (k = n.length; e < k; ++e) n[e](this);
        this.n.Td && this.Wa()
    };
    qc = function(e) {
        e && this.ep.push(e)
    };
    sc = function() {
        if (this.Vl) {
            var e = this.ib,
                k = this.$c;
            e.set(this.x, this.y, this.x + this.width, this.y + this.height);
            e.offset(-this.gc * this.width, -this.hc * this.height);
            this.j ? (e.offset(-this.x, -this.y), k.jw(e, this.j), k.offset(this.x, this.y), k.bt(e)) : k.cj(e);
            e.normalize();
            this.Vl = !1;
            this.Rw()
        }
    };
    var e = new La(0, 0, 0, 0);
    tc = function() {
        if (this.n.Td) {
            var m = this.n.zc,
                k = this.ib;
            e.set(m.Xc(k.left), m.Yc(k.top),
                m.Xc(k.right), m.Yc(k.bottom));
            this.gd.Pj(e) || (this.gd.right < this.gd.left ? m.update(this, null, e) : m.update(this, this.gd, e), this.gd.ei(e), this.n.De = !0)
        }
    };
    uc = function() {
        if (this.hp && this.$g) {
            this.Wa();
            var m = this.type.fm,
                k = this.ib;
            e.set(m.Xc(k.left), m.Yc(k.top), m.Xc(k.right), m.Yc(k.bottom));
            this.dg.Pj(e) || (this.dg.right < this.dg.left ? m.update(this, null, e) : m.update(this, this.dg, e), this.dg.ei(e), this.hp = !1)
        }
    };
    rc = function(e, k) {
        return this.ib.Fc(e, k) && this.$c.Fc(e, k) ? this.za && !this.za.vh() ? (this.za.Zg(this.width,
            this.height, this.j), this.za.Fc(e - this.x, k - this.y)) : !0 : !1
    };
    gc = function() {
        this.type.Co();
        return this.ph
    };
    vc = function() {
        this.n.gs();
        return this.Ke
    };
    wc = function() {
        C(this.Ja);
        var e, k, n, b = !0;
        e = 0;
        for (k = this.Uf.length; e < k; e++) this.Uf[e] && (n = this.type.ga[e], this.Ja.push(n), n.Be || (b = !1));
        this.Sw = !!this.Ja.length;
        this.Jf = b
    };
    hc = function() {
        return "Inst" + this.Kv
    };
    Jb = function(e) {
        if (e && e.Lc && e.type != this) {
            var k, n, b;
            k = 0;
            for (n = e.siblings.length; k < n; k++)
                if (b = e.siblings[k], b.type == this) return b
        }
        e = this.ca().cd();
        return e.length ?
            e[0] : null
    };
    Lb = function(e) {
        var k = this.ca().cd();
        return k.length ? k[e.Xj() % k.length] : null
    };
    Ib = function() {
        if (this.fj && !this.P) {
            var e, k;
            e = 0;
            for (k = this.d.length; e < k; e++) this.d[e].ph = e;
            var n = e,
                b = this.b.ue;
            e = 0;
            for (k = b.length; e < k; ++e) b[e].type === this && (b[e].ph = n++);
            this.fj = !1
        }
    };
    ec = function(e) {
        if (e < this.d.length) return this.d[e];
        e -= this.d.length;
        var k = this.b.ue,
            n, b;
        n = 0;
        for (b = k.length; n < b; ++n)
            if (k[n].type === this) {
                if (0 === e) return k[n];
                --e
            }
        return null
    };
    Mb = function() {
        return this.Lf[this.Te]
    };
    Yb = function() {
        this.Te++;
        this.Te === this.Lf.length ? this.Lf.push(new Hb(this)) : (this.Lf[this.Te].ma = !0, C(this.Lf[this.Te].la))
    };
    Zb = function() {
        this.Te++;
        this.Te === this.Lf.length && this.Lf.push(new Hb(this));
        var e = this.Lf[this.Te],
            k = this.Lf[this.Te - 1];
        k.ma ? (e.ma = !0, C(e.la)) : (e.ma = !1, Ra(e.d, k.d), Ra(e.la, k.la))
    };
    $b = function() {
        this.Te--
    };
    ac = function(e) {
        var k, n, b, q, f, a = 0;
        if (!this.P)
            for (k = 0, n = this.kb.length; k < n; k++)
                for (f = this.kb[k], b = 0, q = f.mb.length; b < q; b++) {
                    if (e === f.mb[b].name) return this.U.lastBehIndex = a, f.mb[b];
                    a++
                }
        k = 0;
        for (n = this.mb.length; k <
            n; k++) {
            if (e === this.mb[k].name) return this.U.lastBehIndex = a, this.mb[k];
            a++
        }
        return null
    };
    bc = function(e) {
        return this.Fm(e) ? this.U.lastBehIndex : -1
    };
    cc = function(e) {
        var k, n;
        k = 0;
        for (n = this.ga.length; k < n; k++)
            if (this.ga[k].name === e) return k;
        return -1
    };
    dc = function() {
        if (this.Lc && !this.P) {
            var e, k, n, b, q, f, a;
            this.Co();
            f = this.ca();
            var c = f.ma,
                t = (e = this.b.xb()) && e.Db && e.Db.Ld;
            e = 0;
            for (k = this.qd.length; e < k; e++)
                if (q = this.qd[e], q !== this && (q.Co(), a = q.ca(), a.ma = c, !c)) {
                    C(a.d);
                    n = 0;
                    for (b = f.d.length; n < b; ++n) a.d[n] = q.Vp(f.d[n].ph);
                    if (t)
                        for (C(a.la), n = 0, b = f.la.length; n < b; ++n) a.la[n] = q.Vp(f.la[n].ph)
                }
        }
    };
    fc = function() {
        return "Type" + this.Ba
    };
    Kc = function(e, k, n) {
        if ("undefined" === typeof e || "undefined" === typeof n) return !1;
        switch (k) {
            case 0:
                return e === n;
            case 1:
                return e !== n;
            case 2:
                return e < n;
            case 3:
                return e <= n;
            case 4:
                return e > n;
            case 5:
                return e >= n;
            default:
                return !1
        }
    }
})();
var Uc = {};

function Yc(e) {
    this.b = e
}
(function() {
    function e() {}

    function m() {}
    var k = Yc.prototype;
    k.Fa = function(b) {
        this.Ha = b;
        this.b = b.b
    };
    k.Fa.prototype.Y = function() {};
    k.ua = function(b) {
        this.type = b;
        this.b = b.b
    };
    var n;
    k.ua.prototype.Y = function() {
        (this.b.ee || this.b.ud) && "undefined" != typeof Cocoon && (n = this)
    };
    e.prototype.xC = function() {
        return !0
    };
    e.prototype.yC = function() {
        return !0
    };
    k.e = new e;
    m.prototype.Vo = function(b, e) {
        window.Ye && window.Ye.Vo && Cocoon.Vo.GG({
            message: b,
            lG: e
        }, function(b, a, c) {
            a ? n.b.trigger(Yc.prototype.e.xC, n) : (n.b.trigger(Yc.prototype.e.yC,
                n), console.log(c))
        })
    };
    k.B = new m
})();

function Zc(e) {
    this.b = e
}
(function() {
    function e(a) {
        0 > a && (a = 0);
        1 < a && (a = 1);
        return Math.log(a) / Math.log(10) * 20
    }

    function m(a) {
        a = a.toLowerCase();
        return fa.hasOwnProperty(a) && fa[a].length ? fa[a][0].Ed() : y.destination
    }

    function k() {
        return y.createGain ? y.createGain() : y.createGainNode()
    }

    function n(a) {
        return y.createDelay ? y.createDelay(a) : y.createDelayNode(a)
    }

    function b(a, b) {
        a.start ? a.start(b || 0) : a.noteOn(b || 0)
    }

    function q(a, b, c, d) {
        a.start ? a.start(d || 0, b) : a.noteGrainOn(d || 0, b, c - b)
    }

    function f(a) {
        try {
            a.stop ? a.stop(0) : a.noteOff(0)
        } catch (b) {}
    }

    function a(a, b, c, d, f, g) {
        this.type = "filter";
        this.yc = [a, b, c, d, f, g];
        this.Ea = k();
        this.fa = k();
        this.fa.gain.value = g;
        this.ba = k();
        this.ba.gain.value = 1 - g;
        this.Eb = y.createBiquadFilter();
        this.Eb.type = "number" === typeof this.Eb.type ? a : ca[a];
        this.Eb.frequency.value = b;
        this.Eb.detune && (this.Eb.detune.value = c);
        this.Eb.Q.value = d;
        this.Eb.gain.value = f;
        this.Ea.connect(this.Eb);
        this.Ea.connect(this.ba);
        this.Eb.connect(this.fa)
    }

    function c(a, b, c) {
        this.type = "delay";
        this.yc = [a, b, c];
        this.Ea = k();
        this.fa = k();
        this.fa.gain.value =
            c;
        this.ba = k();
        this.ba.gain.value = 1 - c;
        this.Ik = k();
        this.be = n(a);
        this.be.delayTime.value = a;
        this.om = k();
        this.om.gain.value = b;
        this.Ea.connect(this.Ik);
        this.Ea.connect(this.ba);
        this.Ik.connect(this.fa);
        this.Ik.connect(this.be);
        this.be.connect(this.om);
        this.om.connect(this.Ik)
    }

    function t(a, b, c, d) {
        this.type = "convolve";
        this.yc = [b, c, d];
        this.Ea = k();
        this.fa = k();
        this.fa.gain.value = c;
        this.ba = k();
        this.ba.gain.value = 1 - c;
        this.ah = y.createConvolver();
        a && (this.ah.normalize = b, this.ah.buffer = a);
        this.Ea.connect(this.ah);
        this.Ea.connect(this.ba);
        this.ah.connect(this.fa)
    }

    function d(a, c, d, f, g) {
        this.type = "flanger";
        this.yc = [a, c, d, f, g];
        this.Ea = k();
        this.ba = k();
        this.ba.gain.value = 1 - g / 2;
        this.fa = k();
        this.fa.gain.value = g / 2;
        this.ym = k();
        this.ym.gain.value = f;
        this.be = n(a + c);
        this.be.delayTime.value = a;
        this.nc = y.createOscillator();
        this.nc.frequency.value = d;
        this.zd = k();
        this.zd.gain.value = c;
        this.Ea.connect(this.be);
        this.Ea.connect(this.ba);
        this.be.connect(this.fa);
        this.be.connect(this.ym);
        this.ym.connect(this.be);
        this.nc.connect(this.zd);
        this.zd.connect(this.be.delayTime);
        b(this.nc)
    }

    function h(a, c, d, f, g, e) {
        this.type = "phaser";
        this.yc = [a, c, d, f, g, e];
        this.Ea = k();
        this.ba = k();
        this.ba.gain.value = 1 - e / 2;
        this.fa = k();
        this.fa.gain.value = e / 2;
        this.Eb = y.createBiquadFilter();
        this.Eb.type = "number" === typeof this.Eb.type ? 7 : "allpass";
        this.Eb.frequency.value = a;
        this.Eb.detune && (this.Eb.detune.value = c);
        this.Eb.Q.value = d;
        this.nc = y.createOscillator();
        this.nc.frequency.value = g;
        this.zd = k();
        this.zd.gain.value = f;
        this.Ea.connect(this.Eb);
        this.Ea.connect(this.ba);
        this.Eb.connect(this.fa);
        this.nc.connect(this.zd);
        this.zd.connect(this.Eb.frequency);
        b(this.nc)
    }

    function l(a) {
        this.type = "gain";
        this.yc = [a];
        this.Ga = k();
        this.Ga.gain.value = a
    }

    function g(a, c) {
        this.type = "tremolo";
        this.yc = [a, c];
        this.Ga = k();
        this.Ga.gain.value = 1 - c / 2;
        this.nc = y.createOscillator();
        this.nc.frequency.value = a;
        this.zd = k();
        this.zd.gain.value = c / 2;
        this.nc.connect(this.zd);
        this.zd.connect(this.Ga.gain);
        b(this.nc)
    }

    function M(a, c) {
        this.type = "ringmod";
        this.yc = [a, c];
        this.Ea = k();
        this.fa = k();
        this.fa.gain.value =
            c;
        this.ba = k();
        this.ba.gain.value = 1 - c;
        this.gl = k();
        this.gl.gain.value = 0;
        this.nc = y.createOscillator();
        this.nc.frequency.value = a;
        this.nc.connect(this.gl.gain);
        b(this.nc);
        this.Ea.connect(this.gl);
        this.Ea.connect(this.ba);
        this.gl.connect(this.fa)
    }

    function L(a, b, c, d, f) {
        this.type = "distortion";
        this.yc = [a, b, c, d, f];
        this.Ea = k();
        this.Nn = k();
        this.Ln = k();
        this.sD(c, Math.pow(10, d / 20));
        this.fa = k();
        this.fa.gain.value = f;
        this.ba = k();
        this.ba.gain.value = 1 - f;
        this.Jo = y.createWaveShaper();
        this.mm = new Float32Array(65536);
        this.ZA(a,
            b);
        this.Jo.mm = this.mm;
        this.Ea.connect(this.Nn);
        this.Ea.connect(this.ba);
        this.Nn.connect(this.Jo);
        this.Jo.connect(this.Ln);
        this.Ln.connect(this.fa)
    }

    function w(a, b, c, d, f) {
        this.type = "compressor";
        this.yc = [a, b, c, d, f];
        this.Ga = y.createDynamicsCompressor();
        try {
            this.Ga.threshold.value = a, this.Ga.knee.value = b, this.Ga.ratio.value = c, this.Ga.attack.value = d, this.Ga.release.value = f
        } catch (g) {}
    }

    function p(a, b) {
        this.type = "analyser";
        this.yc = [a, b];
        this.Ga = y.createAnalyser();
        this.Ga.fftSize = a;
        this.Ga.smoothingTimeConstant =
            b;
        this.XA = new Float32Array(this.Ga.frequencyBinCount);
        this.mw = new Uint8Array(a);
        this.Wk = 0
    }

    function r() {
        this.da = null;
        this.kn = 0
    }

    function G(a, b) {
        this.src = a;
        this.ya = O;
        this.ge = b;
        this.Nl = !1;
        var c = this;
        this.Uq = this.jr = null;
        this.Ui = [];
        this.Zn = 0;
        this.ns = this.wm = this.vw = this.En = !1;
        1 === O && b && !da && (this.ya = 0, this.jr = k());
        this.pf = this.Ma = null;
        var d;
        switch (this.ya) {
            case 0:
                this.Ma = new Audio;
                this.Ma.crossOrigin = "anonymous";
                this.Ma.addEventListener("canplaythrough", function() {
                    c.ns = !0
                });
                1 === O && y.createMediaElementSource &&
                    !/wiiu/i.test(navigator.userAgent) && (this.vw = !0, this.Ma.addEventListener("canplay", function() {
                        c.Uq || (c.Uq = y.createMediaElementSource(c.Ma), c.Uq.connect(c.jr))
                    }));
                this.Ma.autoplay = !1;
                this.Ma.zG = "auto";
                this.Ma.src = a;
                break;
            case 1:
                E.lk ? E.Ft(a, function(a) {
                    c.pf = a;
                    c.wt()
                }, function() {
                    c.wm = !0
                }) : (d = new XMLHttpRequest, d.open("GET", a, !0), d.responseType = "arraybuffer", d.onload = function() {
                    c.pf = d.response;
                    c.wt()
                }, d.onerror = function() {
                    c.wm = !0
                }, d.send());
                break;
            case 2:
                this.Ma = !0;
                break;
            case 3:
                this.Ma = !0
        }
    }

    function v(a,
        b) {
        var c = this;
        this.tag = b;
        this.pc = this.Ve = !0;
        this.src = a.src;
        this.buffer = a;
        this.ya = O;
        this.ge = a.ge;
        this.playbackRate = 1;
        this.si = !0;
        this.td = this.Pd = !1;
        this.hd = 0;
        this.mk = this.yi = this.Ze = !1;
        this.volume = 1;
        this.hr = function(a) {
            if (!c.td && !c.Pd) {
                var b = this;
                b || (b = a.target);
                b === c.Ml && (c.si = !0, c.pc = !0, T = c.tag, E.trigger(Zc.prototype.e.Gl, V))
            }
        };
        this.Ml = null;
        this.wi = 1 === H && !this.ge || 2 === H;
        this.Mi = 1;
        this.startTime = this.wi ? E.kc.Ca : E.Qf.Ca;
        this.Hb = this.Rb = null;
        this.$e = !1;
        this.wc = null;
        this.yv = this.xv = this.wv = this.vv = this.Av =
            this.zv = 0;
        this.k = null;
        var d = !1;
        1 !== this.ya || 0 !== this.buffer.ya || this.buffer.vw || (this.ya = 0);
        switch (this.ya) {
            case 0:
                this.ge ? (this.k = a.Ma, d = !a.Nl, a.Nl = !0) : (this.k = new Audio, this.k.crossOrigin = "anonymous", this.k.autoplay = !1, this.k.src = a.Ma.src, d = !0);
                d && this.k.addEventListener("ended", function() {
                    T = c.tag;
                    c.pc = !0;
                    E.trigger(Zc.prototype.e.Gl, V)
                });
                break;
            case 1:
                this.Rb = k();
                this.Rb.connect(m(b));
                1 === this.buffer.ya ? a.Ma && (this.k = y.createBufferSource(), this.k.buffer = a.Ma, this.k.connect(this.Rb)) : (this.k = this.buffer.Ma,
                    this.buffer.jr.connect(this.Rb), this.buffer.Nl || (this.buffer.Nl = !0, this.buffer.Ma.addEventListener("ended", function() {
                        T = c.tag;
                        c.pc = !0;
                        E.trigger(Zc.prototype.e.Gl, V)
                    })));
                break;
            case 2:
                this.k = new window.Media(u + this.src, null, null, function(a) {
                    a === window.Media.MEDIA_STOPPED && (c.si = !0, c.pc = !0, T = c.tag, E.trigger(Zc.prototype.e.Gl, V))
                });
                break;
            case 3:
                this.k = !0
        }
    }

    function z(a, b) {
        var c = a.sh() ? 1 : 0,
            d = b.sh() ? 1 : 0;
        return c === d ? 0 : c < d ? 1 : -1
    }

    function R(a, b) {
        C(ua);
        if (a.length) {
            var c, d, f;
            c = 0;
            for (d = D.length; c < d; c++) f = D[c],
                Db(a, f.tag) && ua.push(f);
            b && ua.sort(z)
        } else Q && !Q.oh() && (C(ua), ua[0] = Q)
    }

    function K(a, b) {
        fa.hasOwnProperty(a) ? fa[a].push(b) : fa[a] = [b];
        var c, d, f, g, e = y.destination;
        if (fa.hasOwnProperty(a) && (f = fa[a], f.length))
            for (e = f[0].Ed(), c = 0, d = f.length; c < d; c++) g = f[c], c + 1 === d ? g.Xd(y.destination) : g.Xd(f[c + 1].Ed());
        R(a);
        c = 0;
        for (d = ua.length; c < d; c++) ua[c].XC(e);
        ia && vb === a && (ia.disconnect(), ia.connect(e))
    }

    function x() {}

    function A() {}

    function P() {}
    var Y = Zc.prototype;
    Y.Fa = function(a) {
        this.Ha = a;
        this.b = a.b
    };
    Y.Fa.prototype.Y =
        function() {};
    var E = null,
        V = null,
        T = "",
        u = "",
        O = 0,
        y = null,
        F = [],
        D = [],
        Q = null,
        J = !1,
        H = 0,
        N = !1,
        W = 1,
        ka = 0,
        S = 0,
        Ia = !1,
        Ba = 1,
        oa = 1,
        X = 10,
        B = 1E4,
        la = 1,
        ia = null,
        vb = "",
        I = !1,
        pa = [],
        da = !1,
        fa = {},
        ca = "lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");
    a.prototype.Xd = function(a) {
        this.fa.disconnect();
        this.fa.connect(a);
        this.ba.disconnect();
        this.ba.connect(a)
    };
    a.prototype.remove = function() {
        this.Ea.disconnect();
        this.Eb.disconnect();
        this.fa.disconnect();
        this.ba.disconnect()
    };
    a.prototype.Ed = function() {
        return this.Ea
    };
    c.prototype.Xd = function(a) {
        this.fa.disconnect();
        this.fa.connect(a);
        this.ba.disconnect();
        this.ba.connect(a)
    };
    c.prototype.remove = function() {
        this.Ea.disconnect();
        this.Ik.disconnect();
        this.be.disconnect();
        this.om.disconnect();
        this.fa.disconnect();
        this.ba.disconnect()
    };
    c.prototype.Ed = function() {
        return this.Ea
    };
    t.prototype.Xd = function(a) {
        this.fa.disconnect();
        this.fa.connect(a);
        this.ba.disconnect();
        this.ba.connect(a)
    };
    t.prototype.remove = function() {
        this.Ea.disconnect();
        this.ah.disconnect();
        this.fa.disconnect();
        this.ba.disconnect()
    };
    t.prototype.Ed = function() {
        return this.Ea
    };
    d.prototype.Xd = function(a) {
        this.ba.disconnect();
        this.ba.connect(a);
        this.fa.disconnect();
        this.fa.connect(a)
    };
    d.prototype.remove = function() {
        this.Ea.disconnect();
        this.be.disconnect();
        this.nc.disconnect();
        this.zd.disconnect();
        this.ba.disconnect();
        this.fa.disconnect();
        this.ym.disconnect()
    };
    d.prototype.Ed = function() {
        return this.Ea
    };
    h.prototype.Xd = function(a) {
        this.ba.disconnect();
        this.ba.connect(a);
        this.fa.disconnect();
        this.fa.connect(a)
    };
    h.prototype.remove =
        function() {
            this.Ea.disconnect();
            this.Eb.disconnect();
            this.nc.disconnect();
            this.zd.disconnect();
            this.ba.disconnect();
            this.fa.disconnect()
        };
    h.prototype.Ed = function() {
        return this.Ea
    };
    l.prototype.Xd = function(a) {
        this.Ga.disconnect();
        this.Ga.connect(a)
    };
    l.prototype.remove = function() {
        this.Ga.disconnect()
    };
    l.prototype.Ed = function() {
        return this.Ga
    };
    g.prototype.Xd = function(a) {
        this.Ga.disconnect();
        this.Ga.connect(a)
    };
    g.prototype.remove = function() {
        this.nc.disconnect();
        this.zd.disconnect();
        this.Ga.disconnect()
    };
    g.prototype.Ed = function() {
        return this.Ga
    };
    M.prototype.Xd = function(a) {
        this.fa.disconnect();
        this.fa.connect(a);
        this.ba.disconnect();
        this.ba.connect(a)
    };
    M.prototype.remove = function() {
        this.nc.disconnect();
        this.gl.disconnect();
        this.Ea.disconnect();
        this.fa.disconnect();
        this.ba.disconnect()
    };
    M.prototype.Ed = function() {
        return this.Ea
    };
    L.prototype.sD = function(a, b) {
        .01 > a && (a = .01);
        this.Nn.gain.value = a;
        this.Ln.gain.value = Math.pow(1 / a, .6) * b
    };
    L.prototype.shape = function(a, b, c) {
        var d = 1.05 * c * b - b;
        c = 0 > a ? -1 : 1;
        a = 0 > a ? -a :
            a;
        b = a < b ? a : b + d * (1 - Math.exp(-(1 / d) * (a - b)));
        return b * c
    };
    L.prototype.ZA = function(a, b) {
        for (var c = Math.pow(10, a / 20), d = Math.pow(10, b / 20), f = 0, g = 0; 32768 > g; ++g) f = g / 32768, f = this.shape(f, c, d), this.mm[32768 + g] = f, this.mm[32768 - g - 1] = -f
    };
    L.prototype.Xd = function(a) {
        this.fa.disconnect();
        this.fa.connect(a);
        this.ba.disconnect();
        this.ba.connect(a)
    };
    L.prototype.remove = function() {
        this.Ea.disconnect();
        this.Nn.disconnect();
        this.Jo.disconnect();
        this.Ln.disconnect();
        this.fa.disconnect();
        this.ba.disconnect()
    };
    L.prototype.Ed =
        function() {
            return this.Ea
        };
    w.prototype.Xd = function(a) {
        this.Ga.disconnect();
        this.Ga.connect(a)
    };
    w.prototype.remove = function() {
        this.Ga.disconnect()
    };
    w.prototype.Ed = function() {
        return this.Ga
    };
    p.prototype.tb = function() {
        this.Ga.getFloatFrequencyData(this.XA);
        this.Ga.getByteTimeDomainData(this.mw);
        for (var a = this.Ga.fftSize, b = 0, c = this.Wk = 0, d = 0; b < a; b++) d = (this.mw[b] - 128) / 128, 0 > d && (d = -d), this.Wk < d && (this.Wk = d), c += d * d;
        this.Wk = e(this.Wk);
        e(Math.sqrt(c / a))
    };
    p.prototype.Xd = function(a) {
        this.Ga.disconnect();
        this.Ga.connect(a)
    };
    p.prototype.remove = function() {
        this.Ga.disconnect()
    };
    p.prototype.Ed = function() {
        return this.Ga
    };
    r.prototype.kl = function(a) {
        this.da = a
    };
    r.prototype.Mm = function() {
        return !!this.da
    };
    r.prototype.tb = function() {};
    var ea = !1;
    G.prototype.$C = function() {
        var a, b, c, d;
        c = a = 0;
        for (b = D.length; a < b; ++a) d = D[a], D[c] = d, d.buffer === this ? d.stop() : ++c;
        D.length = c;
        this.pf = this.Ma = null
    };
    G.prototype.wt = function() {
        if (!this.Ma && this.pf) {
            var a = this;
            if (y.decodeAudioData) y.decodeAudioData(this.pf, function(b) {
                a.Ma = b;
                a.pf = null;
                var c, d, f;
                if (ta(a.Gn) || N) ta(a.im) || (c = a.im.ah, c.normalize = a.gv, c.buffer = b);
                else if (a.Ui.length) {
                    c = 0;
                    for (d = a.Ui.length; c < d; c++) {
                        b = a.Ui[c];
                        f = new v(a, b.Cw);
                        f.Lr(!0);
                        if ("undefined" !== typeof b.iv && (b.da = E.oi(b.iv), !b.da)) continue;
                        if (b.da) {
                            var g = ib(b.da.x, b.da.y, -b.da.n.Sb(), ka, S, !0),
                                e = ib(b.da.x, b.da.y, -b.da.n.Sb(), ka, S, !1);
                            f.Kr(g, e, Za(b.da.j - b.da.n.Sb()), b.iq, b.$q, b.dr);
                            f.kl(b.da)
                        } else f.Kr(b.x, b.y, b.u, b.iq, b.$q, b.dr);
                        f.play(a.Pq, a.ls, a.Zn);
                        a.En && f.pause();
                        D.push(f)
                    }
                    C(a.Ui)
                } else f = new v(a, a.Gn || ""), f.play(a.Pq,
                    a.ls, a.Zn), a.En && f.pause(), D.push(f)
            }, function() {
                a.wm = !0
            });
            else if (this.Ma = y.createBuffer(this.pf, !1), this.pf = null, ta(this.Gn) || N) ta(this.im) || (b = this.im.ah, b.normalize = this.gv, b.buffer = this.Ma);
            else {
                var b = new v(this, this.Gn);
                b.play(this.Pq, this.ls, this.Zn);
                this.En && b.pause();
                D.push(b)
            }
        }
    };
    G.prototype.ku = function() {
        switch (this.ya) {
            case 0:
                var a = 4 <= this.Ma.readyState;
                a && (this.ns = !0);
                return a || this.ns;
            case 1:
                return !!this.pf || !!this.Ma;
            case 2:
                return !0;
            case 3:
                return !0
        }
        return !1
    };
    G.prototype.UB = function() {
        switch (this.ya) {
            case 0:
                return this.ku();
            case 1:
                return !!this.Ma;
            case 2:
                return !0;
            case 3:
                return !0
        }
        return !1
    };
    G.prototype.IB = function() {
        switch (this.ya) {
            case 0:
                return !!this.Ma.error;
            case 1:
                return this.wm
        }
        return !1
    };
    v.prototype.oh = function() {
        switch (this.ya) {
            case 0:
                return this.k.ended;
            case 1:
                return 1 === this.buffer.ya ? !this.Ve && !this.pc && this.k.loop || this.td ? !1 : this.si : this.k.ended;
            case 2:
                return this.si;
            case 3:
                !0
        }
        return !0
    };
    v.prototype.vz = function() {
        return this.Ve || this.pc ? !0 : this.oh()
    };
    v.prototype.Lr = function(a) {
        1 === O && (!this.$e && a ? this.Rb && (this.Hb ||
            (this.Hb = y.createPanner(), this.Hb.panningModel = "number" === typeof this.Hb.panningModel ? Ba : ["equalpower", "HRTF", "soundfield"][Ba], this.Hb.distanceModel = "number" === typeof this.Hb.distanceModel ? oa : ["linear", "inverse", "exponential"][oa], this.Hb.refDistance = X, this.Hb.maxDistance = B, this.Hb.rolloffFactor = la), this.Rb.disconnect(), this.Rb.connect(this.Hb), this.Hb.connect(m(this.tag)), this.$e = !0) : this.$e && !a && this.Rb && (this.Hb.disconnect(), this.Rb.disconnect(), this.Rb.connect(m(this.tag)), this.$e = !1))
    };
    v.prototype.Kr =
        function(a, b, c, d, f, g) {
            this.$e && 1 === O && (this.Hb.setPosition(a, b, 0), this.Hb.setOrientation(Math.cos(Ya(c)), Math.sin(Ya(c)), 0), this.Hb.coneInnerAngle = d, this.Hb.coneOuterAngle = f, this.Hb.coneOuterGain = g, this.zv = a, this.Av = b, this.vv = c, this.wv = d, this.xv = f, this.yv = g)
        };
    v.prototype.kl = function(a) {
        this.$e && 1 === O && (this.wc || (this.wc = new r), this.wc.kl(a))
    };
    v.prototype.tb = function(a) {
        if (this.$e && 1 === O && this.wc && this.wc.Mm() && this.sh()) {
            this.wc.tb(a);
            a = this.wc.da;
            var b = ib(a.x, a.y, -a.n.Sb(), ka, S, !0),
                c = ib(a.x, a.y, -a.n.Sb(), ka, S, !1);
            this.Hb.setPosition(b, c, 0);
            b = 0;
            "undefined" !== typeof this.wc.da.j && (b = a.j - a.n.Sb(), this.Hb.setOrientation(Math.cos(b), Math.sin(b), 0))
        }
    };
    v.prototype.play = function(a, c, d, f) {
        var g = this.k;
        this.Ze = a;
        this.volume = c;
        d = d || 0;
        f = f || 0;
        switch (this.ya) {
            case 0:
                1 !== g.playbackRate && (g.playbackRate = 1);
                g.volume !== c * W && (g.volume = c * W);
                g.loop !== a && (g.loop = a);
                g.muted && (g.muted = !1);
                if (g.currentTime !== d) try {
                    g.currentTime = d
                } catch (e) {}
                if (this.ge && I && !E.Xe) pa.push(this);
                else try {
                    this.k.play()
                } catch (h) {
                    console &&
                        console.log && console.log("[C2] WARNING: exception trying to play audio '" + this.buffer.src + "': ", h)
                }
                break;
            case 1:
                this.muted = !1;
                this.Mi = 1;
                if (1 === this.buffer.ya) this.Rb.gain.value = c * W, this.Ve || (this.k = y.createBufferSource(), this.k.buffer = this.buffer.Ma, this.k.connect(this.Rb)), this.k.onended = this.hr, this.Ml = this.k, this.k.loop = a, this.si = !1, 0 === d ? b(this.k, f) : q(this.k, d, this.kg(), f);
                else {
                    1 !== g.playbackRate && (g.playbackRate = 1);
                    g.loop !== a && (g.loop = a);
                    g.volume = c * W;
                    if (g.currentTime !== d) try {
                        g.currentTime = d
                    } catch (k) {}
                    this.ge &&
                        I && !E.Xe ? pa.push(this) : g.play()
                }
                break;
            case 2:
                (!this.Ve && this.pc || 0 !== d) && g.seekTo(d);
                g.play();
                this.si = !1;
                break;
            case 3:
                E.Kc ? AppMobi.context.playSound(this.src, a) : AppMobi.player.playSound(this.src, a)
        }
        this.playbackRate = 1;
        this.startTime = (this.wi ? E.kc.Ca : E.Qf.Ca) - d;
        this.td = this.pc = this.Ve = !1
    };
    v.prototype.stop = function() {
        switch (this.ya) {
            case 0:
                this.k.paused || this.k.pause();
                break;
            case 1:
                1 === this.buffer.ya ? f(this.k) : this.k.paused || this.k.pause();
                break;
            case 2:
                this.k.stop();
                break;
            case 3:
                E.Kc && AppMobi.context.stopSound(this.src)
        }
        this.pc = !0;
        this.td = !1
    };
    v.prototype.pause = function() {
        if (!(this.Ve || this.pc || this.oh() || this.td)) {
            switch (this.ya) {
                case 0:
                    this.k.paused || this.k.pause();
                    break;
                case 1:
                    1 === this.buffer.ya ? (this.hd = this.Wp(!0), this.Ze && (this.hd = this.hd % this.kg()), this.td = !0, f(this.k)) : this.k.paused || this.k.pause();
                    break;
                case 2:
                    this.k.pause();
                    break;
                case 3:
                    E.Kc && AppMobi.context.stopSound(this.src)
            }
            this.td = !0
        }
    };
    v.prototype.iD = function() {
        if (!(this.Ve || this.pc || this.oh()) && this.td) {
            switch (this.ya) {
                case 0:
                    this.k.play();
                    break;
                case 1:
                    1 ===
                        this.buffer.ya ? (this.k = y.createBufferSource(), this.k.buffer = this.buffer.Ma, this.k.connect(this.Rb), this.k.onended = this.hr, this.Ml = this.k, this.k.loop = this.Ze, this.Rb.gain.value = W * this.volume * this.Mi, this.zl(), this.startTime = (this.wi ? E.kc.Ca : E.Qf.Ca) - this.hd / (this.playbackRate || .001), q(this.k, this.hd, this.kg())) : this.k.play();
                    break;
                case 2:
                    this.k.play();
                    break;
                case 3:
                    E.Kc && AppMobi.context.resumeSound(this.src)
            }
            this.td = !1
        }
    };
    v.prototype.seek = function(a) {
        if (!(this.Ve || this.pc || this.oh())) switch (this.ya) {
            case 0:
                try {
                    this.k.currentTime =
                        a
                } catch (b) {}
                break;
            case 1:
                if (1 === this.buffer.ya) this.td ? this.hd = a : (this.pause(), this.hd = a, this.iD());
                else try {
                    this.k.currentTime = a
                } catch (c) {}
                break;
            case 3:
                E.Kc && AppMobi.context.seekSound(this.src, a)
        }
    };
    v.prototype.XC = function(a) {
        1 === this.ya && (this.$e ? (this.Hb.disconnect(), this.Hb.connect(a)) : (this.Rb.disconnect(), this.Rb.connect(a)))
    };
    v.prototype.kg = function() {
        var a = 0;
        switch (this.ya) {
            case 0:
                "undefined" !== typeof this.k.duration && (a = this.k.duration);
                break;
            case 1:
                a = this.buffer.Ma.duration;
                break;
            case 2:
                a =
                    this.k.getDuration();
                break;
            case 3:
                E.Kc && (a = AppMobi.context.getDurationSound(this.src))
        }
        return a
    };
    v.prototype.Wp = function(a) {
        var b = this.kg(),
            c = 0;
        switch (this.ya) {
            case 0:
                "undefined" !== typeof this.k.currentTime && (c = this.k.currentTime);
                break;
            case 1:
                if (1 === this.buffer.ya) {
                    if (this.td) return this.hd;
                    c = (this.wi ? E.kc.Ca : E.Qf.Ca) - this.startTime
                } else "undefined" !== typeof this.k.currentTime && (c = this.k.currentTime);
                break;
            case 3:
                E.Kc && (c = AppMobi.context.getPlaybackTimeSound(this.src))
        }
        a && (c *= this.playbackRate);
        !this.Ze &&
            c > b && (c = b);
        return c
    };
    v.prototype.sh = function() {
        return !this.td && !this.Ve && !this.pc && !this.oh()
    };
    v.prototype.CD = function() {
        return !this.Ve && !this.pc && !this.oh()
    };
    v.prototype.TD = function() {
        var a = this.volume * W;
        isFinite(a) || (a = 0);
        switch (this.ya) {
            case 0:
                "undefined" !== typeof this.k.volume && this.k.volume !== a && (this.k.volume = a);
                break;
            case 1:
                1 === this.buffer.ya ? this.Rb.gain.value = a * this.Mi : "undefined" !== typeof this.k.volume && this.k.volume !== a && (this.k.volume = a)
        }
    };
    v.prototype.rm = function(a) {
        switch (this.ya) {
            case 0:
                this.k.muted !==
                    !!a && (this.k.muted = !!a);
                break;
            case 1:
                1 === this.buffer.ya ? (this.Mi = a ? 0 : 1, this.Rb.gain.value = W * this.volume * this.Mi) : this.k.muted !== !!a && (this.k.muted = !!a)
        }
    };
    v.prototype.uD = function() {
        this.yi = !0;
        this.rm(this.yi || this.mk)
    };
    v.prototype.fw = function(a) {
        this.mk = !!a;
        this.rm(this.yi || this.mk)
    };
    v.prototype.vD = function(a) {
        this.playbackRate = a;
        this.zl()
    };
    v.prototype.zl = function() {
        var a = this.playbackRate;
        this.wi && (a *= E.Qh);
        switch (this.ya) {
            case 0:
                this.k.playbackRate !== a && (this.k.playbackRate = a);
                break;
            case 1:
                1 === this.buffer.ya ?
                    this.k.playbackRate.value !== a && (this.k.playbackRate.value = a) : this.k.playbackRate !== a && (this.k.playbackRate = a)
        }
    };
    v.prototype.xD = function(a) {
        switch (this.ya) {
            case 0:
                a ? this.sh() ? (this.Pd = !0, this.k.pause()) : this.Pd = !1 : this.Pd && (this.k.play(), this.Pd = !1);
                break;
            case 1:
                a ? this.sh() ? (this.Pd = !0, 1 === this.buffer.ya ? (this.hd = this.Wp(!0), this.Ze && (this.hd = this.hd % this.kg()), f(this.k)) : this.k.pause()) : this.Pd = !1 : this.Pd && (1 === this.buffer.ya ? (this.k = y.createBufferSource(), this.k.buffer = this.buffer.Ma, this.k.connect(this.Rb),
                    this.k.onended = this.hr, this.Ml = this.k, this.k.loop = this.Ze, this.Rb.gain.value = W * this.volume * this.Mi, this.zl(), this.startTime = (this.wi ? E.kc.Ca : E.Qf.Ca) - this.hd / (this.playbackRate || .001), q(this.k, this.hd, this.kg())) : this.k.play(), this.Pd = !1);
                break;
            case 2:
                a ? this.sh() ? (this.k.pause(), this.Pd = !0) : this.Pd = !1 : this.Pd && (this.Pd = !1, this.k.play())
        }
    };
    Y.ua = function(a) {
        function c() {
            if (!Ia && y.createBuffer) {
                var a = y.createBuffer(1, 220, 22050),
                    d = y.createBufferSource();
                d.buffer = a;
                d.connect(y.destination);
                b(d)
            }
        }
        this.type =
            a;
        E = this.b = a.b;
        V = this;
        this.wd = null;
        this.yk = -600;
        this.b.lk && (da = !0);
        !(this.b.ud || this.b.ee && (this.b.dk || this.b.Qm)) || this.b.ek || this.b.yb || this.b.Pm || da || (I = !0);
        y = null;
        "undefined" !== typeof AudioContext ? (O = 1, y = new AudioContext) : "undefined" !== typeof webkitAudioContext && (O = 1, y = new webkitAudioContext);
        this.b.ud && y && (y.close && y.close(), "undefined" !== typeof AudioContext ? y = new AudioContext : "undefined" !== typeof webkitAudioContext && (y = new webkitAudioContext));
        I ? document.addEventListener("touchend", function() {
            !ea &&
                y && (c(), ea = !0);
            var a, b, d;
            if (I) {
                if (!N)
                    for (a = 0, b = pa.length; a < b; ++a) d = pa[a], d.pc || d.td || d.k.play();
                C(pa)
            }
        }, !0) : da && document.addEventListener("touchend", function() {
            !ea && y && (c(), ea = !0)
        }, !0);
        1 !== O && (this.b.Qc && "undefined" !== typeof window.Media ? O = 2 : this.b.ju && (O = 3));
        2 === O && (u = location.href, a = u.lastIndexOf("/"), -1 < a && (u = u.substr(0, a + 1)), u = u.replace("file://", ""));
        if (this.b.WB && this.b.XB && "undefined" === typeof Audio) alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),
            this.b.mf(this);
        else {
            if (this.b.Kc) J = this.b.ee;
            else try {
                J = !!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')
            } catch (d) {
                J = !1
            }
            this.b.wl(this)
        }
    };
    var qa = Y.ua.prototype;
    qa.Y = function() {
        this.b.$h = this;
        H = this.K[0];
        this.Hf = this.K[1];
        this.GC = 0 !== this.K[2];
        this.cv = 0;
        Ba = this.K[3];
        oa = this.K[4];
        this.yk = -this.K[5];
        X = this.K[6];
        B = this.K[7];
        la = this.K[8];
        this.wd = new r;
        var a = this.b.X || this.b.width,
            b = this.b.W || this.b.height;
        1 === O && (y.listener.setPosition(a / 2, b / 2, this.yk), y.listener.setOrientation(0, 0, 1, 0, -1, 0), window.c2OnAudioMicStream =
            function(a, b) {
                ia && ia.disconnect();
                vb = b.toLowerCase();
                ia = y.createMediaStreamSource(a);
                ia.connect(m(vb))
            });
        this.b.Us(function(a) {
            V.AC(a)
        });
        var c = this;
        this.b.Xo(function(a) {
            c.er(a)
        })
    };
    qa.er = function(a) {
        var b, c, d;
        b = 0;
        for (c = D.length; b < c; b++) d = D[b], d.wc && d.wc.da === a && (d.wc.da = null, d.$e && d.sh() && d.Ze && d.stop());
        this.wd.da === a && (this.wd.da = null)
    };
    qa.Uc = function() {
        var a = {
                silent: N,
                masterVolume: W,
                listenerZ: this.yk,
                listenerUid: this.wd.Mm() ? this.wd.da.uid : -1,
                playing: [],
                effects: {}
            },
            b = a.playing,
            c, d, f, g, e, h;
        c = 0;
        for (d = D.length; c < d; c++) f = D[c], !f.CD() || 3 === this.Hf || f.ge && 1 === this.Hf || !f.ge && 2 === this.Hf || (g = f.Wp(), f.Ze && (g = g % f.kg()), g = {
            tag: f.tag,
            buffersrc: f.buffer.src,
            is_music: f.ge,
            playbackTime: g,
            volume: f.volume,
            looping: f.Ze,
            muted: f.yi,
            playbackRate: f.playbackRate,
            paused: f.td,
            resume_position: f.hd
        }, f.$e && (g.pan = {}, h = g.pan, f.wc && f.wc.Mm() ? h.objUid = f.wc.da.uid : (h.x = f.zv, h.y = f.Av, h.a = f.vv), h.ia = f.wv, h.oa = f.xv, h.og = f.yv), b.push(g));
        b = a.effects;
        for (e in fa)
            if (fa.hasOwnProperty(e)) {
                f = [];
                c = 0;
                for (d = fa[e].length; c < d; c++) f.push({
                    type: fa[e][c].type,
                    params: fa[e][c].yc
                });
                b[e] = f
            }
        return a
    };
    var Z = [];
    qa.xd = function(b) {
        var f = b.silent;
        W = b.masterVolume;
        this.yk = b.listenerZ;
        this.wd.kl(null);
        var e = b.listenerUid; - 1 !== e && (this.wd.kn = e, Z.push(this.wd));
        var e = b.playing,
            k, v, q, n, m, z, R, u, A, x, G;
        if (3 !== this.Hf)
            for (k = 0, v = D.length; k < v; k++) A = D[k], A.ge && 1 === this.Hf || (A.ge || 2 !== this.Hf) && A.stop();
        for (m in fa)
            if (fa.hasOwnProperty(m))
                for (k = 0, v = fa[m].length; k < v; k++) fa[m][k].remove();
        mb(fa);
        for (m in b.effects)
            if (b.effects.hasOwnProperty(m))
                for (z = b.effects[m], k = 0, v = z.length; k <
                    v; k++) switch (q = z[k].type, x = z[k].params, q) {
                    case "filter":
                        K(m, new a(x[0], x[1], x[2], x[3], x[4], x[5]));
                        break;
                    case "delay":
                        K(m, new c(x[0], x[1], x[2]));
                        break;
                    case "convolve":
                        q = x[2];
                        A = this.Em(q, !1);
                        A.Ma ? q = new t(A.Ma, x[0], x[1], q) : (q = new t(null, x[0], x[1], q), A.gv = x[0], A.im = q);
                        K(m, q);
                        break;
                    case "flanger":
                        K(m, new d(x[0], x[1], x[2], x[3], x[4]));
                        break;
                    case "phaser":
                        K(m, new h(x[0], x[1], x[2], x[3], x[4], x[5]));
                        break;
                    case "gain":
                        K(m, new l(x[0]));
                        break;
                    case "tremolo":
                        K(m, new g(x[0], x[1]));
                        break;
                    case "ringmod":
                        K(m, new M(x[0],
                            x[1]));
                        break;
                    case "distortion":
                        K(m, new L(x[0], x[1], x[2], x[3], x[4]));
                        break;
                    case "compressor":
                        K(m, new w(x[0], x[1], x[2], x[3], x[4]));
                        break;
                    case "analyser":
                        K(m, new p(x[0], x[1]))
                }
        k = 0;
        for (v = e.length; k < v; k++) 3 === this.Hf || (b = e[k], q = b.buffersrc, n = b.is_music, m = b.tag, z = b.playbackTime, R = b.looping, u = b.volume, G = (x = b.pan) && x.hasOwnProperty("objUid") ? x.objUid : -1, n && 1 === this.Hf) || !n && 2 === this.Hf || ((A = this.Nt(q, m, n, R, u)) ? (A.hd = b.resume_position, A.Lr(!!x), A.play(R, u, z), A.zl(), A.TD(), A.rm(A.yi || A.mk), b.paused && A.pause(),
            b.muted && A.uD(), A.rm(A.yi || A.mk), x && (-1 !== G ? (A.wc = A.wc || new r, A.wc.kn = G, Z.push(A.wc)) : A.Kr(x.x, x.y, x.a, x.ia, x.oa, x.og))) : (A = this.Em(q, n), A.Zn = z, A.En = b.paused, x && (-1 !== G ? A.Ui.push({
            iv: G,
            iq: x.ia,
            $q: x.oa,
            dr: x.og,
            Cw: m
        }) : A.Ui.push({
            x: x.x,
            y: x.y,
            u: x.a,
            iq: x.ia,
            $q: x.oa,
            dr: x.og,
            Cw: m
        }))));
        if (f && !N) {
            k = 0;
            for (v = D.length; k < v; k++) D[k].fw(!0);
            N = !0
        } else if (!f && N) {
            k = 0;
            for (v = D.length; k < v; k++) D[k].fw(!1);
            N = !1
        }
    };
    qa.Me = function() {
        var a, b, c, d;
        a = 0;
        for (b = Z.length; a < b; a++) c = Z[a], d = this.b.oi(c.kn), c.kl(d), c.kn = -1, d && (ka = d.x,
            S = d.y);
        C(Z)
    };
    qa.AC = function(a) {
        if (!this.GC) {
            !a && y && y.resume && (y.resume(), Ia = !1);
            var b, c;
            b = 0;
            for (c = D.length; b < c; b++) D[b].xD(a);
            a && y && y.suspend && (y.suspend(), Ia = !0)
        }
    };
    qa.tb = function() {
        var a = this.b.gg,
            b, c, d;
        b = 0;
        for (c = D.length; b < c; b++) d = D[b], d.tb(a), 0 !== H && d.zl();
        var f, g;
        for (f in fa)
            if (fa.hasOwnProperty(f))
                for (d = fa[f], b = 0, c = d.length; b < c; b++) g = d[b], g.tb && g.tb();
        1 === O && this.wd.Mm() && (this.wd.tb(a), ka = this.wd.da.x, S = this.wd.da.y, y.listener.setPosition(this.wd.da.x, this.wd.da.y, this.yk))
    };
    var Ca = [];
    qa.wD =
        function(a) {
            var b, c, d, f, g, e = 0;
            b = 0;
            for (c = a.length; b < c; ++b)
                if (d = a[b], f = d[0], d = 2 * d[1], (g = 4 < f.length && ".ogg" === f.substr(f.length - 4)) && J || !g && !J) Ca.push({
                    filename: f,
                    size: d,
                    da: null
                }), e += d;
            return e
        };
    qa.GD = function() {
        var a, b, c, d;
        a = 0;
        for (b = Ca.length; a < b; ++a) c = Ca[a], d = this.b.Ip + c.filename, c.da = this.Em(d, !1)
    };
    qa.iB = function() {
        var a = 0,
            b, c, d;
        b = 0;
        for (c = Ca.length; b < c; ++b) d = Ca[b], d.da.UB() || d.da.IB() || this.b.yb || this.b.Qm ? a += d.size : d.da.ku() && (a += Math.floor(d.size / 2));
        return a
    };
    qa.aD = function() {
        var a, b, c, d;
        c = a = 0;
        for (b = F.length; a < b; ++a) d = F[a], F[c] = d, d.ge ? d.$C() : ++c;
        F.length = c
    };
    qa.Em = function(a, b) {
        var c, d, f, g = null;
        c = 0;
        for (d = F.length; c < d; c++)
            if (f = F[c], f.src === a) {
                g = f;
                break
            }
        g || (da && b && this.aD(), g = new G(a, b), F.push(g));
        return g
    };
    qa.Nt = function(a, b, c, d, f) {
        var g, e, h;
        g = 0;
        for (e = D.length; g < e; g++)
            if (h = D[g], h.src === a && (h.vz() || c)) return h.tag = b, h;
        a = this.Em(a, c);
        if (!a.Ma) return "<preload>" !== b && (a.Gn = b, a.Pq = d, a.ls = f), null;
        h = new v(a, b);
        D.push(h);
        return h
    };
    var ua = [];
    x.prototype.Gl = function(a) {
        return Db(T, a)
    };
    Y.e = new x;
    A.prototype.Play =
        function(a, b, c, d) {
            !N && (c = Math.pow(10, c / 20), isFinite(c) || (c = 0), 0 > c && (c = 0), 1 < c && (c = 1), Q = this.Nt(this.b.Ip + a[0] + (J ? ".ogg" : ".m4a"), d, a[1], 0 !== b, c)) && (Q.Lr(!1), Q.play(0 !== b, c, 0, this.cv), this.cv = 0)
        };
    A.prototype.Jy = function(a, b) {
        R(a);
        0 > b && (b = 0);
        var c, d;
        c = 0;
        for (d = ua.length; c < d; c++) ua[c].vD(b)
    };
    A.prototype.Kl = function(a) {
        R(a);
        var b;
        a = 0;
        for (b = ua.length; a < b; a++) ua[a].stop()
    };
    Y.B = new A;
    P.prototype.mx = function(a, b) {
        R(b, !0);
        ua.length ? a.A(ua[0].kg()) : a.A(0)
    };
    Y.Da = new P
})();

function $c(e) {
    this.b = e
}
(function() {
    function e() {
        q && f && window.OfflineClientInfo && window.OfflineClientInfo.SetMessageCallback(function(b) {
            a.wC(b)
        })
    }

    function m() {}

    function k() {}
    var n = $c.prototype;
    n.Fa = function(a) {
        this.Ha = a;
        this.b = a.b
    };
    var b = n.Fa.prototype;
    b.Y = function() {};
    var q = !1,
        f = !1;
    document.addEventListener("DOMContentLoaded", function() {
        if (window.C2_RegisterSW && navigator.Ye) {
            var a = document.createElement("script");
            a.onload = function() {
                q = !0;
                e()
            };
            a.src = "offlineClient.js";
            document.head.appendChild(a)
        }
    });
    var a = null;
    b.mv = function() {
        f = !0;
        e()
    };
    n.ua = function(a) {
        this.type = a;
        this.b = a.b
    };
    b = n.ua.prototype;
    b.Y = function() {
        var b = this;
        window.addEventListener("resize", function() {
            b.b.trigger($c.prototype.e.ny, b)
        });
        a = this;
        "undefined" !== typeof navigator.onLine && (window.addEventListener("online", function() {
            b.b.trigger($c.prototype.e.hy, b)
        }), window.addEventListener("offline", function() {
            b.b.trigger($c.prototype.e.fy, b)
        }));
        "undefined" !== typeof window.applicationCache && (window.applicationCache.addEventListener("updateready", function() {
            b.b.Hi = 1;
            b.b.trigger($c.prototype.e.Jl,
                b)
        }), window.applicationCache.addEventListener("progress", function(a) {
            b.b.Hi = a.loaded / a.total || 0
        }));
        this.b.Kc || (document.addEventListener("appMobi.device.update.available", function() {
            b.b.trigger($c.prototype.e.Jl, b)
        }), document.addEventListener("backbutton", function() {
            b.b.trigger($c.prototype.e.Fl, b)
        }), document.addEventListener("menubutton", function() {
            b.b.trigger($c.prototype.e.vs, b)
        }), document.addEventListener("searchbutton", function() {
            b.b.trigger($c.prototype.e.oy, b)
        }), document.addEventListener("tizenhwkey",
            function(a) {
                var d;
                switch (a.keyName) {
                    case "back":
                        d = b.b.trigger($c.prototype.e.Fl, b);
                        !d && window.tizen && window.tizen.application.getCurrentApplication().exit();
                        break;
                    case "menu":
                        (d = b.b.trigger($c.prototype.e.vs, b)) || a.preventDefault()
                }
            }));
        this.b.Vm && "undefined" !== typeof Windows ? Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested", function(a) {
            b.b.trigger($c.prototype.e.Fl, b) && (a.jG = !0)
        }) : this.b.Um && WinJS.Application && (WinJS.Application.onbackclick = function() {
            return !!b.b.trigger($c.prototype.e.Fl,
                b)
        });
        this.b.Us(function(a) {
            a ? b.b.trigger($c.prototype.e.iy, b) : b.b.trigger($c.prototype.e.jy, b)
        });
        this.$B = "undefined" !== typeof window.is_scirra_arcade
    };
    b.wC = function(a) {
        a = a.data.type;
        "downloading-update" === a ? this.b.trigger($c.prototype.e.xy, this) : "update-ready" === a || "update-pending" === a ? this.b.trigger($c.prototype.e.Jl, this) : "offline-ready" === a && this.b.trigger($c.prototype.e.gy, this)
    };
    m.prototype.hy = function() {
        return !0
    };
    m.prototype.fy = function() {
        return !0
    };
    m.prototype.Jl = function() {
        return !0
    };
    m.prototype.jy =
        function() {
            return !0
        };
    m.prototype.iy = function() {
        return !0
    };
    m.prototype.ny = function() {
        return !0
    };
    m.prototype.Fl = function() {
        return !0
    };
    m.prototype.vs = function() {
        return !0
    };
    m.prototype.oy = function() {
        return !0
    };
    m.prototype.xy = function() {
        return !0
    };
    m.prototype.Jl = function() {
        return !0
    };
    m.prototype.gy = function() {
        return !0
    };
    n.e = new m;
    k.prototype.tx = function(a, b) {
        this.b.sd ? CocoonJS.App.openURL(a) : this.b.fe ? ejecta.openURL(a) : this.b.Um ? Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(a)) : navigator.app &&
            navigator.app.loadUrl ? navigator.app.loadUrl(a, {
                openExternal: !0
            }) : this.b.Qc ? window.open(a, "_system") : this.$B || this.b.yb || window.open(a, b)
    };
    n.B = new k;
    n.Da = new function() {}
})();

function ad(e) {
    this.b = e
}
(function() {
    function e() {}

    function m() {}
    var k = ad.prototype;
    k.Fa = function(b) {
        this.Ha = b;
        this.b = b.b
    };
    k.Fa.prototype.Y = function() {};
    k.ua = function(b) {
        this.type = b;
        this.b = b.b
    };
    var n;
    k.ua.prototype.Y = function() {
        (this.b.ee || this.b.ud) && "undefined" != typeof Cocoon && (n = this, document.addEventListener("deviceready", function() {
            var b = setInterval(function() {
                n.b.Ya && (n.b.trigger(ad.prototype.e.rC, n), clearInterval(b))
            }, 100)
        }, !1))
    };
    e.prototype.rC = function() {
        return !0
    };
    k.e = new e;
    m.prototype.BC = function() {};
    k.B = new m;
    k.Da =
        new function() {}
})();

function Xc(e) {
    this.b = e
}
(function() {
    function e() {
        this.name = "";
        this.fl = 0;
        this.yc = []
    }

    function m() {
        a++;
        a === f.length && f.push(new e);
        return f[a]
    }

    function k() {}

    function n() {}

    function b() {}
    var q = Xc.prototype;
    q.Fa = function(a) {
        this.Ha = a;
        this.b = a.b
    };
    q.Fa.prototype.Y = function() {};
    q.ua = function(a) {
        this.type = a;
        this.b = a.b
    };
    var f = [],
        a = -1;
    q.ua.prototype.Y = function() {
        var b = this;
        window.c2_callFunction = function(f, d) {
            var e, k, g, q = m();
            q.name = f.toLowerCase();
            q.fl = 0;
            if (d)
                for (q.yc.length = d.length, e = 0, k = d.length; e < k; ++e) g = d[e], q.yc[e] = "number" ===
                    typeof g || "string" === typeof g ? g : "boolean" === typeof g ? g ? 1 : 0 : 0;
            else C(q.yc);
            b.b.trigger(Xc.prototype.e.Hl, b, q.name);
            a--;
            return q.fl
        }
    };
    k.prototype.Hl = function(b) {
        var e = 0 > a ? null : f[a];
        return e ? Db(b, e.name) : !1
    };
    q.e = new k;
    n.prototype.CallFunction = function(b, f) {
        var d = m();
        d.name = b.toLowerCase();
        d.fl = 0;
        Ra(d.yc, f);
        this.b.trigger(Xc.prototype.e.Hl, this, d.name);
        a--
    };
    q.B = new n;
    b.prototype.bx = function(b, f) {
        var d = m();
        d.name = f.toLowerCase();
        d.fl = 0;
        C(d.yc);
        var e, k;
        e = 2;
        for (k = arguments.length; e < k; e++) d.yc.push(arguments[e]);
        this.b.trigger(Xc.prototype.e.Hl, this, d.name);
        a--;
        b.hw(d.fl)
    };
    q.Da = new b
})();

function bd(e) {
    this.b = e
}
(function() {
    function e(b) {
        this.hb = b;
        this.G = !1;
        this.j = this.speed = this.y = this.x = 0;
        this.opacity = 1;
        this.Wf = this.ri = this.size = this.Jm = 0
    }
    var m = bd.prototype;
    m.Fa = function(b) {
        this.Ha = b;
        this.b = b.b
    };
    var k = m.Fa.prototype;
    k.Y = function() {
        this.P || (this.L = new Image, this.L.tp = this.so, this.N = null, this.b.Io(this.L, this.ul))
    };
    k.Sk = function() {
        this.P || (this.N = null)
    };
    k.Tk = function() {
        this.P || !this.d.length || this.N || (this.N = this.b.F.vg(this.L, !0, this.b.cb, this.Ph))
    };
    k.Ak = function() {
        this.P || this.N || !this.b.F || (this.N = this.b.F.vg(this.L, !0, this.b.cb, this.Ph))
    };
    k.yl = function() {
        this.P || this.d.length || !this.N || (this.b.F.deleteTexture(this.N), this.N = null)
    };
    k.Zk = function(b) {
        b.drawImage(this.L, 0, 0)
    };
    e.prototype.init = function() {
        var b = this.hb;
        this.x = b.x - b.Lo / 2 + Math.random() * b.Lo;
        this.y = b.y - b.Mo / 2 + Math.random() * b.Mo;
        this.speed = b.pq - b.ko / 2 + Math.random() * b.ko;
        this.j = b.j - b.lo / 2 + Math.random() * b.lo;
        this.opacity = b.nq;
        this.size = b.oq - b.jo / 2 + Math.random() * b.jo;
        this.Jm = b.cq - b.Km / 2 + Math.random() * b.Km;
        this.Wf = this.ri = 0
    };
    e.prototype.tb = function(b) {
        var e =
            this.hb;
        this.x += Math.cos(this.j) * this.speed * b;
        this.y += Math.sin(this.j) * this.speed * b;
        this.y += this.ri * b;
        this.speed += e.Wo * b;
        this.size += this.Jm * b;
        this.ri += e.Op * b;
        this.Wf += b;
        1 > this.size ? this.G = !1 : (0 !== e.vk && (this.j += Math.random() * e.vk * b - e.vk * b / 2), 0 !== e.xk && (this.speed += Math.random() * e.xk * b - e.xk * b / 2), 0 !== e.wk && (this.opacity += Math.random() * e.wk * b - e.wk * b / 2, 0 > this.opacity ? this.opacity = 0 : 1 < this.opacity && (this.opacity = 1)), 1 >= e.hi && this.Wf >= e.timeout && (this.G = !1), 2 === e.hi && 0 >= this.speed && (this.G = !1))
    };
    e.prototype.Cd =
        function(b) {
            var e = this.hb.opacity * this.opacity;
            if (0 !== e) {
                0 === this.hb.hi && (e *= 1 - this.Wf / this.hb.timeout);
                b.globalAlpha = e;
                var e = this.x - this.size / 2,
                    f = this.y - this.size / 2;
                this.hb.b.Md && (e = e + .5 | 0, f = f + .5 | 0);
                b.drawImage(this.hb.type.L, e, f, this.size, this.size)
            }
        };
    e.prototype.tc = function(b) {
        var e = this.hb.opacity * this.opacity;
        0 === this.hb.hi && (e *= 1 - this.Wf / this.hb.timeout);
        var f = this.size,
            a = f * this.hb.Dv,
            c = this.x - f / 2,
            k = this.y - f / 2;
        this.hb.b.Md && (c = c + .5 | 0, k = k + .5 | 0);
        1 > a || 0 === e || (a < b.nC || a > b.Rq ? (b.Kg(e), b.Wi(c, k, c +
            f, k, c + f, k + f, c, k + f)) : b.HC(this.x, this.y, a, e))
    };
    e.prototype.left = function() {
        return this.x - this.size / 2
    };
    e.prototype.right = function() {
        return this.x + this.size / 2
    };
    e.prototype.top = function() {
        return this.y - this.size / 2
    };
    e.prototype.bottom = function() {
        return this.y + this.size / 2
    };
    m.ua = function(b) {
        this.type = b;
        this.b = b.b
    };
    var k = m.ua.prototype,
        n = [];
    k.Y = function() {
        var b = this.K;
        this.Xi = b[0];
        this.lo = Ya(b[1]);
        this.dj = b[2];
        this.Qr = !0;
        this.pq = b[3];
        this.oq = b[4];
        this.nq = b[5] / 100;
        this.cq = b[6];
        this.Lo = b[7];
        this.Mo = b[8];
        this.ko =
            b[9];
        this.jo = b[10];
        this.Km = b[11];
        this.Wo = b[12];
        this.Op = b[13];
        this.vk = b[14];
        this.xk = b[15];
        this.wk = b[16];
        this.hi = b[17];
        this.timeout = b[18];
        this.Ih = 0;
        this.Dv = 1;
        this.Bn = this.x;
        this.Dn = this.y;
        this.Cn = this.x;
        this.An = this.y;
        this.iz(function(b) {
            b.ib.set(b.Bn, b.Dn, b.Cn, b.An);
            b.$c.cj(b.ib);
            b.Vl = !1;
            b.hs();
            b.Rw()
        });
        this.Od || (this.Tc = []);
        this.b.wl(this);
        this.type.Ak();
        if (1 === this.dj)
            for (b = 0; b < this.Xi; b++) this.Yo().opacity = 0;
        this.Bm = !0
    };
    k.Uc = function() {
        var b = {
                r: this.Xi,
                sc: this.lo,
                st: this.dj,
                s: this.Qr,
                isp: this.pq,
                isz: this.oq,
                io: this.nq,
                gr: this.cq,
                xr: this.Lo,
                yr: this.Mo,
                spr: this.ko,
                szr: this.jo,
                grnd: this.Km,
                acc: this.Wo,
                g: this.Op,
                lar: this.vk,
                lsr: this.xk,
                lor: this.wk,
                dm: this.hi,
                to: this.timeout,
                pcc: this.Ih,
                ft: this.Bm,
                p: []
            },
            e, f, a, c = b.p;
        e = 0;
        for (f = this.Tc.length; e < f; e++) a = this.Tc[e], c.push([a.x, a.y, a.speed, a.j, a.opacity, a.Jm, a.size, a.ri, a.Wf]);
        return b
    };
    k.xd = function(b) {
        this.Xi = b.r;
        this.lo = b.sc;
        this.dj = b.st;
        this.Qr = b.s;
        this.pq = b.isp;
        this.oq = b.isz;
        this.nq = b.io;
        this.cq = b.gr;
        this.Lo = b.xr;
        this.Mo = b.yr;
        this.ko = b.spr;
        this.jo =
            b.szr;
        this.Km = b.grnd;
        this.Wo = b.acc;
        this.Op = b.g;
        this.vk = b.lar;
        this.xk = b.lsr;
        this.wk = b.lor;
        this.hi = b.dm;
        this.timeout = b.to;
        this.Ih = b.pcc;
        this.Bm = b.ft;
        n.push.apply(n, this.Tc);
        C(this.Tc);
        var e, f, a, c = b.p;
        b = 0;
        for (e = c.length; b < e; b++) f = this.Yo(), a = c[b], f.x = a[0], f.y = a[1], f.speed = a[2], f.j = a[3], f.opacity = a[4], f.Jm = a[5], f.size = a[6], f.ri = a[7], f.Wf = a[8]
    };
    k.Cg = function() {
        n.push.apply(n, this.Tc);
        C(this.Tc)
    };
    k.Yo = function() {
        var b;
        n.length ? (b = n.pop(), b.hb = this) : b = new e(this);
        this.Tc.push(b);
        b.G = !0;
        return b
    };
    k.tb = function() {
        var b =
            this.b.Vj(this),
            e, f, a, c;
        if (0 === this.dj && this.Qr)
            for (this.Ih += b * this.Xi, f = Ha(this.Ih), this.Ih -= f, e = 0; e < f; e++) a = this.Yo(), a.init();
        this.Bn = this.x;
        this.Dn = this.y;
        this.Cn = this.x;
        this.An = this.y;
        c = e = 0;
        for (f = this.Tc.length; e < f; e++) a = this.Tc[e], this.Tc[c] = a, this.b.Ia = !0, 1 === this.dj && this.Bm && a.init(), a.tb(b), a.G ? (a.left() < this.Bn && (this.Bn = a.left()), a.right() > this.Cn && (this.Cn = a.right()), a.top() < this.Dn && (this.Dn = a.top()), a.bottom() > this.An && (this.An = a.bottom()), c++) : n.push(a);
        Pa(this.Tc, c);
        this.eb();
        this.Bm = !1;
        1 === this.dj && 0 === this.Tc.length && this.b.mf(this)
    };
    k.Cd = function(b) {
        var e, f, a, c = this.n;
        e = 0;
        for (f = this.Tc.length; e < f; e++) a = this.Tc[e], a.right() >= c.Oa && a.bottom() >= c.Ta && a.left() <= c.Xa && a.top() <= c.$a && a.Cd(b)
    };
    k.tc = function(b) {
        this.Dv = this.n.Fd();
        b.jd(this.type.N);
        var e, f, a, c = this.n;
        e = 0;
        for (f = this.Tc.length; e < f; e++) a = this.Tc[e], a.right() >= c.Oa && a.bottom() >= c.Ta && a.left() <= c.Xa && a.top() <= c.$a && a.tc(b)
    };
    m.e = new function() {};
    m.B = new function() {};
    m.Da = new function() {}
})();

function cd(e) {
    this.b = e
}
(function() {
    function e() {}

    function m() {}
    var k = cd.prototype;
    k.Fa = function(b) {
        this.Ha = b;
        this.b = b.b
    };
    k.Fa.prototype.Y = function() {
        if (this.b.Sm || this.b.Wm || this.b.rg || this.b.Xm) {
            for (var b = document.getElementsByTagName("script"), e = !1, f = 0; f < b.length; f++)
                if (-1 != b[f].src.indexOf("cordova.js") || -1 != b[f].src.indexOf("phonegap.js")) {
                    e = !0;
                    break
                }
            e || (b = document.createElement("script"), b.setAttribute("type", "text/javascript"), b.setAttribute("src", "cordova.js"), document.getElementsByTagName("head")[0].appendChild(b))
        }
    };
    k.ua = function(b) {
        this.type = b;
        this.b = b.b
    };
    var n = k.ua.prototype;
    n.Y = function() {
        if ((this.b.ee || this.b.ud) && "undefined" != typeof game) {
            var b = this;
            game.setUp();
            game.onLoginSucceeded = function(e) {
                b.wG = e.playerId;
                b.vG = e.playerDisplayName;
                b.fc = game.tag;
                b.b.trigger(cd.prototype.e.ey, b)
            };
            game.onLoginFailed = function() {
                b.fc = game.tag;
                b.b.trigger(cd.prototype.e.dy, b)
            };
            game.onGetPlayerImageSucceeded = function(e) {
                b.xG = e;
                b.b.trigger(cd.prototype.e.Vx, b)
            };
            game.onGetPlayerImageFailed = function() {
                b.b.trigger(cd.prototype.e.Ux,
                    b)
            };
            game.onGetPlayerScoreSucceeded = function(e) {
                b.yG = e;
                b.fc = game.tag;
                b.b.trigger(cd.prototype.e.Xx, b)
            };
            game.onGetPlayerScoreFailed = function() {
                b.fc = game.tag;
                b.b.trigger(cd.prototype.e.Wx, b)
            };
            game.onSubmitScoreSucceeded = function() {
                b.fc = game.tag;
                b.b.trigger(cd.prototype.e.ty, b)
            };
            game.onSubmitScoreFailed = function() {
                b.fc = game.tag;
                b.b.trigger(cd.prototype.e.ry, b)
            };
            game.onUnlockAchievementSucceeded = function() {
                b.fc = game.tag;
                b.b.trigger(cd.prototype.e.wy, b)
            };
            game.onUnlockAchievementFailed = function() {
                b.fc = game.tag;
                b.b.trigger(cd.prototype.e.vy, b)
            };
            game.onIncrementAchievementSucceeded = function() {
                b.fc = game.tag;
                b.b.trigger(cd.prototype.e.ay, b)
            };
            game.onIncrementAchievementFailed = function() {
                b.fc = game.tag;
                b.b.trigger(cd.prototype.e.$x, b)
            };
            game.onResetAchievementsSucceeded = function() {
                b.b.trigger(cd.prototype.e.my, b)
            };
            game.onResetAchievementsFailed = function() {
                b.b.trigger(cd.prototype.e.ly, b)
            }
        }
    };
    n.Cd = function() {};
    n.tc = function() {};
    e.prototype.ey = function(b) {
        return Db(b, this.fc)
    };
    e.prototype.dy = function(b) {
        return Db(b,
            this.fc)
    };
    e.prototype.Ax = function() {
        return !this.b.ee && !this.b.ud || "undefined" == typeof game ? !1 : game.isLoggedIn()
    };
    e.prototype.Vx = function() {
        return !0
    };
    e.prototype.Ux = function() {
        return !0
    };
    e.prototype.Xx = function(b) {
        return Db(b, this.fc)
    };
    e.prototype.Wx = function(b) {
        return Db(b, this.fc)
    };
    e.prototype.ty = function(b) {
        return Db(b, this.fc)
    };
    e.prototype.ry = function(b) {
        return Db(b, this.fc)
    };
    e.prototype.wy = function(b) {
        return Db(b, this.fc)
    };
    e.prototype.vy = function(b) {
        return Db(b, this.fc)
    };
    e.prototype.ay = function(b) {
        return Db(b,
            this.fc)
    };
    e.prototype.$x = function(b) {
        return Db(b, this.fc)
    };
    e.prototype.my = function() {
        return !0
    };
    e.prototype.ly = function() {
        return !0
    };
    k.e = new e;
    m.prototype.Kx = function(b) {
        (this.b.ee || this.b.ud) && "undefined" != typeof game && game.login(b)
    };
    m.prototype.Wy = function(b, e, f) {
        (this.b.ee || this.b.ud) && "undefined" != typeof game && game.submitScore(b, e, f)
    };
    m.prototype.Qy = function() {
        (this.b.ee || this.b.ud) && "undefined" != typeof game && game.showAchievements()
    };
    k.B = new m;
    k.Da = new function() {}
})();

function Wc(e) {
    this.b = e
}
(function() {
    function e() {
        if (0 === this.xp.length) {
            var a = document.createElement("canvas");
            a.width = this.width;
            a.height = this.height;
            var b = a.getContext("2d");
            this.ej ? b.drawImage(this.L, this.Oi, this.Pi, this.width, this.height, 0, 0, this.width, this.height) : b.drawImage(this.L, 0, 0, this.width, this.height);
            this.xp = a.toDataURL("image/png")
        }
        return this.xp
    }

    function m() {}

    function k(a) {
        a[0] = 0;
        a[1] = 0;
        a[2] = 0;
        l.push(a)
    }

    function n(a, b) {
        return a < b ? "" + a + "," + b : "" + b + "," + a
    }

    function b(a, b, c, d) {
        b = b.uid;
        c = c.uid;
        var f = n(b, c);
        if (a.hasOwnProperty(f)) a[f][2] =
            d;
        else {
            var e = l.length ? l.pop() : [0, 0, 0];
            e[0] = b;
            e[1] = c;
            e[2] = d;
            a[f] = e
        }
    }

    function q(a, b, c) {
        b = n(b.uid, c.uid);
        a.hasOwnProperty(b) && (k(a[b]), delete a[b])
    }

    function f(a, b, c) {
        b = n(b.uid, c.uid);
        if (a.hasOwnProperty(b)) return g = a[b][2], !0;
        g = -2;
        return !1
    }

    function a() {}
    var c = Wc.prototype;
    c.Fa = function(a) {
        this.Ha = a;
        this.b = a.b
    };
    var t = c.Fa.prototype;
    t.Y = function() {
        if (!this.P) {
            var a, b, c, d, f, g, h, k, l;
            this.qe = [];
            this.$j = !1;
            a = 0;
            for (b = this.nd.length; a < b; a++) {
                f = this.nd[a];
                h = {};
                h.name = f[0];
                h.speed = f[1];
                h.loop = f[2];
                h.wr = f[3];
                h.Ar =
                    f[4];
                h.Ev = f[5];
                h.Ba = f[6];
                h.frames = [];
                c = 0;
                for (d = f[7].length; c < d; c++) g = f[7][c], k = {}, k.ul = g[0], k.so = g[1], k.Oi = g[2], k.Pi = g[3], k.width = g[4], k.height = g[5], k.duration = g[6], k.gc = g[7], k.hc = g[8], k.kq = g[9], k.Hn = g[10], k.Fv = g[11], k.ej = 0 !== k.width, k.xp = "", k.iG = e, l = {
                    left: 0,
                    top: 0,
                    right: 1,
                    bottom: 1
                }, k.Mr = l, k.N = null, (l = this.b.VA(g[0])) ? k.L = l : (k.L = new Image, k.L.Hz = g[0], k.L.tp = g[1], k.L.uz = null, this.b.Io(k.L, g[0])), h.frames.push(k), this.qe.push(k);
                this.nd[a] = h
            }
        }
    };
    t.Pw = function() {
        var a, b, c;
        a = 0;
        for (b = this.d.length; a < b; a++) c =
            this.d[a], c.km = c.ec.N
    };
    t.Sk = function() {
        if (!this.P) {
            var a, b, c;
            a = 0;
            for (b = this.qe.length; a < b; ++a) c = this.qe[a], c.L.uz = null, c.N = null;
            this.$j = !1;
            this.Pw()
        }
    };
    t.Tk = function() {
        if (!this.P && this.d.length) {
            var a, b, c;
            a = 0;
            for (b = this.qe.length; a < b; ++a) c = this.qe[a], c.N = this.b.F.vg(c.L, !1, this.b.cb, c.Fv);
            this.Pw()
        }
    };
    t.Ak = function() {
        if (!this.P && !this.$j && this.b.F) {
            var a, b, c;
            a = 0;
            for (b = this.qe.length; a < b; ++a) c = this.qe[a], c.N = this.b.F.vg(c.L, !1, this.b.cb, c.Fv);
            this.$j = !0
        }
    };
    t.yl = function() {
        if (!this.P && !this.d.length &&
            this.$j) {
            var a, b, c;
            a = 0;
            for (b = this.qe.length; a < b; ++a) c = this.qe[a], this.b.F.deleteTexture(c.N), c.N = null;
            this.$j = !1
        }
    };
    var d = [];
    t.Zk = function(a) {
        var b, c, f;
        C(d);
        b = 0;
        for (c = this.qe.length; b < c; ++b) f = this.qe[b].L, -1 === d.indexOf(f) && (a.drawImage(f, 0, 0), d.push(f))
    };
    c.ua = function(a) {
        this.type = a;
        this.b = a.b;
        a = this.type.nd[0].frames[0].Hn;
        this.Od ? this.za.ml(a) : this.za = new xb(a)
    };
    var h = c.ua.prototype;
    h.Y = function() {
        this.visible = 0 === this.K[0];
        this.Nm = this.kk = !1;
        this.$g = 0 !== this.K[3];
        this.bb = this.Mt(this.K[1]) || this.type.nd[0];
        this.O = this.K[2];
        0 > this.O && (this.O = 0);
        this.O >= this.bb.frames.length && (this.O = this.bb.frames.length - 1);
        var a = this.bb.frames[this.O];
        this.za.ml(a.Hn);
        this.gc = a.gc;
        this.hc = a.hc;
        this.fi = this.bb.speed;
        this.fg = this.bb.Ar;
        1 === this.type.nd.length && 1 === this.type.nd[0].frames.length || 0 === this.fi || (this.b.wl(this), this.kk = !0);
        this.Od ? this.Ne.reset() : this.Ne = new rb;
        this.yf = this.Ne.Ca;
        this.Ug = !0;
        this.of = 0;
        this.Tg = !0;
        this.$l = this.Vs = "";
        this.ht = 0;
        this.Zl = -1;
        this.type.Ak();
        var b, c, d, f, e, g, h, a = 0;
        for (b = this.type.nd.length; a <
            b; a++)
            for (f = this.type.nd[a], c = 0, d = f.frames.length; c < d; c++) e = f.frames[c], 0 === e.width && (e.width = e.L.width, e.height = e.L.height), e.ej && (h = e.L, g = e.Mr, g.left = e.Oi / h.width, g.top = e.Pi / h.height, g.right = (e.Oi + e.width) / h.width, g.bottom = (e.Pi + e.height) / h.height, 0 === e.Oi && 0 === e.Pi && e.width === h.width && e.height === h.height && (e.ej = !1));
        this.ec = this.bb.frames[this.O];
        this.km = this.ec.N
    };
    h.Uc = function() {
        var a = {
            a: this.bb.Ba,
            f: this.O,
            cas: this.fi,
            fs: this.yf,
            ar: this.of,
            at: this.Ne.Ca,
            rt: this.fg
        };
        this.Ug || (a.ap = this.Ug);
        this.Tg ||
            (a.af = this.Tg);
        return a
    };
    h.xd = function(a) {
        var b = this.$A(a.a);
        b && (this.bb = b);
        this.O = a.f;
        0 > this.O && (this.O = 0);
        this.O >= this.bb.frames.length && (this.O = this.bb.frames.length - 1);
        this.fi = a.cas;
        this.yf = a.fs;
        this.of = a.ar;
        this.Ne.reset();
        this.Ne.Ca = a.at;
        this.Ug = a.hasOwnProperty("ap") ? a.ap : !0;
        this.Tg = a.hasOwnProperty("af") ? a.af : !0;
        a.hasOwnProperty("rt") ? this.fg = a.rt : this.fg = this.bb.Ar;
        this.ec = this.bb.frames[this.O];
        this.km = this.ec.N;
        this.za.ml(this.ec.Hn);
        this.gc = this.ec.gc;
        this.hc = this.ec.hc
    };
    h.$o = function(a) {
        this.O =
            a ? 0 : this.bb.frames.length - 1;
        this.Ug = !1;
        this.Vs = this.bb.name;
        this.Nm = !0;
        this.b.trigger(Wc.prototype.e.Mx, this);
        this.b.trigger(Wc.prototype.e.Lx, this);
        this.Nm = !1;
        this.of = 0
    };
    h.Ye = function() {
        return this.Ne.Ca
    };
    h.tb = function() {
        this.Ne.add(this.b.Vj(this));
        this.$l.length && this.xt();
        0 <= this.Zl && this.yt();
        var a = this.Ne.Ca,
            b = this.bb,
            c = b.frames[this.O],
            d = c.duration / this.fi;
        this.Ug && a >= this.yf + d && (this.Tg ? this.O++ : this.O--, this.yf += d, this.O >= b.frames.length && (b.Ev ? (this.Tg = !1, this.O = b.frames.length - 2) : b.loop ?
            this.O = this.fg : (this.of++, this.of >= b.wr ? this.$o(!1) : this.O = this.fg)), 0 > this.O && (b.Ev ? (this.O = 1, this.Tg = !0, b.loop || (this.of++, this.of >= b.wr && this.$o(!0))) : b.loop ? this.O = this.fg : (this.of++, this.of >= b.wr ? this.$o(!0) : this.O = this.fg)), 0 > this.O ? this.O = 0 : this.O >= b.frames.length && (this.O = b.frames.length - 1), a > this.yf + b.frames[this.O].duration / this.fi && (this.yf = a), a = b.frames[this.O], this.Wh(c, a), this.b.Ia = !0)
    };
    h.Mt = function(a) {
        var b, c, d;
        b = 0;
        for (c = this.type.nd.length; b < c; b++)
            if (d = this.type.nd[b], Db(d.name, a)) return d;
        return null
    };
    h.$A = function(a) {
        var b, c, d;
        b = 0;
        for (c = this.type.nd.length; b < c; b++)
            if (d = this.type.nd[b], d.Ba === a) return d;
        return null
    };
    h.xt = function() {
        var a = this.bb.frames[this.O],
            b = this.Mt(this.$l);
        this.$l = "";
        !b || Db(b.name, this.bb.name) && this.Ug || (this.bb = b, this.fi = b.speed, this.fg = b.Ar, 0 > this.O && (this.O = 0), this.O >= this.bb.frames.length && (this.O = this.bb.frames.length - 1), 1 === this.ht && (this.O = 0), this.Ug = !0, this.yf = this.Ne.Ca, this.Tg = !0, this.Wh(a, this.bb.frames[this.O]), this.b.Ia = !0)
    };
    h.yt = function() {
        var a =
            this.bb.frames[this.O],
            b = this.O;
        this.O = Ha(this.Zl);
        0 > this.O && (this.O = 0);
        this.O >= this.bb.frames.length && (this.O = this.bb.frames.length - 1);
        b !== this.O && (this.Wh(a, this.bb.frames[this.O]), this.yf = this.Ne.Ca, this.b.Ia = !0);
        this.Zl = -1
    };
    h.Wh = function(a, b) {
        var c = a.width,
            d = a.height,
            f = b.width,
            e = b.height;
        c != f && (this.width *= f / c);
        d != e && (this.height *= e / d);
        this.gc = b.gc;
        this.hc = b.hc;
        this.za.ml(b.Hn);
        this.eb();
        this.ec = b;
        this.km = b.N;
        c = 0;
        for (d = this.qa.length; c < d; c++) f = this.qa[c], f.zC && f.zC(a, b);
        this.b.trigger(Wc.prototype.e.Wh,
            this)
    };
    h.Cd = function(a) {
        a.globalAlpha = this.opacity;
        var b = this.ec,
            c = b.ej,
            d = b.L,
            f = this.x,
            e = this.y,
            g = this.width,
            h = this.height;
        if (0 === this.j && 0 <= g && 0 <= h) f -= this.gc * g, e -= this.hc * h, this.b.Md && (f = Math.round(f), e = Math.round(e)), c ? a.drawImage(d, b.Oi, b.Pi, b.width, b.height, f, e, g, h) : a.drawImage(d, f, e, g, h);
        else {
            this.b.Md && (f = Math.round(f), e = Math.round(e));
            a.save();
            var k = 0 < g ? 1 : -1,
                l = 0 < h ? 1 : -1;
            a.translate(f, e);
            1 === k && 1 === l || a.scale(k, l);
            a.rotate(this.j * k * l);
            f = 0 - this.gc * Aa(g);
            e = 0 - this.hc * Aa(h);
            c ? a.drawImage(d, b.Oi,
                b.Pi, b.width, b.height, f, e, Aa(g), Aa(h)) : a.drawImage(d, f, e, Aa(g), Aa(h));
            a.restore()
        }
    };
    h.dh = function(a) {
        this.tc(a)
    };
    h.tc = function(a) {
        a.jd(this.km);
        a.Kg(this.opacity);
        var b = this.ec,
            c = this.$c;
        if (this.b.Md) {
            var d = Math.round(this.x) - this.x,
                f = Math.round(this.y) - this.y;
            b.ej ? a.cf(c.ub + d, c.wb + f, c.$b + d, c.ac + f, c.Ob + d, c.Pb + f, c.Mb + d, c.Nb + f, b.Mr) : a.Wi(c.ub + d, c.wb + f, c.$b + d, c.ac + f, c.Ob + d, c.Pb + f, c.Mb + d, c.Nb + f)
        } else b.ej ? a.cf(c.ub, c.wb, c.$b, c.ac, c.Ob, c.Pb, c.Mb, c.Nb, b.Mr) : a.Wi(c.ub, c.wb, c.$b, c.ac, c.Ob, c.Pb, c.Mb, c.Nb)
    };
    h.eB = function(a) {
        var b = this.ec,
            c, d;
        c = 0;
        for (d = b.kq.length; c < d; c++)
            if (Db(a, b.kq[c][0])) return c;
        return -1
    };
    h.lg = function(a, b) {
        var c = this.ec,
            d = c.kq,
            f;
        wa(a) ? f = this.eB(a) : f = a - 1;
        f = Ha(f);
        if (0 > f || f >= d.length) return b ? this.x : this.y;
        var e = (d[f][1] - c.gc) * this.width,
            d = d[f][2],
            d = (d - c.hc) * this.height,
            c = Math.cos(this.j);
        f = Math.sin(this.j);
        var g = e * c - d * f,
            d = d * c + e * f,
            e = g + this.x,
            d = d + this.y;
        return b ? e : d
    };
    var l = [],
        g = -2,
        M = [];
    m.prototype.Ox = function(a) {
        if (!a) return !1;
        var c = this.b,
            d = c.Uj(),
            e = d.type,
            h = null;
        d.U.collmemory ? h =
            d.U.collmemory : (h = {}, d.U.collmemory = h);
        d.U.spriteCreatedDestroyCallback || (d.U.spriteCreatedDestroyCallback = !0, c.Xo(function(a) {
            var b = d.U.collmemory;
            a = a.uid;
            var c, f;
            for (c in b) b.hasOwnProperty(c) && (f = b[c], f[0] === a || f[1] === a) && (k(b[c]), delete b[c])
        }));
        var l = e.ca(),
            p = a.ca(),
            l = l.cd(),
            n, r, m, t, w, G, y, L = this.b.Nf,
            D = L - 1,
            Q = c.xb().Db;
        for (r = 0; r < l.length; r++) {
            m = l[r];
            p.ma ? (m.Wa(), this.b.Pt(m.n, a, m.ib, M), n = M) : n = p.cd();
            for (t = 0; t < n.length; t++) w = n[t], c.Aw(m, w) || c.xz(m, w) ? (G = f(h, m, w), G = !G || g < D, b(h, m, w, L), G && (c.cl(Q.Va),
                G = e.ca(), y = a.ca(), G.ma = !1, y.ma = !1, e === a ? (G.d.length = 2, G.d[0] = m, G.d[1] = w, e.Wd()) : (G.d.length = 1, y.d.length = 1, G.d[0] = m, y.d[0] = w, e.Wd(), a.Wd()), Q.Br(), c.Gg(Q.Va))) : q(h, m, w);
            C(M)
        }
        return !1
    };
    var L = null,
        w = new ma,
        p = !1,
        r = [],
        G = new La(0, 0, 0, 0);
    t.finish = function(a) {
        if (p) {
            if (a) {
                var b = this.b.xb().Db.Ld;
                a = L.ca();
                var c = w.Pg(),
                    d, f;
                if (a.ma) {
                    a.ma = !1;
                    C(a.d);
                    d = 0;
                    for (f = c.length; d < f; ++d) a.d[d] = c[d];
                    if (b)
                        for (C(a.la), d = 0, f = L.d.length; d < f; ++d) c = L.d[d], w.contains(c) || a.la.push(c)
                } else if (b)
                    for (b = a.d.length, d = 0, f = c.length; d <
                        f; ++d) a.d[b + d] = c[d], Wa(a.la, c[d]);
                else Ra(a.d, c);
                L.Wd()
            }
            w.clear();
            p = !1
        }
    };
    m.prototype.Cx = function(a) {
        if (a) {
            var b = !1,
                c, d, f, e = this.b.Uj(),
                g = e.type,
                e = e.Om;
            c = a.ca();
            d = this.b.xb().Db.Ld;
            var h;
            c.ma ? (this.Wa(), G.ei(this.ib), G.offset(0, 0), this.b.Pt(this.n, a, G, r), h = r) : h = d ? this.b.RB() && !c.la.length && c.d.length ? c.d : c.la : c.d;
            L = a;
            p = g !== a && !e;
            c = 0;
            for (d = h.length; c < d; c++)
                if (f = h[c], this.b.Aw(this, f)) {
                    b = !0;
                    if (e) break;
                    g !== a && w.add(f)
                }
            C(r);
            a = b
        } else a = !1;
        return a
    };
    m.prototype.Lx = function(a) {
        return Db(this.Vs, a)
    };
    m.prototype.Mx =
        function() {
            return !0
        };
    m.prototype.Wh = function() {
        return !0
    };
    c.e = new m;
    a.prototype.Sy = function(a, b, c) {
        if (a && b && (b = this.b.up(a, b, this.lg(c, !0), this.lg(c, !1)))) {
            "undefined" !== typeof b.j && (b.j = this.j, b.eb());
            this.b.Hd++;
            var d, f, e;
            this.b.trigger(Object.getPrototypeOf(a.Ha).e.Vh, b);
            if (b.Lc)
                for (d = 0, f = b.siblings.length; d < f; d++) e = b.siblings[d], this.b.trigger(Object.getPrototypeOf(e.type.Ha).e.Vh, e);
            this.b.Hd--;
            d = this.b.bB();
            c = !1;
            if (ta(d.U.Spawn_LastExec) || d.U.Spawn_LastExec < this.b.jh) c = !0, d.U.Spawn_LastExec =
                this.b.jh;
            if (a != this.type && (a = a.ca(), a.ma = !1, c ? (C(a.d), a.d[0] = b) : a.d.push(b), b.Lc))
                for (d = 0, f = b.siblings.length; d < f; d++) e = b.siblings[d], a = e.type.ca(), a.ma = !1, c ? (C(a.d), a.d[0] = e) : a.d.push(e)
        }
    };
    a.prototype.Cy = function(a, b) {
        this.$l = a;
        this.ht = b;
        this.kk || (this.b.wl(this), this.kk = !0);
        this.Nm || this.xt()
    };
    a.prototype.Dy = function(a) {
        this.Zl = a;
        this.kk || (this.b.wl(this), this.kk = !0);
        this.Nm || this.yt()
    };
    a.prototype.Gs = function(a) {
        var b = this.ec,
            c = b.width * a * (0 > this.width ? -1 : 1);
        a = b.height * a * (0 > this.height ? -1 : 1);
        if (this.width !==
            c || this.height !== a) this.width = c, this.height = a, this.eb()
    };
    c.B = new a;
    c.Da = new function() {}
})();

function dd(e) {
    this.b = e
}
(function() {
    function e(a, b) {
        return a.length ? a.pop() : new b
    }

    function m(a, b, c) {
        if (c) {
            var d;
            c = 0;
            for (d = b.length; c < d; c++) a.length < f && a.push(b[c]);
            C(b)
        } else
            for (d in b) Object.prototype.hasOwnProperty.call(b, d) && (a.length < f && a.push(b[d]), delete b[d])
    }

    function k(b, c, d) {
        var f = b.Bh;
        d = d.replace(/\s\s*$/, "");
        c >= f.length && f.push(e(a, Object));
        c = f[c];
        c.text = d;
        c.width = b.Tq(d);
        b.ij = Ea(b.ij, c.width)
    }

    function n() {}
    var b = dd.prototype;
    b.Y = function() {};
    b.Fa = function(a) {
        this.Ha = a;
        this.b = a.b
    };
    var q = b.Fa.prototype;
    q.Y = function() {
        this.P ||
            (this.L = new Image, this.b.Io(this.L, this.ul), this.N = null)
    };
    q.Sk = function() {
        this.P || (this.N = null)
    };
    q.Tk = function() {
        if (!this.P && this.d.length) {
            this.N || (this.N = this.b.F.vg(this.L, !1, this.b.cb, this.Ph));
            var a, b;
            a = 0;
            for (b = this.d.length; a < b; a++) this.d[a].N = this.N
        }
    };
    q.yl = function() {
        this.P || this.d.length || !this.N || (this.b.F.deleteTexture(this.N), this.N = null)
    };
    q.Zk = function(a) {
        a.drawImage(this.L, 0, 0)
    };
    b.ua = function(a) {
        this.type = a;
        this.b = a.b
    };
    q = b.ua.prototype;
    q.Cg = function() {
        m(a, this.Bh, !0);
        m(c, this.cm, !1);
        m(t, this.em, !1);
        mb(this.ag)
    };
    q.Y = function() {
        this.L = this.type.L;
        this.am = this.K[0];
        this.$f = this.K[1];
        this.characterSet = this.K[2];
        this.text = this.K[3];
        this.Re = this.K[4];
        this.visible = 0 === this.K[5];
        this.Lm = this.K[6] / 2;
        this.Fo = this.K[7] / 2;
        this.cE = 0 === this.K[9];
        this.ai = this.K[10];
        this.lineHeight = this.K[11];
        this.Oh = this.ij = 0;
        this.Od ? (C(this.Bh), mb(this.cm), mb(this.em), mb(this.ag)) : (this.Bh = [], this.cm = {}, this.em = {}, this.ag = {});
        this.jj = !0;
        this.Hq = this.width;
        this.b.F && (this.type.N || (this.type.N = this.b.F.vg(this.type.L, !1, this.b.cb, this.type.Ph)), this.N = this.type.N);
        this.Ty()
    };
    q.Uc = function() {
        var a = {
                t: this.text,
                csc: this.Re,
                csp: this.ai,
                lh: this.lineHeight,
                tw: this.ij,
                th: this.Oh,
                lrt: this.eC,
                ha: this.Lm,
                va: this.Fo,
                cw: {}
            },
            b;
        for (b in this.ag) a.cw[b] = this.ag[b];
        return a
    };
    q.xd = function(a) {
        this.text = a.t;
        this.Re = a.csc;
        this.ai = a.csp;
        this.lineHeight = a.lh;
        this.ij = a.tw;
        this.Oh = a.th;
        this.eC = a.lrt;
        a.hasOwnProperty("ha") && (this.Lm = a.ha);
        a.hasOwnProperty("va") && (this.Fo = a.va);
        for (var b in a.cw) this.ag[b] = a.cw[b];
        this.jj = !0;
        this.Hq =
            this.width
    };
    var f = 1E3,
        a = [],
        c = [],
        t = [];
    q.Ty = function() {
        for (var a = this.L, b = a.width, d = a.height, a = this.am, f = this.$f, h = a / b, k = f / d, n = this.characterSet, b = Math.floor(b / a), d = Math.floor(d / f), m = 0; m < n.length && !(m >= b * d); m++) {
            var q = m % b,
                z = Math.floor(m / b),
                R = n.charAt(m);
            if (this.b.F) {
                var K = this.em,
                    x = q * h,
                    A = z * k,
                    q = (q + 1) * h,
                    z = (z + 1) * k;
                void 0 === K[R] && (K[R] = e(t, La));
                K[R].left = x;
                K[R].top = A;
                K[R].right = q;
                K[R].bottom = z
            } else K = this.cm, q = q * a, z = z * f, x = a, A = f, void 0 === K[R] && (K[R] = e(c, Object)), K[R].x = q, K[R].y = z, K[R].q = x, K[R].Yt = A
        }
    };
    var d = [];
    b.Xy = function(a) {
        C(d);
        for (var b = "", c, f = 0; f < a.length;)
            if (c = a.charAt(f), "\n" === c) b.length && (d.push(b), b = ""), d.push("\n"), ++f;
            else if (" " === c || "\t" === c || "-" === c) {
            do b += a.charAt(f), f++; while (f < a.length && (" " === a.charAt(f) || "\t" === a.charAt(f)));
            d.push(b);
            b = ""
        } else f < a.length && (b += c, f++);
        b.length && d.push(b)
    };
    b.$y = function(b) {
        var c = b.text,
            d = b.Bh;
        if (c && c.length) {
            var f = b.width;
            if (2 >= f) m(a, d, !0);
            else {
                var h = b.Re,
                    k = b.ai;
                if (c.length * (b.am * h + k) - k <= f && -1 === c.indexOf("\n") && (k = b.Tq(c), k <= f)) {
                    m(a, d, !0);
                    d.push(e(a,
                        Object));
                    d[0].text = c;
                    d[0].width = k;
                    b.ij = k;
                    b.Oh = b.$f * h + b.lineHeight;
                    return
                }
                this.az(b);
                b.Oh = d.length * (b.$f * h + b.lineHeight)
            }
        } else m(a, d, !0)
    };
    b.az = function(b) {
        var c = b.cE,
            e = b.text,
            h = b.Bh,
            n = b.width;
        c && (this.Xy(e), e = d);
        var p = "",
            m, q, t, z = 0,
            R = !1;
        for (t = 0; t < e.length; t++) "\n" === e[t] ? (!0 === R ? R = !1 : (k(b, z, p), z++), p = "") : (R = !1, m = p, p += e[t], q = b.Tq(p.replace(/\s\s*$/, "")), q > n && ("" === m ? (k(b, z, p), p = "", R = !0) : (k(b, z, m), p = e[t]), z++, c || " " !== p || (p = "")));
        p.replace(/\s\s*$/, "").length && (k(b, z, p), z++);
        for (t = z; t < h.length; t++) a.length <
            f && a.push(h[t]);
        h.length = z
    };
    q.Tq = function(a) {
        for (var b = this.ai, c = a.length, d = 0, f = 0; f < c; f++) d += this.Rp(a.charAt(f)) * this.Re + b;
        return d - (0 < d ? b : 0)
    };
    q.Rp = function(a) {
        var b = this.ag;
        return void 0 !== b[a] ? b[a] : this.am
    };
    q.Nv = function() {
        if (this.jj || this.width !== this.Hq) this.Oh = this.ij = 0, this.type.Ha.$y(this), this.jj = !1, this.Hq = this.width
    };
    q.Cd = function(a) {
        var b = this.L;
        if ("" !== this.text && null != b && (this.Nv(), !(this.height < this.$f * this.Re + this.lineHeight))) {
            a.globalAlpha = this.opacity;
            var b = this.x,
                c = this.y;
            this.b.Md &&
                (b = Math.round(b), c = Math.round(c));
            var d = this.n.Oa,
                f = this.n.Ta,
                e = this.n.Xa,
                h = this.n.$a;
            a.save();
            a.translate(b, c);
            a.rotate(this.j);
            for (var k = this.j, n = this.Lm, m = this.Re, q = this.$f * m, t = this.lineHeight, x = this.ai, A = this.Bh, P, Y = -(this.gc * this.width), E = -(this.hc * this.height), E = E + this.Fo * Ea(0, this.height - this.Oh), V, T, u, O = 0; O < A.length; O++) {
                var y = A[O].text;
                P = n * Ea(0, this.width - A[O].width);
                V = Y + P;
                E += t;
                if (0 === k && c + E + q < f) E += q;
                else {
                    for (var F = 0; F < y.length; F++) {
                        T = y.charAt(F);
                        P = this.Rp(T);
                        var D = this.cm[T];
                        if (0 === k && b +
                            V + P * m + x < d) V += P * m + x;
                        else {
                            if (V + P * m > this.width + 1E-5) break;
                            void 0 !== D && (T = V, u = E, 0 === k && 1 === m && (T = Math.round(T), u = Math.round(u)), a.drawImage(this.L, D.x, D.y, D.q, D.Yt, T, u, D.q * m, D.Yt * m));
                            V += P * m + x;
                            if (0 === k && b + V > e) break
                        }
                    }
                    E += q;
                    if (0 === k && (E + q + t > this.height || c + E > h)) break
                }
            }
            a.restore()
        }
    };
    var h = new Ma;
    q.tc = function(a) {
        a.jd(this.N);
        a.Kg(this.opacity);
        if (this.text && (this.Nv(), !(this.height < this.$f * this.Re + this.lineHeight))) {
            this.Wa();
            var b = this.$c,
                c = 0,
                d = 0;
            this.b.Md && (c = Math.round(this.x) - this.x, d = Math.round(this.y) -
                this.y);
            var f = this.n.Oa,
                e = this.n.Ta,
                k = this.n.Xa,
                n = this.n.$a,
                m = this.j,
                q = this.Lm,
                t = this.Fo,
                K = this.Re,
                x = this.$f * K,
                A = this.lineHeight,
                P = this.ai,
                Y = this.Bh,
                E = this.Oh,
                V, T, u;
            0 !== m && (T = Math.cos(m), u = Math.sin(m));
            for (var c = b.ub + c, b = b.wb + d, O, t = t * Ea(0, this.height - E), y, F, E = 0; E < Y.length; E++)
                if (d = Y[E].text, O = V = q * Ea(0, this.width - Y[E].width), t += A, 0 === m && b + t + x < e) t += x;
                else {
                    for (var D = 0; D < d.length; D++) {
                        var Q = d.charAt(D);
                        V = this.Rp(Q);
                        Q = this.em[Q];
                        if (0 === m && c + O + V * K + P < f) O += V * K + P;
                        else {
                            if (O + V * K > this.width + 1E-5) break;
                            if (void 0 !==
                                Q) {
                                var J = this.am * K,
                                    H = this.$f * K;
                                y = O;
                                F = t;
                                0 === m && 1 === K && (y = Math.round(y), F = Math.round(F));
                                h.ub = y;
                                h.wb = F;
                                h.$b = y + J;
                                h.ac = F;
                                h.Mb = y;
                                h.Nb = F + H;
                                h.Ob = y + J;
                                h.Pb = F + H;
                                0 !== m && (y = h, F = T, J = u, H = void 0, H = y.ub * F - y.wb * J, y.wb = y.wb * F + y.ub * J, y.ub = H, H = y.$b * F - y.ac * J, y.ac = y.ac * F + y.$b * J, y.$b = H, H = y.Mb * F - y.Nb * J, y.Nb = y.Nb * F + y.Mb * J, y.Mb = H, H = y.Ob * F - y.Pb * J, y.Pb = y.Pb * F + y.Ob * J, y.Ob = H);
                                h.offset(c, b);
                                a.cf(h.ub, h.wb, h.$b, h.ac, h.Ob, h.Pb, h.Mb, h.Nb, Q)
                            }
                            O += V * K + P;
                            if (0 === m && c + O > k) break
                        }
                    }
                    t += x;
                    if (0 === m && (t + x + A > this.height || b + t > n)) break
                }
        }
    };
    b.e = new function() {};
    n.prototype.Ny = function(a) {
        va(a) && 1E9 > a && (a = Math.round(1E10 * a) / 1E10);
        a = a.toString();
        this.text !== a && (this.text = a, this.jj = !0, this.b.Ia = !0)
    };
    n.prototype.Gs = function(a) {
        a !== this.Re && (this.Re = a, this.jj = !0, this.b.Ia = !0)
    };
    q.Ye = function(a, b) {
        var c = parseInt(b, 10);
        this.ag[a] !== c && (this.ag[a] = c, this.jj = !0, this.b.Ia = !0)
    };
    b.B = new n;
    b.Da = new function() {}
})();

function ed(e) {
    this.b = e
}
(function() {
    var e = ed.prototype;
    e.Fa = function(e) {
        this.Ha = e;
        this.b = e.b
    };
    var m = e.Fa.prototype;
    m.Y = function() {
        this.P || (this.L = new Image, this.L.tp = this.so, this.b.Io(this.L, this.ul), this.N = this.pattern = null)
    };
    m.Sk = function() {
        this.P || (this.N = null)
    };
    m.Tk = function() {
        if (!this.P && this.d.length) {
            this.N || (this.N = this.b.F.vg(this.L, !0, this.b.cb, this.Ph));
            var e, m;
            e = 0;
            for (m = this.d.length; e < m; e++) this.d[e].N = this.N
        }
    };
    m.Ak = function() {
        this.P || this.N || !this.b.F || (this.N = this.b.F.vg(this.L, !0, this.b.cb, this.Ph))
    };
    m.yl =
        function() {
            this.P || this.d.length || !this.N || (this.b.F.deleteTexture(this.N), this.N = null)
        };
    m.Zk = function(e) {
        e.drawImage(this.L, 0, 0)
    };
    e.ua = function(e) {
        this.type = e;
        this.b = e.b
    };
    m = e.ua.prototype;
    m.Y = function() {
        this.visible = 0 === this.K[0];
        this.dl = new La(0, 0, 0, 0);
        this.bu = !1;
        this.L = this.type.L;
        this.b.F ? (this.type.Ak(), this.N = this.type.N) : (this.type.pattern || (this.type.pattern = this.b.jb.createPattern(this.type.L, "repeat")), this.pattern = this.type.pattern)
    };
    m.Me = function() {
        this.bu = !1;
        this.L = this.type.L
    };
    m.Cg =
        function() {
            this.b.F && this.bu && this.N && (this.b.F.deleteTexture(this.N), this.N = null)
        };
    m.Cd = function(e) {
        e.globalAlpha = this.opacity;
        e.save();
        e.fillStyle = this.pattern;
        var m = this.x,
            b = this.y;
        this.b.Md && (m = Math.round(m), b = Math.round(b));
        var q = -(this.gc * this.width),
            f = -(this.hc * this.height),
            a = q % this.L.width,
            c = f % this.L.height;
        0 > a && (a += this.L.width);
        0 > c && (c += this.L.height);
        e.translate(m, b);
        e.rotate(this.j);
        e.translate(a, c);
        e.fillRect(q - a, f - c, this.width, this.height);
        e.restore()
    };
    m.dh = function(e) {
        this.tc(e)
    };
    m.tc =
        function(e) {
            e.jd(this.N);
            e.Kg(this.opacity);
            var m = this.dl;
            m.right = this.width / this.L.width;
            m.bottom = this.height / this.L.height;
            var b = this.$c;
            if (this.b.Md) {
                var q = Math.round(this.x) - this.x,
                    f = Math.round(this.y) - this.y;
                e.cf(b.ub + q, b.wb + f, b.$b + q, b.ac + f, b.Ob + q, b.Pb + f, b.Mb + q, b.Nb + f, m)
            } else e.cf(b.ub, b.wb, b.$b, b.ac, b.Ob, b.Pb, b.Mb, b.Nb, m)
        };
    e.e = new function() {};
    e.B = new function() {};
    e.Da = new function() {}
})();

function fd(e) {
    this.b = e
}
(function() {
    function e(a) {
        c = a.x;
        t = a.y;
        d = a.z
    }

    function m(a, b, c, d) {
        var f;
        f = h.length ? h.pop() : new k;
        f.init(a, b, c, d);
        return f
    }

    function k() {
        this.ql = this.id = this.y = this.x = this.oo = this.no = this.Gq = this.time = this.Sr = 0;
        this.xl = this.yo = !1
    }

    function n() {}

    function b() {}
    var q = fd.prototype;
    q.Fa = function(a) {
        this.Ha = a;
        this.b = a.b
    };
    q.Fa.prototype.Y = function() {};
    q.ua = function(a) {
        this.type = a;
        this.b = a.b;
        this.touches = [];
        this.Wq = !1
    };
    var f = q.ua.prototype,
        a = {
            left: 0,
            top: 0
        };
    f.Sj = function(a) {
        var b, c;
        b = 0;
        for (c = this.touches.length; b <
            c; b++)
            if (this.touches[b].id === a) return b;
        return -1
    };
    var c = 0,
        t = 0,
        d = 0,
        h = [];
    k.prototype.init = function(a, b, c, d) {
        var f = nb();
        this.Sr = this.Gq = this.time = f;
        this.no = a;
        this.oo = b;
        this.x = a;
        this.y = b;
        this.pressure = this.height = this.width = 0;
        this.id = c;
        this.ql = d;
        this.xl = this.yo = !1
    };
    k.prototype.update = function(a, b, c, d, f, e) {
        this.Gq = this.time;
        this.time = a;
        this.x = b;
        this.y = c;
        this.width = d;
        this.height = f;
        this.pressure = e;
        !this.xl && 15 <= jb(this.no, this.oo, this.x, this.y) && (this.xl = !0)
    };
    k.prototype.lC = function(a, b) {
        !this.yo && 500 <=
            nb() - this.Sr && !this.xl && 15 > jb(this.no, this.oo, this.x, this.y) && (this.yo = !0, a.lf = this.ql, a.oj = this.id, a.pi = b, a.b.trigger(fd.prototype.e.Yx, a), a.tf = this.x, a.uf = this.y, a.b.trigger(fd.prototype.e.Zx, a), a.pi = 0)
    };
    var l = -1E3,
        g = -1E3,
        M = -1E4;
    k.prototype.Su = function(a, b) {
        if (!this.yo) {
            var c = nb();
            333 >= c - this.Sr && !this.xl && 15 > jb(this.no, this.oo, this.x, this.y) && (a.lf = this.ql, a.oj = this.id, a.pi = b, 666 >= c - M && 25 > jb(l, g, this.x, this.y) ? (a.b.trigger(fd.prototype.e.Rx, a), a.tf = this.x, a.uf = this.y, a.b.trigger(fd.prototype.e.Sx,
                a), g = l = -1E3, M = -1E4) : (a.b.trigger(fd.prototype.e.uy, a), a.tf = this.x, a.uf = this.y, a.b.trigger(fd.prototype.e.zs, a), l = this.x, g = this.y, M = c), a.pi = 0)
        }
    };
    f.Y = function() {
        this.YB = !("undefined" === typeof window.c2isWindows8 || !window.c2isWindows8);
        this.pi = this.oj = this.lf = this.uf = this.tf = this.Ms = this.Ls = this.Ks = this.fz = this.ez = this.dz = this.zn = this.yn = this.xn = 0;
        this.WD = 0 !== this.K[0];
        var a = 0 < this.b.bd ? document : this.b.canvas,
            b = document;
        this.b.Kc ? b = a = window.Canvas : this.b.sd && (b = a = window);
        var c = this;
        "undefined" !== typeof PointerEvent ?
            (a.addEventListener("pointerdown", function(a) {
                c.ov(a)
            }, !1), a.addEventListener("pointermove", function(a) {
                c.nv(a)
            }, !1), b.addEventListener("pointerup", function(a) {
                c.wn(a, !1)
            }, !1), b.addEventListener("pointercancel", function(a) {
                c.wn(a, !0)
            }, !1), this.b.canvas && (this.b.canvas.addEventListener("MSGestureHold", function(a) {
                a.preventDefault()
            }, !1), document.addEventListener("MSGestureHold", function(a) {
                a.preventDefault()
            }, !1), this.b.canvas.addEventListener("gesturehold", function(a) {
                a.preventDefault()
            }, !1), document.addEventListener("gesturehold",
                function(a) {
                    a.preventDefault()
                }, !1))) : window.navigator.msPointerEnabled ? (a.addEventListener("MSPointerDown", function(a) {
                c.ov(a)
            }, !1), a.addEventListener("MSPointerMove", function(a) {
                c.nv(a)
            }, !1), b.addEventListener("MSPointerUp", function(a) {
                c.wn(a, !1)
            }, !1), b.addEventListener("MSPointerCancel", function(a) {
                c.wn(a, !0)
            }, !1), this.b.canvas && (this.b.canvas.addEventListener("MSGestureHold", function(a) {
                a.preventDefault()
            }, !1), document.addEventListener("MSGestureHold", function(a) {
                a.preventDefault()
            }, !1))) : (a.addEventListener("touchstart",
                function(a) {
                    c.sv(a)
                }, !1), a.addEventListener("touchmove", function(a) {
                c.rv(a)
            }, !1), b.addEventListener("touchend", function(a) {
                c.fr(a, !1)
            }, !1), b.addEventListener("touchcancel", function(a) {
                c.fr(a, !0)
            }, !1));
        if (this.YB) {
            var d = function(a) {
                    a = a.reading;
                    c.Ks = a.accelerationX;
                    c.Ls = a.accelerationY;
                    c.Ms = a.accelerationZ
                },
                f = function(a) {
                    a = a.reading;
                    c.xn = a.yawDegrees;
                    c.yn = a.pitchDegrees;
                    c.zn = a.rollDegrees
                },
                g = Windows.Devices.Sensors.Accelerometer.getDefault();
            g && (g.reportInterval = Math.max(g.minimumReportInterval, 16),
                g.addEventListener("readingchanged", d));
            var h = Windows.Devices.Sensors.Inclinometer.getDefault();
            h && (h.reportInterval = Math.max(h.minimumReportInterval, 16), h.addEventListener("readingchanged", f));
            document.addEventListener("visibilitychange", function() {
                document.hidden || document.msHidden ? (g && g.removeEventListener("readingchanged", d), h && h.removeEventListener("readingchanged", f)) : (g && g.addEventListener("readingchanged", d), h && h.addEventListener("readingchanged", f))
            }, !1)
        } else window.addEventListener("deviceorientation",
            function(a) {
                c.xn = a.alpha || 0;
                c.yn = a.beta || 0;
                c.zn = a.gamma || 0
            }, !1), window.addEventListener("devicemotion", function(a) {
            a.accelerationIncludingGravity && (c.dz = a.accelerationIncludingGravity.x || 0, c.ez = a.accelerationIncludingGravity.y || 0, c.fz = a.accelerationIncludingGravity.z || 0);
            a.acceleration && (c.Ks = a.acceleration.x || 0, c.Ls = a.acceleration.y || 0, c.Ms = a.acceleration.z || 0)
        }, !1);
        this.WD && !this.b.yb && (jQuery(document).mousemove(function(a) {
            c.tC(a)
        }), jQuery(document).mousedown(function(a) {
            c.sC(a)
        }), jQuery(document).mouseup(function(a) {
            c.uC(a)
        }));
        !this.b.ud && this.b.Qc && navigator.accelerometer && navigator.accelerometer.watchAcceleration && navigator.accelerometer.watchAcceleration(e, null, {
            frequency: 40
        });
        this.b.KD(this)
    };
    f.nv = function(b) {
        if (b.pointerType !== b.MSPOINTER_TYPE_MOUSE && "mouse" !== b.pointerType) {
            b.preventDefault && b.preventDefault();
            var c = this.Sj(b.pointerId),
                d = nb();
            if (0 <= c) {
                var f = this.b.yb ? a : jQuery(this.b.canvas).offset(),
                    c = this.touches[c];
                2 > d - c.time || c.update(d, b.pageX - f.left, b.pageY - f.top, b.width || 0, b.height || 0, b.pressure || 0)
            }
        }
    };
    f.ov =
        function(b) {
            if (b.pointerType !== b.MSPOINTER_TYPE_MOUSE && "mouse" !== b.pointerType) {
                b.preventDefault && Eb(b) && b.preventDefault();
                var c = this.b.yb ? a : jQuery(this.b.canvas).offset(),
                    d = b.pageX - c.left,
                    c = b.pageY - c.top;
                nb();
                this.lf = this.touches.length;
                this.oj = b.pointerId;
                this.touches.push(m(d, c, b.pointerId, this.lf));
                this.b.Xe = !0;
                this.b.trigger(fd.prototype.e.xs, this);
                this.b.trigger(fd.prototype.e.Bs, this);
                this.tf = d;
                this.uf = c;
                this.b.trigger(fd.prototype.e.Qo, this);
                this.b.Xe = !1
            }
        };
    f.wn = function(a, b) {
        if (a.pointerType !==
            a.MSPOINTER_TYPE_MOUSE && "mouse" !== a.pointerType) {
            a.preventDefault && Eb(a) && a.preventDefault();
            var c = this.Sj(a.pointerId);
            this.lf = 0 <= c ? this.touches[c].ql : -1;
            this.oj = 0 <= c ? this.touches[c].id : -1;
            this.b.Xe = !0;
            this.b.trigger(fd.prototype.e.ws, this);
            this.b.trigger(fd.prototype.e.As, this);
            0 <= c && (b || this.touches[c].Su(this, c), 100 > h.length && h.push(this.touches[c]), this.touches.splice(c, 1));
            this.b.Xe = !1
        }
    };
    f.rv = function(b) {
        b.preventDefault && b.preventDefault();
        var c = nb(),
            d, f, e, g;
        d = 0;
        for (f = b.changedTouches.length; d <
            f; d++)
            if (e = b.changedTouches[d], g = this.Sj(e.identifier), 0 <= g) {
                var h = this.b.yb ? a : jQuery(this.b.canvas).offset();
                g = this.touches[g];
                2 > c - g.time || g.update(c, e.pageX - h.left, e.pageY - h.top, 2 * (e.BG || e.LG || e.qG || e.tG || 0), 2 * (e.CG || e.MG || e.rG || e.uG || 0), e.fG || e.KG || e.pG || e.sG || 0)
            }
    };
    f.sv = function(b) {
        b.preventDefault && Eb(b) && b.preventDefault();
        var c = this.b.yb ? a : jQuery(this.b.canvas).offset();
        nb();
        this.b.Xe = !0;
        var d, f, e, g;
        d = 0;
        for (f = b.changedTouches.length; d < f; d++)
            if (e = b.changedTouches[d], g = this.Sj(e.identifier), -1 ===
                g) {
                g = e.pageX - c.left;
                var h = e.pageY - c.top;
                this.lf = this.touches.length;
                this.oj = e.identifier;
                this.touches.push(m(g, h, e.identifier, this.lf));
                this.b.trigger(fd.prototype.e.xs, this);
                this.b.trigger(fd.prototype.e.Bs, this);
                this.tf = g;
                this.uf = h;
                this.b.trigger(fd.prototype.e.Qo, this)
            }
        this.b.Xe = !1
    };
    f.fr = function(a, b) {
        a.preventDefault && Eb(a) && a.preventDefault();
        this.b.Xe = !0;
        var c, d, f;
        c = 0;
        for (d = a.changedTouches.length; c < d; c++) f = a.changedTouches[c], f = this.Sj(f.identifier), 0 <= f && (this.lf = this.touches[f].ql, this.oj =
            this.touches[f].id, this.b.trigger(fd.prototype.e.ws, this), this.b.trigger(fd.prototype.e.As, this), b || this.touches[f].Su(this, f), 100 > h.length && h.push(this.touches[f]), this.touches.splice(f, 1));
        this.b.Xe = !1
    };
    f.Ye = function() {
        return this.b.Qc && 0 === this.xn && 0 !== d ? 90 * d : this.xn
    };
    f.zq = function() {
        return this.b.Qc && 0 === this.yn && 0 !== t ? 90 * t : this.yn
    };
    f.UC = function() {
        return this.b.Qc && 0 === this.zn && 0 !== c ? 90 * c : this.zn
    };
    f.sC = function(a) {
        this.sv({
            changedTouches: [{
                pageX: a.pageX,
                pageY: a.pageY,
                identifier: 0
            }]
        });
        this.Wq = !0
    };
    f.tC = function(a) {
        this.Wq && this.rv({
            changedTouches: [{
                pageX: a.pageX,
                pageY: a.pageY,
                identifier: 0
            }]
        })
    };
    f.uC = function(a) {
        a.preventDefault && this.b.Zt && !this.b.vi && a.preventDefault();
        this.b.Zt = !0;
        this.fr({
            changedTouches: [{
                pageX: a.pageX,
                pageY: a.pageY,
                identifier: 0
            }]
        });
        this.Wq = !1
    };
    f.wo = function() {
        var a, b, c, d = nb();
        a = 0;
        for (b = this.touches.length; a < b; ++a) c = this.touches[a], c.time <= d - 50 && (c.Gq = d), c.lC(this, a)
    };
    n.prototype.Bs = function() {
        return !0
    };
    n.prototype.As = function() {
        return !0
    };
    n.prototype.zx = function() {
        return this.touches.length
    };
    n.prototype.Qo = function(a) {
        return a ? this.b.qo(a, this.tf, this.uf) : !1
    };
    var L = [];
    n.prototype.Dx = function(a) {
        if (!a) return !1;
        var b = a.ca(),
            c = b.cd(),
            d, f, e, g, h, k;
        e = 0;
        for (g = c.length; e < g; e++) {
            var l = c[e];
            l.Wa();
            h = 0;
            for (k = this.touches.length; h < k; h++)
                if (f = this.touches[h], d = l.n.qc(f.x, f.y, !0), f = l.n.qc(f.x, f.y, !1), l.Fc(d, f)) {
                    L.push(l);
                    break
                }
        }
        return L.length ? (b.ma = !1, Ra(b.d, L), a.Wd(), C(L), !0) : !1
    };
    n.prototype.xs = function(a) {
        a = Math.floor(a);
        return a === this.lf
    };
    n.prototype.ws = function(a) {
        a = Math.floor(a);
        return a ===
            this.lf
    };
    n.prototype.Yx = function() {
        return !0
    };
    n.prototype.uy = function() {
        return !0
    };
    n.prototype.Rx = function() {
        return !0
    };
    n.prototype.Zx = function(a) {
        return a ? this.b.qo(a, this.tf, this.uf) : !1
    };
    n.prototype.zs = function(a) {
        return a ? this.b.qo(a, this.tf, this.uf) : !1
    };
    n.prototype.Sx = function(a) {
        return a ? this.b.qo(a, this.tf, this.uf) : !1
    };
    q.e = new n;
    b.prototype.Ll = function(a, b) {
        var c = this.pi;
        if (0 > c || c >= this.touches.length) a.A(0);
        else {
            var d, f, e, g, h;
            ta(b) ? (d = this.b.ni(0), f = d.scale, e = d.Le, g = d.je, h = d.j, d.scale = 1, d.Le =
                1, d.je = 1, d.j = 0, a.A(d.qc(this.touches[c].x, this.touches[c].y, !0)), d.scale = f, d.Le = e, d.je = g, d.j = h) : (d = va(b) ? this.b.ni(b) : this.b.Gm(b)) ? a.A(d.qc(this.touches[c].x, this.touches[c].y, !0)) : a.A(0)
        }
    };
    b.prototype.Js = function(a, b) {
        var c = this.pi;
        if (0 > c || c >= this.touches.length) a.A(0);
        else {
            var d, f, e, g, h;
            ta(b) ? (d = this.b.ni(0), f = d.scale, e = d.Le, g = d.ke, h = d.j, d.scale = 1, d.Le = 1, d.ke = 1, d.j = 0, a.A(d.qc(this.touches[c].x, this.touches[c].y, !1)), d.scale = f, d.Le = e, d.ke = g, d.j = h) : (d = va(b) ? this.b.ni(b) : this.b.Gm(b)) ? a.A(d.qc(this.touches[c].x,
                this.touches[c].y, !1)) : a.A(0)
        }
    };
    q.Da = new b
})();

function gd(e) {
    this.b = e
}
(function() {
    function e() {}

    function m() {}

    function k() {}
    var n = gd.prototype;
    n.Fa = function(a) {
        this.Ha = a;
        this.b = a.b
    };
    n.Fa.prototype.Y = function() {};
    n.ua = function(a) {
        this.type = a;
        this.b = a.b
    };
    var b = n.ua.prototype,
        q = "",
        f = "undefined" !== typeof window.is_scirra_arcade;
    f && (q = "arcade" + window.scirra_arcade_id);
    var a = !1;
    try {
        localStorage.getItem("test"), a = !0
    } catch (c) {
        a = !1
    }
    b.Y = function() {
        a || ra("[Construct 2] Webstorage plugin: local storage is not supported on this platform.")
    };
    e.prototype.Ix = function(b) {
        return a ? null !=
            localStorage.getItem(q + b) : !1
    };
    e.prototype.ky = function() {
        return !0
    };
    e.prototype.jx = function(b, c, f) {
        if (!a) return !1;
        b = localStorage.getItem(q + b) || "";
        return Kc(parseFloat(b), c, f)
    };
    n.e = new e;
    m.prototype.Uy = function(b, c) {
        if (a) try {
            localStorage.setItem(q + b, c)
        } catch (f) {
            this.b.trigger(gd.prototype.e.ky, this)
        }
    };
    n.B = new m;
    k.prototype.Jx = function(b, c) {
        a ? b.oc(localStorage.getItem(q + c) || "") : b.oc("")
    };
    k.prototype.ps = function(b) {
        if (a) {
            var c = {},
                e, k, g;
            e = 0;
            for (k = localStorage.length; e < k; e++) g = localStorage.key(e), f ? g.substr(0,
                q.length) === q && (c[g.substr(q.length)] = localStorage.getItem(g)) : c[g] = localStorage.getItem(g);
            b.oc(JSON.stringify({
                c2dictionary: !0,
                data: c
            }))
        } else b.oc("")
    };
    n.Da = new k
})();

function hd(e) {
    this.b = e
}
(function() {
    function e() {}
    var m = hd.prototype;
    m.Fa = function(e) {
        this.behavior = e;
        this.b = e.b
    };
    m.Fa.prototype.Y = function() {};
    m.ua = function(e, b) {
        this.type = e;
        this.behavior = e.behavior;
        this.c = b;
        this.b = e.b
    };
    var k = m.ua.prototype;
    k.Y = function() {
        this.Yb = null;
        this.Fn = -1;
        this.mode = this.Di = this.uo = this.Ni = this.Gf = this.Yk = 0;
        var e = this;
        this.Od || (this.av = function(b) {
            e.er(b)
        });
        this.b.Xo(this.av)
    };
    k.Uc = function() {
        return {
            uid: this.Yb ? this.Yb.uid : -1,
            pa: this.Yk,
            pd: this.Gf,
            msa: this.Ni,
            tsa: this.uo,
            lka: this.Di,
            m: this.mode
        }
    };
    k.xd = function(e) {
        this.Fn = e.uid;
        this.Yk = e.pa;
        this.Gf = e.pd;
        this.Ni = e.msa;
        this.uo = e.tsa;
        this.Di = e.lka;
        this.mode = e.m
    };
    k.Me = function() {
        -1 === this.Fn ? this.Yb = null : this.Yb = this.b.oi(this.Fn);
        this.Fn = -1
    };
    k.er = function(e) {
        this.Yb == e && (this.Yb = null)
    };
    k.Cg = function() {
        this.Yb = null;
        this.b.cD(this.av)
    };
    k.tb = function() {};
    k.wo = function() {
        if (this.Yb) {
            this.Di !== this.c.j && (this.Ni = bb(this.Ni + (this.c.j - this.Di)));
            var e = this.c.x,
                b = this.c.y;
            if (3 === this.mode || 4 === this.mode) {
                var k = jb(this.c.x, this.c.y, this.Yb.x, this.Yb.y);
                if (k > this.Gf || 4 === this.mode && k < this.Gf) b = eb(this.Yb.x, this.Yb.y, this.c.x, this.c.y), e = this.Yb.x + Math.cos(b) * this.Gf, b = this.Yb.y + Math.sin(b) * this.Gf
            } else e = this.Yb.x + Math.cos(this.Yb.j + this.Yk) * this.Gf, b = this.Yb.y + Math.sin(this.Yb.j + this.Yk) * this.Gf;
            this.Di = k = bb(this.Ni + (this.Yb.j - this.uo));
            0 !== this.mode && 1 !== this.mode && 3 !== this.mode && 4 !== this.mode || this.c.x === e && this.c.y === b || (this.c.x = e, this.c.y = b, this.c.eb());
            0 !== this.mode && 2 !== this.mode || this.c.j === k || (this.c.j = k, this.c.eb())
        }
    };
    m.e = new function() {};
    e.prototype.zy = function(e, b) {
        if (e) {
            var k = e.Up(this.c);
            k && (this.Yb = k, this.Yk = eb(k.x, k.y, this.c.x, this.c.y) - k.j, this.Gf = jb(k.x, k.y, this.c.x, this.c.y), this.Di = this.Ni = this.c.j, this.uo = k.j, this.mode = b)
        }
    };
    m.B = new e;
    m.Da = new function() {}
})();

function id(e) {
    this.b = e
}
(function() {
    function e(b, e) {
        return (b /= e) < 1 / 2.75 ? 7.5625 * b * b + 0 : b < 2 / 2.75 ? 1 * (7.5625 * (b -= 1.5 / 2.75) * b + .75) + 0 : b < 2.5 / 2.75 ? 1 * (7.5625 * (b -= 2.25 / 2.75) * b + .9375) + 0 : 1 * (7.5625 * (b -= 2.625 / 2.75) * b + .984375) + 0
    }
    var m = id.prototype;
    m.Fa = function(b) {
        this.behavior = b;
        this.b = b.b
    };
    m.Fa.prototype.Y = function() {};
    m.ua = function(b, e) {
        this.type = b;
        this.behavior = b.behavior;
        this.c = e;
        this.b = b.b;
        this.S = 0
    };
    var k = m.ua.prototype;
    k.Ye = function(b) {
        1 < b && (b = 1);
        Lc[this.group] = -1;
        Lc[this.group] = b;
        Lc[this.group] >= b && (Lc[this.group] = b)
    };
    k.Wt = function() {
        "" !=
        this.group && ("undefined" === typeof Mc && (Mc = {}, Lc = {}), "undefined" === typeof Mc[this.group] && (Mc[this.group] = [], Lc[this.group] = -1), -1 == Mc[this.group].indexOf(this) && Mc[this.group].push(this))
    };
    k.Ig = function() {
        this.Sd = this.c.width;
        this.Rd = this.c.height;
        this.pj = this.c.j;
        this.Iw = this.c.opacity;
        this.Ng = this.c.x;
        this.Og = this.c.y;
        this.Ao = this.value
    };
    k.Y = function() {
        this.G = 1 === this.K[0];
        this.H = this.K[1];
        this.Nj = this.K[2];
        this.C = this.K[3];
        this.target = this.K[4];
        this.duration = this.K[5];
        this.Rh = this.K[6];
        this.V =
            this.K[7];
        this.value = this.K[8];
        this.Gc = this.K[9];
        this.Kp = 1 === this.K[10];
        this.group = this.K[11];
        this.Wc = null;
        this.ed = 0;
        5 == this.V && (this.ed = 1);
        this.Wt();
        this.rh = !1;
        this.ja = this.c.x;
        this.Fb = this.c.y;
        this.ka = parseFloat(this.target.split(",")[0]);
        this.Ab = parseFloat(this.target.split(",")[1]);
        this.Ig();
        this.qj = this.Ac = this.Sa = this.Bb = this.na = 0;
        this.Hg = this.c.height / this.c.width;
        this.Vn = this.reverse = !1;
        this.we = this.ve = !0;
        this.loop = !1;
        this.fb = this.Ra = 0;
        this.Cq = this.V;
        this.dd = this.an = this.na;
        this.Id = this.Bb;
        this.Kp && this.init();
        "" == this.C && (this.C = "current");
        this.Pk = this.Qi = this.Qk = this.Ri = this.Vk = this.Ti = this.Uk = this.Si = !1;
        this.G && this.init()
    };
    k.init = function() {
        this.Si = !1;
        "" === this.C && (this.C = "current");
        "" === this.target && (this.target = "current");
        var b = "current" === this.C,
            e = "current" === this.target,
            f = "OBJ" === this.target;
        "OBJ" === this.target && null != this.Wc && (0 == this.H ? this.target = 1 == this.Gc ? this.Wc.x - this.c.x + "," + (this.Wc.y - this.c.y) : this.Wc.x + "," + this.Wc.y : 1 == this.H || 2 == this.H || 3 == this.H || 7 == this.H ? this.target =
            1 == this.Gc ? (2 == this.H ? 1 : this.Wc.width) + "," + (3 == this.H ? 1 : this.Wc.height) : (2 == this.H ? 1 : this.Wc.width / this.Sd) + "," + (3 == this.H ? 1 : this.Wc.height / this.Rd) : 4 == this.H ? this.target = 1 == this.Gc ? Za(this.Wc.j - this.c.j) + "" : Za(this.Wc.j) + "" : 5 == this.H && (this.target = 1 == this.Gc ? 100 * (this.Wc.opacity - this.c.opacity) + "" : 100 * this.Wc.opacity + ""));
        if (0 == this.H) e && (this.target = this.c.x + "," + this.c.y), b ? this.C = 1 == this.Gc ? this.c.x + "," + this.c.y : this.Ng + "," + this.Og : this.reverse || 1 == this.V || (this.c.x = parseFloat(this.C.split(",")[0]),
            this.c.y = parseFloat(this.C.split(",")[1])), 1 == this.Gc ? (this.loop && (this.c.x = this.Ng, this.c.y = this.Og), this.ja = this.c.x, this.Fb = this.c.y, this.reverse ? (this.ka = -parseFloat(this.target.split(",")[0]), this.Ab = -parseFloat(this.target.split(",")[1])) : (this.ka = parseFloat(this.target.split(",")[0]), this.Ab = parseFloat(this.target.split(",")[1])), this.na = this.ja, this.Bb = this.Fb, this.Sa = this.na + this.ka, this.Ac = this.Bb + this.Ab) : (this.reverse ? (this.c.x = parseFloat(this.target.split(",")[0]), this.c.y = parseFloat(this.target.split(",")[1]),
            this.ka = this.Ng, this.Ab = this.Og) : (this.c.x = this.Ng, this.c.y = this.Og, this.ka = parseFloat(this.target.split(",")[0]), this.Ab = parseFloat(this.target.split(",")[1])), this.ja = this.c.x, this.Fb = this.c.y, this.na = this.ja, this.Bb = this.Fb, this.Sa = this.ka, this.Ac = this.Ab, -6 == this.V && (this.Sa = this.Ng, this.Ac = this.Og));
        else if (1 == this.H || 2 == this.H || 3 == this.H) {
            e && (this.target = "1,1");
            "current" == this.C && (this.C = "1,1");
            this.C = "" + this.C;
            this.target = "" + this.target;
            2 == this.H ? (-1 == this.C.indexOf(",") && (this.C = parseFloat(this.C) +
                ",1"), -1 == this.target.indexOf(",") && (this.target = parseFloat(this.target) + ",1")) : 3 == this.H ? (-1 == this.C.indexOf(",") && (this.C = "1," + parseFloat(this.C)), -1 == this.target.indexOf(",") && (this.target = "1," + parseFloat(this.target))) : (-1 == this.C.indexOf(",") && (this.C = parseFloat(this.C) + "," + parseFloat(this.C)), -1 == this.target.indexOf(",") && (this.target = parseFloat(this.target) + "," + parseFloat(this.target)));
            var a = parseFloat(this.C.split(",")[0]),
                c = parseFloat(this.C.split(",")[1]);
            this.ve = !0;
            var k = parseFloat(this.target.split(",")[0]);
            if (0 == k || isNaN(k)) this.ve = !1;
            3 == this.H && (this.ve = !1);
            this.we = !0;
            var d = parseFloat(this.target.split(",")[1]);
            if (0 == d || isNaN(d)) this.we = !1;
            2 == this.H && (this.we = !1);
            1 == this.Gc ? (this.loop && (this.c.width = this.Sd, this.c.height = this.Rd), b || (this.reverse ? (this.c.width = this.c.width * k, this.c.height = this.c.height * d) : (this.c.width = this.c.width * a, this.c.height = this.c.height * c)), this.ja = this.c.width, this.Fb = this.c.height, this.na = this.ja, this.Bb = this.Fb, this.reverse ? (this.ka = this.ja * a / k, this.Ab = this.Fb * c / d) : (this.ka =
                this.ja * k, this.Ab = this.Fb * d)) : (b || (this.reverse ? (this.c.width = this.Sd * k, this.c.height = this.Rd * d) : (this.c.width = this.Sd * a, this.c.height = this.Rd * c)), this.ja = this.c.width, this.Fb = this.c.height, this.na = this.ja, this.Bb = this.Fb, this.reverse ? (this.ka = this.Sd * a, this.Ab = this.Rd * c) : (this.ka = this.Sd * k, this.Ab = this.Rd * d));
            this.Sa = this.ka;
            this.Ac = this.Ab; - 6 == this.V && (this.Sa = this.Sd * a, this.Ac = this.Rd * c)
        } else if (4 == this.H) e && (this.target = Za(this.c.j)), "current" == this.C || this.reverse || 1 == this.V || (this.c.j = Ya(parseFloat(this.C.split(",")[0]))),
            1 == this.Gc ? (this.loop && (this.c.j = this.pj), this.ja = this.c.j, this.reverse ? this.ka = this.c.j - Ya(parseFloat(this.target.split(",")[0])) : this.ka = this.c.j + Ya(parseFloat(this.target.split(",")[0]))) : this.reverse ? (this.c.j = Ya(parseFloat(this.target.split(",")[0])), this.ja = this.c.j, this.ka = this.pj) : (this.c.j = this.pj, this.ja = this.c.j, this.ka = Ya(parseFloat(this.target.split(",")[0]))), this.na = this.ja, this.Sa = Za(this.ka), -6 == this.V && (this.Sa = Za(this.pj)), this.qj = Ya(this.Sa);
        else if (5 == this.H) "current" == this.C &&
            (this.C = this.c.opacity), e && (this.target = "" + this.c.opacity), b || this.reverse || 1 == this.V || (this.c.opacity = parseFloat(this.C.split(",")[0]) / 100), 1 == this.Gc ? (this.loop && (this.c.opacity = this.Iw), this.na = this.ja = this.c.opacity, this.ka = this.reverse ? -parseFloat(this.target.split(",")[0]) / 100 : parseFloat(this.target.split(",")[0]) / 100, this.Sa = this.na + this.ka) : (this.ja = this.c.opacity, this.reverse ? (this.na = parseFloat(this.target.split(",")[0]) / 100, this.ka = parseFloat(this.C.split(",")[0]) / 100) : (this.na = this.ja,
                this.ka = parseFloat(this.target.split(",")[0]) / 100), this.Sa = this.ka), -6 == this.V && (this.Sa = this.Iw);
        else if (6 == this.H) isNaN(this.value) && (this.value = 0), "current" == this.C && (this.C = "" + this.value), e && (this.target = "" + this.value), b || this.reverse || 1 == this.V || (this.value = parseFloat(this.C.split(",")[0])), 1 == this.Gc ? (this.loop && (this.value = this.Ao), b || (this.value = this.reverse ? parseFloat(this.target.split(",")[0]) : parseFloat(this.C.split(",")[0])), this.ja = this.value, this.reverse ? this.ka = this.ja - parseFloat(this.target.split(",")[0]) :
            this.ka = this.ja + parseFloat(this.target.split(",")[0]), this.na = this.ja, this.Sa = this.ka) : (b || (this.value = this.reverse ? parseFloat(this.target.split(",")[0]) : parseFloat(this.C.split(",")[0])), this.ja = this.value, this.ka = this.reverse ? parseFloat(this.C.split(",")[0]) : parseFloat(this.target.split(",")[0]), this.na = this.ja, this.Sa = this.ka), -6 == this.V && (this.Sa = this.Ao);
        else if (7 == this.H) {
            e && (this.target = this.c.width + "," + this.c.height);
            "current" == this.C || this.reverse || 1 == this.V || (this.c.width = parseFloat(this.C.split(",")[0]),
                this.c.height = parseFloat(this.C.split(",")[1]));
            this.ve = !0;
            k = parseFloat(this.target.split(",")[0]);
            if (0 > k || isNaN(k)) this.ve = !1;
            this.we = !0;
            d = parseFloat(this.target.split(",")[1]);
            if (0 > d || isNaN(d)) this.we = !1;
            1 == this.Gc ? (this.loop && (this.c.width = this.Sd, this.c.height = this.Rd), this.ja = this.c.width, this.Fb = this.c.height, this.reverse ? (this.ka = this.ja - parseFloat(this.target.split(",")[0]), this.Ab = this.Fb - parseFloat(this.target.split(",")[1])) : (this.ka = this.ja + parseFloat(this.target.split(",")[0]), this.Ab =
                this.Fb + parseFloat(this.target.split(",")[1]))) : (b || (this.reverse ? (this.c.width = parseFloat(this.target.split(",")[0]), this.c.height = parseFloat(this.target.split(",")[1])) : (this.c.width = this.Sd, this.c.height = this.Rd)), this.ja = this.c.width, this.Fb = this.c.height, this.reverse ? (this.ka = this.Sd, this.Ab = this.Rd) : (this.ka = parseFloat(this.target.split(",")[0]), this.Ab = parseFloat(this.target.split(",")[1])));
            this.na = this.ja;
            this.Bb = this.Fb;
            this.Sa = this.ka;
            this.Ac = this.Ab; - 6 == this.V && (this.Sa = this.Sd, this.Ac =
                this.Rd)
        }
        this.dd = this.an = this.na;
        this.Id = this.Bb;
        this.Ra = parseFloat(this.Rh.split(",")[0]);
        this.fb = parseFloat(this.Rh.split(",")[1]);
        if (0 > this.Ra || isNaN(this.Ra)) this.Ra = 0;
        if (0 > this.fb || isNaN(this.fb)) this.fb = 0;
        b && (this.C = "current");
        e && (this.target = "current");
        f && (this.target = "OBJ")
    };
    k.kA = function(b, k) {
        switch (this.Nj) {
            case 0:
                return 1 * b / k + 0;
            case 1:
                return 1 * (b /= k) * b + 0;
            case 2:
                return -1 * (b /= k) * (b - 2) + 0;
            case 3:
                return 1 > (b /= k / 2) ? .5 * b * b + 0 : -.5 * (--b * (b - 2) - 1) + 0;
            case 4:
                return 1 * (b /= k) * b * b + 0;
            case 5:
                return 1 * ((b =
                    b / k - 1) * b * b + 1) + 0;
            case 6:
                return 1 > (b /= k / 2) ? .5 * b * b * b + 0 : .5 * ((b -= 2) * b * b + 2) + 0;
            case 7:
                return 1 * (b /= k) * b * b * b + 0;
            case 8:
                return -1 * ((b = b / k - 1) * b * b * b - 1) + 0;
            case 9:
                return 1 > (b /= k / 2) ? .5 * b * b * b * b + 0 : -.5 * ((b -= 2) * b * b * b - 2) + 0;
            case 10:
                return 1 * (b /= k) * b * b * b * b + 0;
            case 11:
                return 1 * ((b = b / k - 1) * b * b * b * b + 1) + 0;
            case 12:
                return 1 > (b /= k / 2) ? .5 * b * b * b * b * b + 0 : .5 * ((b -= 2) * b * b * b * b + 2) + 0;
            case 13:
                return -1 * (Math.sqrt(1 - (b /= k) * b) - 1) + 0;
            case 14:
                return 1 * Math.sqrt(1 - (b = b / k - 1) * b) + 0;
            case 15:
                return 1 > (b /= k / 2) ? -.5 * (Math.sqrt(1 - b * b) - 1) + 0 : .5 * (Math.sqrt(1 - (b -=
                    2) * b) + 1) + 0;
            case 16:
                var f = 0;
                0 == f && (f = 1.70158);
                return 1 * (b /= k) * b * ((f + 1) * b - f) + 0;
            case 17:
                return f = 0, 0 == f && (f = 1.70158), 1 * ((b = b / k - 1) * b * ((f + 1) * b + f) + 1) + 0;
            case 18:
                return f = 0, 0 == f && (f = 1.70158), 1 > (b /= k / 2) ? .5 * b * b * (((f *= 1.525) + 1) * b - f) + 0 : .5 * ((b -= 2) * b * (((f *= 1.525) + 1) * b + f) + 2) + 0;
            case 19:
                var a = 0,
                    c = 0;
                if (0 == b) break;
                if (1 == (b /= k)) return 1;
                0 == c && (c = .3 * k);
                0 == a || a < Math.abs(1) ? (a = 1, f = c / 4) : f = c / (2 * Math.PI) * Math.asin(1 / a);
                return -(a * Math.pow(2, 10 * --b) * Math.sin(2 * (b * k - f) * Math.PI / c)) + 0;
            case 20:
                c = a = 0;
                if (0 == b) break;
                if (1 == (b /= k)) return 1;
                0 == c && (c = .3 * k);
                0 == a || a < Math.abs(1) ? (a = 1, f = c / 4) : f = c / (2 * Math.PI) * Math.asin(1 / a);
                return a * Math.pow(2, -10 * b) * Math.sin(2 * (b * k - f) * Math.PI / c) + 1;
            case 21:
                c = a = 0;
                if (0 == b) break;
                if (2 == (b /= k / 2)) return 1;
                0 == c && (c = .3 * k * 1.5);
                0 == a || a < Math.abs(1) ? (a = 1, f = c / 4) : f = c / (2 * Math.PI) * Math.asin(1 / a);
                return 1 > b ? -.5 * a * Math.pow(2, 10 * --b) * Math.sin(2 * (b * k - f) * Math.PI / c) + 0 : a * Math.pow(2, -10 * --b) * Math.sin(2 * (b * k - f) * Math.PI / c) * .5 + 1;
            case 22:
                return 1 - e(k - b, k) + 0;
            case 23:
                return e(b, k);
            case 24:
                return b < k / 2 ? .5 * (1 - e(k - 2 * b, k) + 0) + 0 : .5 * e(2 * b - k, k) +
                    .5;
            case 25:
                return f = b / k / 2, 2 * f * f * (3 - 2 * f);
            case 26:
                return f = (b / k + 1) / 2, 2 * f * f * (3 - 2 * f) - 1;
            case 27:
                return f = b / k, f * f * (3 - 2 * f)
        }
        return 0
    };
    k.Uc = function() {
        return {
            i: this.S,
            active: this.G,
            tweened: this.H,
            easing: this.Nj,
            initial: this.C,
            target: this.target,
            duration: this.duration,
            wait: this.Rh,
            playmode: this.V,
            value: this.value,
            coord_mode: this.Gc,
            forceInit: this.Kp,
            group: this.group,
            targetObject: this.Wc,
            pingpongCounter: this.ed,
            isPaused: this.rh,
            initialX: this.ja,
            initialY: this.Fb,
            targetX: this.ka,
            targetY: this.Ab,
            tweenSaveWidth: this.Sd,
            tweenSaveHeight: this.Rd,
            tweenSaveAngle: this.pj,
            tweenSaveX: this.Ng,
            tweenSaveY: this.Og,
            tweenSaveValue: this.Ao,
            tweenInitialX: this.na,
            tweenInitialY: this.Bb,
            tweenTargetX: this.Sa,
            tweenTargetY: this.Ac,
            tweenTargetAngle: this.qj,
            ratio: this.Hg,
            reverse: this.reverse,
            rewindMode: this.Vn,
            doTweenX: this.ve,
            doTweenY: this.we,
            loop: this.loop,
            initiating: this.Ra,
            cooldown: this.fb,
            lastPlayMode: this.Cq,
            lastKnownValue: this.an,
            lastKnownX: this.dd,
            lastKnownY: this.Id,
            onStarted: this.Si,
            onStartedDone: this.Uk,
            onWaitEnd: this.Ti,
            onWaitEndDone: this.Vk,
            onEnd: this.Ri,
            onEndDone: this.Qk,
            onCooldown: this.Qi,
            onCooldownDone: this.Pk
        }
    };
    k.xd = function(b) {
        this.S = b.i;
        this.G = b.active;
        this.H = b.tweened;
        this.Nj = b.easing;
        this.C = b.initial;
        this.target = b.target;
        this.duration = b.duration;
        this.Rh = b.wait;
        this.V = b.playmode;
        this.value = b.value;
        this.Gc = b.coord_mode;
        this.Kp = b.forceInit;
        this.group = b.group;
        this.Wc = b.targetObject;
        this.ed = b.pingpongCounter;
        this.rh = b.isPaused;
        this.ja = b.initialX;
        this.Fb = b.initialY;
        this.ka = b.targetX;
        this.Ab = b.targetY;
        this.Sd = b.tweenSaveWidth;
        this.Rd =
            b.tweenSaveHeight;
        this.pj = b.tweenSaveAngle;
        this.Ng = b.tweenSaveX;
        this.Og = b.tweenSaveY;
        this.Ao = b.tweenSaveValue;
        this.na = b.tweenInitialX;
        this.Bb = b.tweenInitialY;
        this.Sa = b.tweenTargetX;
        this.Ac = b.tweenTargetY;
        this.qj = b.tweenTargetAngle;
        this.Hg = b.ratio;
        this.reverse = b.reverse;
        this.Vn = b.rewindMode;
        this.ve = b.doTweenX;
        this.we = b.doTweenY;
        this.loop = b.loop;
        this.Ra = b.initiating;
        this.fb = b.cooldown;
        this.Cq = b.lastPlayMode;
        this.an = b.lastKnownValue;
        this.dd = b.lastKnownX;
        this.Id = b.lastKnownY;
        this.Si = b.onStarted;
        this.Uk =
            b.onStartedDone;
        this.Ti = b.onWaitEnd;
        this.Vk = b.onWaitEndDone;
        this.Ri = b.onEnd;
        this.Qk = b.onEndDone;
        this.Qi = b.onCooldown;
        this.Pk = b.onCooldownDone;
        this.Wt()
    };
    k.tb = function() {
        var b = this.b.Vj(this.c),
            e = -1 == this.S;
        this.G && 0 !== b && (0 != this.S || this.Si || (this.Si = !0, this.Pk = this.Qi = this.Qk = this.Ri = this.Vk = this.Ti = this.Uk = !1, this.b.trigger(id.prototype.e.qy, this.c), this.Uk = !0), this.S = -1 == this.S ? this.Ra + this.duration + this.fb : this.S + b, this.S <= this.Ra || (0 == this.Ti && (this.Ti = !0, this.b.trigger(id.prototype.e.yy, this.c),
            this.Vk = !0), this.S <= this.duration + this.Ra && (b = this.kA(this.S - this.Ra, this.duration), 0 == this.H ? (1 == this.Gc ? (this.c.x !== this.dd && (this.na += this.c.x - this.dd, this.Sa += this.c.x - this.dd), this.c.y !== this.Id && (this.Bb += this.c.y - this.Id, this.Ac += this.c.y - this.Id)) : (this.c.x !== this.dd && (this.na += this.c.x - this.dd), this.c.y !== this.Id && (this.Bb += this.c.y - this.Id)), this.c.x = this.na + (this.Sa - this.na) * b, this.c.y = this.Bb + (this.Ac - this.Bb) * b, this.dd = this.c.x, this.Id = this.c.y) : 1 == this.H || 2 == this.H || 3 == this.H ? (this.c.width !==
                this.dd && (this.na = this.c.width), this.c.height !== this.Id && (this.Bb = this.c.height), this.ve && (this.c.width = this.na + (this.Sa - this.na) * b), this.we ? this.c.height = this.Bb + (this.Ac - this.Bb) * b : 1 == this.H && (this.c.height = this.c.width * this.Hg), this.dd = this.c.width, this.Id = this.c.height) : 4 == this.H ? (b = this.na + (this.qj - this.na) * b, this.S >= this.duration + this.Ra && (b = this.qj), this.c.j = bb(b)) : 5 == this.H ? (1 == this.Gc && this.c.opacity !== this.dd && (this.na = this.c.opacity), this.c.opacity = this.na + (this.Sa - this.na) * b, this.dd = this.c.opacity) :
            6 == this.H ? this.value = this.na + (this.Sa - this.na) * b : 7 == this.H && (1 == this.Gc && (this.c.width !== this.dd && (this.na = this.c.width), this.c.height !== this.Id && (this.Bb = this.c.height)), this.ve && (this.c.width = this.na + (this.Sa - this.na) * b), this.we && (this.c.height = this.Bb + (this.Ac - this.Bb) * b), this.dd = this.c.width, this.Id = this.c.height), this.c.eb()), this.S >= this.duration + this.Ra && (this.Qz(e), this.c.eb(), 0 == this.Ri && (this.Ri = !0, this.b.trigger(id.prototype.e.Tx, this.c), this.Qk = !0))))
    };
    k.Qz = function(b) {
        switch (this.H) {
            case 0:
                this.c.x =
                    this.Sa;
                this.c.y = this.Ac;
                break;
            case 1:
                this.ve && (this.c.width = this.Sa);
                this.we ? this.c.height = this.Ac : this.c.height = this.c.width * this.Hg;
                break;
            case 2:
                this.c.width = this.Sa;
                break;
            case 3:
                this.c.height = this.Ac;
                break;
            case 4:
                this.c.j = bb(this.qj);
                this.an = this.c.j;
                break;
            case 5:
                this.c.opacity = this.Sa;
                break;
            case 6:
                this.value = this.Sa;
                break;
            case 7:
                this.ve && (this.c.width = this.Sa), this.we && (this.c.height = this.Ac)
        }
        this.S >= this.duration + this.Ra + this.fb && (0 == this.V ? (this.reverse = this.G = !1, this.S = this.duration + this.Ra +
            this.fb) : 1 == this.V ? (this.S = 0, this.init(), this.G = !0) : 2 == this.V ? b ? (this.reverse = !1, this.init()) : (this.reverse = !this.reverse, this.S = 0, this.init(), this.G = !0) : 3 == this.V ? this.b.mf(this.c) : 4 == this.V ? (this.loop = !0, this.S = 0, this.init(), this.G = !0) : 5 == this.V ? b ? (this.reverse = !1, this.init()) : 0 >= this.ed ? (this.S = this.duration + this.Ra + this.fb, this.G = !1) : (this.reverse ? (--this.ed, this.reverse = !1) : (--this.ed, this.reverse = !0), this.S = 0, this.init(), this.G = !0) : -6 == this.V ? (this.V = this.Cq, this.reverse = !1, this.S = 0, this.G = !1) : 6 == this.V && (this.reverse = !1, this.S = this.duration + this.Ra + this.fb, this.G = !1));
        0 == this.Qi && (this.Qi = !0, this.b.trigger(id.prototype.e.Px, this.c), this.Pk = !0)
    };
    m.e = {};
    k = m.e;
    k.KE = function() {
        return this.G
    };
    k.pE = function(b, e) {
        var f = [];
        Mc[this.group].forEach(function(a) {
            f.push(a.S / (a.duration + a.Ra + a.fb))
        });
        return Kc(Math.min.apply(null, f), b, e)
    };
    k.sE = function(b, e) {
        return Kc(this.S / (this.duration + this.Ra + this.fb), b, e)
    };
    k.qy = function() {
        if (!1 === this.Uk) return this.Si
    };
    k.yy = function() {
        if (!1 === this.Vk) return this.Ti
    };
    k.Tx = function() {
        if (!1 === this.Qk) return this.Ri
    };
    k.Px = function() {
        if (!1 === this.Pk) return this.Qi
    };
    m.B = {};
    var n = m.B;
    n.yF = function(b) {
        this.G = 1 === b
    };
    n.TF = function(b, e) {
        "" === e && (e = this.group);
        (1 === b || Mc[e].every(function(b) {
            return !b.G
        })) && Mc[e].forEach(function(f) {
            1 === b ? n.qx.apply(f) : n.Hs.apply(f)
        })
    };
    n.UF = function(b, e) {
        "" === e && (e = this.group);
        Mc[e].forEach(function(f) {
            n.Kl.apply(f, [b])
        })
    };
    n.qF = function(b, e, f) {
        "" === f && (f = this.group);
        (1 === b || Mc[f].every(function(a) {
            return !a.G
        })) && Mc[f].forEach(function(a) {
            1 ===
                b ? n.rx.apply(a, [e]) : n.Ds.apply(a, [e])
        })
    };
    n.qx = function() {
        this.loop = 4 === this.V;
        5 == this.V && (this.ed = 1);
        6 == this.V || -6 == this.V ? this.S < this.duration + this.fb + this.Ra && (this.reverse = !1, this.init(), this.G = !0) : (this.reverse = !1, this.S = 0, this.init(), this.G = !0)
    };
    n.rx = function(b) {
        this.Vn = 1 == b;
        this.loop = 4 === this.V;
        5 == this.V && (this.ed = 1);
        6 == this.V || -6 == this.V ? this.S < this.duration + this.fb + this.Ra && (this.reverse = !0, this.init(), this.G = !0) : b ? 1 == this.ed && this.S >= this.duration + this.fb + this.Ra && (this.reverse = !0, this.S =
            0, this.ed = 2, this.init(), this.G = !0) : (this.reverse = !0, this.S = 0, this.init(), this.G = !0)
    };
    n.Hs = function() {
        this.G || (this.loop = 4 === this.V, 5 == this.V && (this.ed = 1), 6 == this.V || -6 == this.V ? this.S < this.duration + this.fb + this.Ra && (this.reverse = !1, this.init(), this.G = !0) : (this.ed = 1, this.reverse = !1, this.S = 0, this.init(), this.G = !0))
    };
    n.Kl = function(b) {
        this.G && (2 == this.V || 4 == this.V ? this.S = this.reverse ? 0 : -1 : 1 == b ? this.Ig() : 0 == b ? this.S = this.Ra + this.fb + this.duration : this.S = 0, this.tb(), this.G = !1)
    };
    n.dF = function() {
        this.G && (this.rh = !0, this.G = !1)
    };
    n.pF = function() {
        this.rh ? (this.G = !0, this.rh = !1) : this.G || (this.reverse = !1, this.S = 0, this.init(), this.G = !0)
    };
    n.Ds = function(b) {
        this.Vn = 1 == b;
        this.G || (this.loop = 4 === this.V, 5 == this.V && (this.ed = 1), 6 == this.V || -6 == this.V ? this.S < this.duration + this.fb + this.Ra && (this.reverse = !0, this.init(), this.G = !0) : b ? 1 == this.ed && this.S >= this.duration + this.fb + this.Ra && (this.reverse = !0, this.S = 0, this.ed = 2, this.init(), this.G = !0) : (this.reverse = !0, this.S = 0, this.init(), this.G = !0))
    };
    n.Es = function(b) {
        this.duration = b
    };
    n.Py =
        function(b) {
            this.Rh = b;
            this.Ra = parseFloat(this.Rh.split(",")[0]);
            this.fb = parseFloat(this.Rh.split(",")[1]);
            if (0 > this.Ra || isNaN(this.Ra)) this.Ra = 0;
            if (0 > this.fb || isNaN(this.fb)) this.fb = 0
        };
    n.My = function(b) {
        "string" == typeof b ? (this.target = b, this.ka = parseFloat(b.split(",")[0]), this.Ab = parseFloat(b.split(",")[1])) : this.ka = this.target = b;
        this.G || this.init()
    };
    n.HF = function(b) {
        b && (b = b.Up()) && (this.Wc = b, this.target = "OBJ")
    };
    n.IF = function(b) {
        2 == this.H || 3 == this.H || 4 == this.H || 5 == this.H || 6 == this.H ? ("string" == typeof b ?
            this.target = parseFloat(b.split(",")[0]) : this.target = "" + b + "," + this.Ab, this.ka = this.target) : (this.target = String(b) + "," + this.target.split(",")[1], this.ka = parseFloat(this.target.split(",")[0]), this.Ab = parseFloat(this.target.split(",")[1]));
        this.G || (this.Ig(), this.init())
    };
    n.JF = function(b) {
        2 == this.H || 3 == this.H || 4 == this.H || 5 == this.H || 6 == this.H ? this.ka = this.target = "string" == typeof b ? parseFloat(b) + "" : this.ka + "," + b : (this.target = this.target.split(",")[0] + "," + String(b), this.ka = parseFloat(this.target.split(",")[0]),
            this.Ab = parseFloat(this.target.split(",")[1]));
        this.G || (this.Ig(), this.init())
    };
    n.Fy = function(b) {
        "string" == typeof b ? (this.C = b, this.ja = parseFloat(b.split(",")[0]), this.Fb = parseFloat(b.split(",")[1])) : (this.C = "" + b, this.ja = b);
        6 == this.H && (this.value = this.ja);
        this.G || (this.Ig(), this.init())
    };
    n.DF = function(b) {
        2 == this.H || 3 == this.H || 4 == this.H || 5 == this.H || 6 == this.H ? ("string" == typeof b ? this.C = parseFloat(b) : this.C = "" + b + "," + this.Fb, this.ja = this.C) : ("" == this.C && (this.C = "current"), this.C = String(b) + "," + ("current" ==
            this.C ? this.Og : this.C.split(",")[1]), this.ja = parseFloat(this.C.split(",")[0]), this.Fb = parseFloat(this.C.split(",")[1]));
        6 == this.H && (this.value = this.ja);
        this.G || (this.Ig(), this.init())
    };
    n.Gy = function(b) {
        2 == this.H || 3 == this.H || 4 == this.H || 5 == this.H || 6 == this.H ? ("string" == typeof b ? this.C = parseFloat(b) : this.C = "" + this.ja + "," + b, this.ja = this.C) : ("" == this.C && (this.C = "current"), this.C = ("current" == this.C ? this.Ng : this.C.split(",")[0]) + "," + String(b), this.ja = parseFloat(this.C.split(",")[0]), this.Fb = parseFloat(this.C.split(",")[1]));
        this.G || (this.Ig(), this.init())
    };
    n.MF = function(b) {
        this.value = b
    };
    n.LF = function(b) {
        this.H = b
    };
    n.zF = function(b) {
        this.Nj = b
    };
    n.GF = function(b) {
        this.V = b
    };
    n.FF = function(b, e, f, a, c, k, d, h) {
        this.H = b;
        this.V = e;
        this.Nj = f;
        n.Fy.apply(this, [a]);
        n.My.apply(this, [c]);
        n.Es.apply(this, [k]);
        n.Py.apply(this, [d]);
        this.Gc = h;
        this.Ig()
    };
    m.Da = {};
    m = m.Da;
    m.lF = function(b) {
        b.A(this.S / (this.duration + this.Ra + this.fb))
    };
    m.mF = function(b) {
        b.A(this.S)
    };
    m.mx = function(b) {
        b.A(this.duration)
    };
    m.JE = function(b) {
        b.A(this.Ra)
    };
    m.xE = function(b) {
        b.A(this.fb)
    };
    m.XF = function(b) {
        b.oc(this.target)
    };
    m.$F = function(b) {
        b.A(this.value)
    };
    m.rh = function(b) {
        b.Za(this.rh ? 1 : 0)
    }
})();
(function() {
    function e(a, b) {
        return (b - a.fD) * a.Tr
    }

    function m(a, b) {
        return (a.gD - b) * a.Tr
    }

    function k(a, b, c, d, f, e) {
        var g;
        g = a.ze + b.ze;
        var h = a.wa,
            k = c.x * c.x * h;
        a = -c.x * c.y * h;
        c = g + c.y * c.y * h;
        g += k;
        h = b.wa;
        b = d.x * d.x * h;
        k = -d.x * d.y * h;
        c += d.y * d.y * h;
        d = 0 + a + k;
        a = 0 + a + k;
        g += b;
        b = c * g - d * a;
        oa(0 !== b, "Unsolvable constraint.");
        b = 1 / b;
        f.x = g * b;
        f.y = -d * b;
        e.x = -a * b;
        e.y = c * b
    }

    function n(a, c, d, f, e) {
        a = b(a, d, e) + b(c, f, e);
        oa(0 !== a, "Unsolvable collision or constraint.");
        return a
    }

    function b(a, b, c) {
        b = Ca(b, c);
        return a.ze + a.wa * b * b
    }

    function q(a, b, c, d) {
        a.uj +=
            b * a.ze;
        a.vj += c * a.ze;
        a.Qg += a.wa * (d.x * c - d.y * b)
    }

    function f(b, c, d, f, e, g) {
        a(b, -e, -g, d);
        a(c, e, g, f)
    }

    function a(a, b, c, d) {
        a.Bc += b * a.ze;
        a.Cc += c * a.ze;
        a.q += a.wa * (d.x * c - d.y * b)
    }

    function c(a, b, c, d, f) {
        return (b.Bc + -d.y * b.q - (a.Bc + -c.y * a.q)) * f.x + (b.Cc + d.x * b.q - (a.Cc + c.x * a.q)) * f.y
    }

    function t(a, b, c, d) {
        return new I(b.Bc + -d.y * b.q - (a.Bc + -c.y * a.q), b.Cc + d.x * b.q - (a.Cc + c.x * a.q))
    }

    function d(a) {
        var b = a.body;
        a.update(b.Aa, b.lb)
    }

    function h(a, b) {
        var c = od;
        if (a.Pa <= b.Qa && b.Pa <= a.Qa && a.Ka <= b.La && b.Ka <= a.La && a.body !== b.body && (!a.group ||
                a.group !== b.group) && a.T & b.T) {
            var d = c.Du(a.Fj, b.Fj),
                f = a.Wv || b.Wv;
            if (!f || d !== pd) {
                if (a.rf > b.rf) {
                    var e = a;
                    a = b;
                    b = e
                }
                e = xd(a, b);
                if (0 !== e.length) {
                    var g = S(a.pb, b.pb),
                        h = c.Qe[g];
                    h || (h = c.Qe[g] = new z(a, b));
                    h.update(e, d, a, b);
                    "ignore" !== h.state && d.On(h, c) && !f ? c.Zh.push(h) : (h.Yd = null, "ignore" !== h.state && (h.state = "normal"));
                    h.Lb = c.Lb
                }
            }
        }
    }

    function l(a, b) {
        if (!b.Ua()) {
            var c = b ? b.Bg : null;
            if (null == c) {
                b.Bg = a;
                b !== a && (b.ie = a.ie, a.ie = b);
                for (c = b.Vg; c; c = c.next(b)) l(a, b == c.nb ? c.te : c.nb);
                for (c = b.ci; c; c = c.next(b)) l(a, b == c.u ? c.M : c.u)
            } else oa(c ===
                a, "Internal Error: Inconsistency detected in the contact graph.")
        }
    }

    function g(a) {
        X(!a.yd, "This addition/removal cannot be done safely during a call to cpSpaceStep() \r\n or during a query. Put these calls into a post-step callback.")
    }

    function M(a, b, c, d, f) {
        for (var e = Ca(b.kf, b.ld), g = Ca(b.kf, b.Qd), h = Z(b.kf, f), k = c.Mf, l = 0; l < k.length; l += 2) {
            var m = k[l],
                n = k[l + 1];
            if (m * h.x + n * h.y < da(b.kf, b.ld) * f + b.Na) {
                var p = b.kf.x * n - b.kf.y * m;
                e >= p && p >= g && a.push(new G(new I(m, n), h, d, S(c.pb, l)))
            }
        }
    }

    function L(a, b, c) {
        var d = da(b, a.ld) -
            a.Na;
        a = da(b, a.Qd) - a.Na;
        return la(d, a) - c
    }

    function w(a, b, c, d) {
        for (var f = [], e = a.Mf, g = 0; g < e.length; g += 2) {
            var h = e[g],
                k = e[g + 1];
            b.hm(h, k) && f.push(new G(new I(h, k), c, d, S(a.pb, g >> 1)))
        }
        e = b.Mf;
        for (g = 0; g < e.length; g += 2) h = e[g], k = e[g + 1], a.hm(h, k) && f.push(new G(new I(h, k), c, d, S(b.pb, g >> 1)));
        if (!f.length) {
            f = [];
            e = a.Mf;
            for (g = 0; g < e.length; g += 2) h = e[g], k = e[g + 1], b.ot(h, k, qa(c)) && f.push(new G(new I(h, k), c, d, S(a.pb, g)));
            e = b.Mf;
            for (g = 0; g < e.length; g += 2) h = e[g], k = e[g + 1], a.ot(h, k, c) && f.push(new G(new I(h, k), c, d, S(b.pb, g)))
        }
        return a =
            f
    }

    function p(a, b) {
        var c = 0,
            d = a.Go(b[0].R, b[0].$d);
        if (0 < d) return -1;
        for (var f = 1; f < b.length; f++) {
            var e = a.Go(b[f].R, b[f].$d);
            if (0 < e) return -1;
            e > d && (d = e, c = f)
        }
        kc = d;
        return c
    }

    function r(a, b, c, d) {
        d = c + d;
        b = ea(b, a);
        var f = ab(b);
        if (!(f >= d * d)) return f = Math.sqrt(f), new G(ca(a, Z(b, .5 + (c - .5 * d) / (f ? f : Infinity))), f ? Z(b, 1 / f) : new I(1, 0), f - d, 0)
    }

    function G(a, b, c, d) {
        this.Aa = a;
        this.R = b;
        this.Lj = c;
        this.Z = this.aa = pa;
        this.jc = this.wh = this.pk = this.Ae = this.yw = this.$s = this.ab = 0;
        this.hash = d;
        yd++
    }

    function v(a, b, c) {
        b ? b.nb === a ? b.kj = c : b.mj =
            c : a.Vg = c;
        c && (c.nb === a ? c.lj = b : c.nj = b)
    }

    function z(a, b) {
        this.rj = this.ji = 0;
        this.xw = pa;
        this.u = a;
        this.nb = a.body;
        this.M = b;
        this.te = b.body;
        this.Yd = this.mj = this.nj = this.kj = this.lj = null;
        this.Lb = 0;
        this.dq = null;
        this.Ur = !1;
        this.state = "first coll"
    }

    function R(a, b) {
        !a.Tm && 10 >= b && (R(a.Pc, b + 1), R(a.Ad, b + 1));
        for (var c = "", d = 0; d < b; d++) c += " ";
        console.log(c + a.Ka + " " + a.La)
    }

    function K(a, b) {
        return a.Pa <= b.Qa && b.Pa <= a.Qa && a.Ka <= b.La && b.Ka <= a.La
    }

    function x(a, b, c) {
        if (b == a) return null;
        var d = b.parent;
        if (d == a) return b = a.uv(b), b.parent =
            a.parent, a.Kh(c), b;
        d.parent.replaceChild(d, d.uv(b), c);
        return a
    }

    function A(a, b, c) {
        a.hu(b) && (a.Tm ? c(a.da) : (A(a.Pc, b, c), A(a.Ad, b, c)))
    }

    function P(a, b, c) {
        if (null == a) return b;
        if (a.Tm) return c.iC(b, a);
        var d = a.Ad.dp() + E(a.Pc, b),
            f = a.Pc.dp() + E(a.Ad, b);
        d === f && (d = Y(a.Pc, b), f = Y(a.Ad, b));
        f < d ? a.Jr(P(a.Ad, b, c)) : a.Ir(P(a.Pc, b, c));
        a.Pa = la(a.Pa, b.Pa);
        a.Ka = la(a.Ka, b.Ka);
        a.Qa = ia(a.Qa, b.Qa);
        a.La = ia(a.La, b.La);
        return a
    }

    function Y(a, b) {
        return Math.abs(a.Pa + a.Qa - b.Pa - b.Qa) + Math.abs(a.Ka + a.La - b.Ka - b.La)
    }

    function E(a, b) {
        return (ia(a.Qa,
            b.Qa) - la(a.Pa, b.Pa)) * (ia(a.La, b.La) - la(a.Ka, b.Ka))
    }

    function V(a, b, c) {
        var d = a.Dg,
            f = b.Dg;
        c = c.jC(a, d, b, f);
        a.Dg = b.Dg = c;
        d && (d.tg === a ? d.Jh = c : d.$k = c);
        f && (f.tg === b ? f.Jh = c : f.$k = c)
    }

    function T(a, b, c) {
        c && (c.tg === b ? c.Jh = a : c.$k = a);
        a ? a.tg === b ? a.Lk = c : a.Mk = c : b.Dg = c
    }

    function u(a, b, c, d) {
        this.Jh = null;
        this.tg = a;
        this.Lk = b;
        this.$k = null;
        this.Kq = c;
        this.Mk = d
    }

    function O(a, b) {
        this.da = b;
        a.Pp(b, this);
        this.parent = null;
        this.Lb = 1;
        this.Dg = null;
        zd++
    }

    function y(a, b, c) {
        this.da = null;
        this.Pa = la(b.Pa, c.Pa);
        this.Ka = la(b.Ka, c.Ka);
        this.Qa =
            ia(b.Qa, c.Qa);
        this.La = ia(b.La, c.La);
        this.parent = null;
        this.Ir(b);
        this.Jr(c)
    }

    function F(a, b, c) {
        if (a === c) return a.next(b);
        a.u === b ? a.Yq = F(a.Yq, b, c) : a.Zq = F(a.Zq, b, c);
        return a
    }

    function D(a, b) {
        this.R = a;
        this.$d = b
    }

    function Q(a) {
        for (var b = a.length, c = 0; c < b; c += 2) {
            var d = a[(c + 2) % b],
                f = a[(c + 3) % b];
            if (0 < (d - a[c]) * (a[(c + 5) % b] - f) - (f - a[c + 1]) * (a[(c + 4) % b] - d)) return !1
        }
        return !0
    }

    function J(a, b, c) {
        return la(ia(a, b), c)
    }

    function H(a, b, c, d, f, e, g, h) {
        if (0 > d) return 0;
        if (0 == d) return b[2 * h] = e.x, b[2 * h + 1] = e.y, 1;
        var k = N(b, c, d, f, e, a),
            l =
            new I(b[2 * c], b[2 * c + 1]);
        f = H(a, b, c + 1, k - 1, f, l, e, h);
        l = h + f++;
        b[2 * l] = e.x;
        b[2 * l + 1] = e.y;
        d = N(b, c + k, d - k, e, g, a);
        l = new I(b[2 * (c + k)], b[2 * (c + k) + 1]);
        return f + H(a, b, c + k + 1, d - 1, e, l, g, h + f)
    }

    function N(a, b, c, d, f, e) {
        if (0 === c) return 0;
        var g = 0,
            h = b;
        f = ea(f, d);
        e = e * fa(f);
        var k = b;
        for (c = b + c - 1; k <= c;) {
            var l = new I(a[2 * k], a[2 * k + 1]),
                l = Ca(f, ea(l, d));
            l > e ? (l > g && (g = l, h = k), k++) : (W(a, k, c), c--)
        }
        h != b && W(a, b, h);
        return k - b
    }

    function W(a, b, c) {
        var d = a[2 * b];
        a[2 * b] = a[2 * c];
        a[2 * c] = d;
        d = a[2 * b + 1];
        a[2 * b + 1] = a[2 * c + 1];
        a[2 * c + 1] = d
    }

    function ka(a, b) {
        for (var c =
                0; c < a.length; c++)
            if (a[c] === b) {
                a[c] = a[a.length - 1];
                a.length--;
                break
            }
    }

    function S(a, b) {
        return a < b ? a + " " + b : b + " " + a
    }

    function Ia(a, b) {
        return a > b ? a : b
    }

    function Ba(a, b) {
        return a < b ? a : b
    }

    function oa(a, b) {
        !a && console && console.warn && (console.warn("ASSERTION FAILED: " + b), console.trace && console.trace())
    }

    function X(a, b) {
        if (!a) throw Error("Assertion failed: " + b);
    }
    Object.create = Object.create || function(a) {
        function b() {}
        b.prototype = a;
        return new b
    };
    var B;
    "undefined" === typeof exports ? (B = {}, "object" === typeof window && (window.cp =
        B)) : B = exports;
    var la, ia;
    "object" === typeof window && -1 < window.navigator.userAgent.indexOf("Firefox") ? (la = Math.min, ia = Math.max) : (la = Ba, ia = Ia);
    B.Xu = function(a, b) {
        var c = cp.D(0, 0);
        return a * (.5 * (b * b + 0) + ab(c))
    };
    B.mz = function(a) {
        return Math.PI * Math.abs(a * a - 0)
    };
    B.Yu = function(a, b, c) {
        var d = Z(ca(b, c), .5);
        return a * (md(c, b) / 12 + ab(d))
    };
    B.nz = function(a, b, c) {
        return c * (Math.PI * c + 2 * td(a, b))
    };
    B.Vq = function(a, b, c) {
        for (var d = 0, f = 0, e = b.length, g = 0; g < e; g += 2) var h = b[g] + c.x,
            k = b[g + 1] + c.y,
            l = b[(g + 2) % e] + c.x,
            m = b[(g + 3) % e] + c.y,
            n = l *
            k - m * h,
            d = d + n * (h * h + k * k + (h * l + k * m) + (l * l + m * m)),
            f = f + n;
        return a * d / (6 * f)
    };
    B.bp = function(a) {
        for (var b = 0, c = 0, d = a.length; c < d; c += 2) b += Ca(new I(a[c], a[c + 1]), new I(a[(c + 2) % d], a[(c + 3) % d]));
        return -b / 2
    };
    B.wz = function(a) {
        for (var b = 0, c = new I(0, 0), d = 0, f = a.length; d < f; d += 2) var e = new I(a[d], a[d + 1]),
            g = new I(a[(d + 2) % f], a[(d + 3) % f]),
            h = Ca(e, g),
            b = b + h,
            c = ca(c, Z(ca(e, g), h));
        return Z(c, 1 / (3 * b))
    };
    B.DG = function(a) {
        for (var b = B.wz(a), c = 0; c < a.length; c += 2) a[c] -= b.x, a[c + 1] -= b.y
    };
    B.Wu = function(a, b, c) {
        return a * (b * b + c * c) / 12
    };
    B.oG = function(a,
        b) {
        var c = b.Na - b.tk,
            d = b.Oc - b.M,
            f = Z([b.tk + b.Na, b.M + b.Oc], .5);
        return B.Wu(a, c, d) + a * ab(f)
    };
    var vb = B.nG = function(a) {
        var b = 0,
            c = 0,
            d, f, e, g;
        d = e = a[0];
        f = g = a[1];
        for (var h = a.length >> 1, k = 1; k < h; k++) {
            var l = a[2 * k],
                m = a[2 * k + 1];
            if (l < d || l == d && m < f) d = l, f = m, b = k;
            else if (l > e || l == e && m > g) e = l, g = m, c = k
        }
        return [b, c]
    };
    B.eG = function(a, b, c) {
        if (b)
            for (var d = 0; d < a.length; d++) b[d] = a[d];
        else b = a;
        var f = vb(a),
            d = f[0],
            f = f[1];
        if (d == f) return b.length = 2, b;
        W(b, 0, d);
        W(b, 1, 0 == f ? d : f);
        d = new I(b[0], b[1]);
        f = new I(b[2], b[3]);
        a = H(c, b, 2, (a.length >> 1) - 2,
            d, f, d, 1) + 1;
        b.length = 2 * a;
        oa(Q(b), "Internal error: cpConvexHull() and cpPolyValidate() did not agree.Please report this error with as much info as you can.");
        return b
    };
    var I = B.aG = function(a, b) {
        this.x = a;
        this.y = b
    };
    B.D = function(a, b) {
        return new I(a, b)
    };
    var pa = B.JG = new I(0, 0),
        da = B.D.Mj = function(a, b) {
            return a.x * b.x + a.y * b.y
        },
        fa = B.D.CE = function(a) {
            return Math.sqrt(da(a, a))
        };
    B.D.HE = function(a, b) {
        return Math.sqrt(a * a + b * b)
    };
    B.D.nE = function(a, b) {
        return a.x === b.x && a.y === b.y
    };
    var ca = B.D.add = function(a, b) {
        return new I(a.x +
            b.x, a.y + b.y)
    };
    I.prototype.add = function(a) {
        this.x += a.x;
        this.y += a.y;
        return this
    };
    var ea = B.D.sub = function(a, b) {
        return new I(a.x - b.x, a.y - b.y)
    };
    I.prototype.sub = function(a) {
        this.x -= a.x;
        this.y -= a.y;
        return this
    };
    var qa = B.D.Ye = function(a) {
        return new I(-a.x, -a.y)
    };
    I.prototype.Ye = function() {
        this.x = -this.x;
        this.y = -this.y;
        return this
    };
    var Z = B.D.Zu = function(a, b) {
        return new I(a.x * b, a.y * b)
    };
    I.prototype.Zu = function(a) {
        this.x *= a;
        this.y *= a;
        return this
    };
    var Ca = B.D.Kz = function(a, b) {
            return a.x * b.y - a.y * b.x
        },
        ua = B.D.bF = function(a) {
            return new I(-a.y,
                a.x)
        };
    B.D.cF = function(a) {
        return new I(a.y, -a.x)
    };
    var rd = B.D.Qn = function(a, b) {
        return Z(b, da(a, b) / ab(b))
    };
    I.prototype.Qn = function(a) {
        this.Zu(da(this, a) / ab(a));
        return this
    };
    var xa = B.D.rotate = function(a, b) {
        return new I(a.x * b.x - a.y * b.y, a.x * b.y + a.y * b.x)
    };
    I.prototype.rotate = function(a) {
        this.x = this.x * a.x - this.y * a.y;
        this.y = this.x * a.y + this.y * a.x;
        return this
    };
    var sd = B.D.WF = function(a, b) {
            return new I(a.x * b.x + a.y * b.y, a.y * b.x - a.x * b.y)
        },
        ab = B.D.NE = function(a) {
            return da(a, a)
        };
    B.D.OE = function(a, b) {
        return a * a + b * b
    };
    B.D.DE = function(a, b, c) {
        return ca(Z(a, 1 - c), Z(b, c))
    };
    var tb = B.D.normalize = function(a) {
            return Z(a, 1 / fa(a))
        },
        ld = B.D.YE = function(a) {
            return 0 === a.x && 0 === a.y ? pa : tb(a)
        },
        ub = B.D.bi = function(a, b) {
            return da(a, a) > b * b ? Z(tb(a), b) : a
        };
    B.D.PE = function(a, b, c) {
        return ca(a, ub(ea(b, a), c))
    };
    var td = B.D.Lj = function(a, b) {
            return fa(ea(a, b))
        },
        md = B.D.UC = function(a, b) {
            return ab(ea(a, b))
        };
    B.D.SE = function(a, b, c) {
        return md(a, b) < c * c
    };
    var ud = B.D.nF = function(a, b, c) {
        var d = Math.acos(da(a, b));
        if (d) {
            var f = 1 / Math.sin(d);
            return ca(Z(a, Math.sin((1 -
                c) * d) * f), Z(b, Math.sin(c * d) * f))
        }
        return a
    };
    B.D.wF = function(a, b, c) {
        var d = Math.acos(da(a, b));
        return ud(a, b, la(c, d) / d)
    };
    B.D.zE = function(a) {
        return new I(Math.cos(a), Math.sin(a))
    };
    B.D.zq = function(a) {
        return Math.atan2(a.y, a.x)
    };
    B.D.GE = function(a) {
        return "(" + a.x.toFixed(3) + ", " + a.y.toFixed(3) + ")"
    };
    var vd = 0,
        Kb = B.hE = function(a, b, c, d) {
            this.tk = a;
            this.M = b;
            this.Na = c;
            this.Oc = d;
            vd++
        };
    B.cG = function(a, b, c, d) {
        return new Kb(a, b, c, d)
    };
    var nd = 0;
    B.ZE = 0;
    var wd = B.eE = -1;
    B.EG = function() {
        nd = 0
    };
    var Ta = B.PF = function(a) {
        this.body =
            a;
        this.Pa = this.Ka = this.Qa = this.La = 0;
        this.pb = nd++;
        this.Wv = !1;
        this.rj = this.ji = 0;
        this.ww = pa;
        this.group = this.Fj = 0;
        this.T = wd;
        this.ea = null;
        this.qb = !1;
        this.rf = this.rf
    };
    Ta.prototype.bo = function(a) {
        this.ji = a
    };
    Ta.prototype.co = function(a) {
        this.body.cc();
        this.rj = a
    };
    Ta.prototype.G = function() {
        return this.body && -1 !== this.body.Mh.indexOf(this)
    };
    Ta.prototype.update = function(a, b) {
        X(!isNaN(b.x), "Rotation is NaN");
        X(!isNaN(a.x), "Position is NaN");
        this.fp(a, b)
    };
    Ta.prototype.Pp = function() {
        return new Kb(this.Pa, this.Ka,
            this.Qa, this.La)
    };
    B.$E = function(a, b, c) {
        this.shape = a;
        this.Aa = b;
        this.$d = c
    };
    B.xF = function(a, b, c) {
        this.shape = a;
        this.Oc = b;
        this.R = c
    };
    var Nb = B.cx = function(a, b, c) {
        this.Ej = this.jf = c;
        this.Na = b;
        this.type = "circle";
        Ta.call(this, a)
    };
    Nb.prototype = Object.create(Ta.prototype);
    Nb.prototype.fp = function(a, b) {
        var c = this.jf = xa(this.Ej, b).add(a),
            d = this.Na;
        this.Pa = c.x - d;
        this.Ka = c.y - d;
        this.Qa = c.x + d;
        this.La = c.y + d
    };
    var Ob = B.Ay = function(a, b, c, d) {
        this.u = b;
        this.M = c;
        this.R = ua(tb(ea(c, b)));
        this.ld = this.Qd = this.kf = null;
        this.Na = d;
        this.qz = this.cz = pa;
        this.type = "segment";
        Ta.call(this, a)
    };
    Ob.prototype = Object.create(Ta.prototype);
    Ob.prototype.fp = function(a, b) {
        this.ld = ca(a, xa(this.u, b));
        this.Qd = ca(a, xa(this.M, b));
        this.kf = xa(this.R, b);
        var c, d, f, e;
        this.ld.x < this.Qd.x ? (c = this.ld.x, d = this.Qd.x) : (c = this.Qd.x, d = this.ld.x);
        this.ld.y < this.Qd.y ? (f = this.ld.y, e = this.Qd.y) : (f = this.Qd.y, e = this.ld.y);
        var g = this.Na;
        this.Pa = c - g;
        this.Ka = f - g;
        this.Qa = d + g;
        this.La = e + g
    };
    var Ua = B.Ro = function(a, b, c) {
        this.BD(b, c);
        this.type = "poly";
        Ta.call(this, a)
    };
    Ua.prototype =
        Object.create(Ta.prototype);
    D.prototype.compare = function(a) {
        return da(this.R, a) - this.$d
    };
    Ua.prototype.BD = function(a, b) {
        X(4 <= a.length, "Polygons require some verts");
        X("number" === typeof a[0], "Polygon verticies should be specified in a flattened list (eg [x1,y1,x2,y2,x3,y3,...])");
        X(Q(a), "Polygon is concave or has a reversed winding. Consider using cpConvexHull()");
        var c = a.length,
            d = c >> 1;
        this.yj = Array(c);
        this.Mf = Array(c);
        this.Gv = Array(d);
        this.hf = Array(d);
        for (d = 0; d < c; d += 2) {
            var f = a[d] + b.x,
                e = a[d + 1] + b.y,
                g = tb(ua(new I(a[(d + 2) % c] + b.x - f, a[(d + 3) % c] + b.y - e)));
            this.yj[d] = f;
            this.yj[d + 1] = e;
            this.Gv[d >> 1] = new D(g, g.x * f + g.y * e);
            this.hf[d >> 1] = new D(new I(0, 0), 0)
        }
    };
    B.ax = function(a, b, c) {
        b = b / 2;
        c = c / 2;
        return Ad(a, new Kb(-b, -c, b, c))
    };
    var Ad = B.mE = function(a, b) {
        return new Ua(a, [b.tk, b.M, b.tk, b.Oc, b.Na, b.Oc, b.Na, b.M], pa)
    };
    Ua.prototype.PD = function(a, b) {
        for (var c = this.yj, d = this.Mf, f = Infinity, e = -Infinity, g = Infinity, h = -Infinity, k = 0; k < c.length; k += 2) {
            var l = c[k],
                m = c[k + 1],
                n = a.x + l * b.x - m * b.y,
                l = a.y + l * b.y + m * b.x;
            d[k] = n;
            d[k + 1] = l;
            f =
                la(f, n);
            e = ia(e, n);
            g = la(g, l);
            h = ia(h, l)
        }
        this.Pa = f;
        this.Ka = g;
        this.Qa = e;
        this.La = h
    };
    Ua.prototype.OD = function(a, b) {
        for (var c = this.Gv, d = this.hf, f = 0; f < c.length; f++) {
            var e = xa(c[f].R, b);
            d[f].R = e;
            d[f].$d = da(a, e) + c[f].$d
        }
    };
    Ua.prototype.fp = function(a, b) {
        this.OD(a, b);
        this.PD(a, b)
    };
    Ua.prototype.Go = function(a, b) {
        for (var c = this.Mf, d = a.x * c[0] + a.y * c[1], f = 2; f < c.length; f += 2) d = la(d, a.x * c[f] + a.y * c[f + 1]);
        return d - b
    };
    Ua.prototype.hm = function(a, b) {
        for (var c = this.hf, d = 0; d < c.length; d++) {
            var f = c[d].R;
            if (0 < f.x * a + f.y * b - c[d].$d) return !1
        }
        return !0
    };
    Ua.prototype.ot = function(a, b, c) {
        for (var d = this.hf, f = 0; f < d.length; f++) {
            var e = d[f].R;
            if (!(0 > da(e, c)) && 0 < e.x * a + e.y * b - d[f].$d) return !1
        }
        return !0
    };
    var ga = B.qs = function(a, b) {
        this.Aa = new I(0, 0);
        this.Bc = this.Cc = 0;
        this.vm = new I(0, 0);
        this.Oc = this.q = 0;
        this.ms = this.ks = Infinity;
        this.Qg = this.uj = this.vj = 0;
        this.ea = null;
        this.qb = !1;
        this.Mh = [];
        this.ie = this.Bg = this.ci = this.Vg = null;
        this.Ag = 0;
        this.eo(a);
        this.jl(b);
        this.lb = new I(0, 0);
        this.Yv(0)
    };
    if ("undefined" !== typeof DEBUG && DEBUG) {
        var lc = function(a, b) {
                X(a.x == a.x && a.y ==
                    a.y, b)
            },
            mc = function(a, b) {
                X(Infinity !== Math.abs(a.x) && Infinity !== Math.abs(a.y), b)
            };
        ga.prototype.il = function() {
            X(this.Ji === this.Ji && this.ze === this.ze, "Body's mass is invalid.");
            X(this.S === this.S && this.wa === this.wa, "Body's moment is invalid.");
            var a = this.Aa;
            lc(a, "Body's position is invalid.");
            mc(a, "Body's position is invalid.");
            a = this.vm;
            lc(a, "Body's force is invalid.");
            mc(a, "Body's force is invalid.");
            X(this.Bc === this.Bc && Infinity !== Math.abs(this.Bc), "Body's velocity is invalid.");
            X(this.Cc === this.Cc &&
                Infinity !== Math.abs(this.Cc), "Body's velocity is invalid.");
            X(this.u === this.u && Infinity !== Math.abs(this.u), "Body's angle is invalid.");
            X(this.q === this.q && Infinity !== Math.abs(this.q), "Body's angular velocity is invalid.");
            X(this.Oc === this.Oc && Infinity !== Math.abs(this.Oc), "Body's torque is invalid.");
            a = this.lb;
            lc(a, "Body's rotation vector is invalid.");
            mc(a, "Body's rotation vector is invalid.");
            X(this.ks === this.ks, "Body's velocity limit is invalid.");
            X(this.ms === this.ms, "Body's angular velocity limit is invalid.")
        }
    } else ga.prototype.il =
        function() {};
    ga.prototype.Sb = function() {
        return B.D.zq(this.lb)
    };
    ga.prototype.Bf = function() {
        return null !== this.Bg
    };
    ga.prototype.Rc = function() {
        return Infinity === this.Ag
    };
    ga.prototype.Ua = function() {
        return null === this.ea
    };
    ga.prototype.eo = function(a) {
        X(0 < a, "Mass must be positive and non-zero.");
        this.cc();
        this.Ji = a;
        this.ze = 1 / a
    };
    ga.prototype.jl = function(a) {
        X(0 < a, "Moment of Inertia must be positive and non-zero.");
        this.cc();
        this.S = a;
        this.wa = 1 / a
    };
    ga.prototype.Xh = function(a) {
        this.Mh.push(a)
    };
    ga.prototype.Zi =
        function(a) {
            ka(this.Mh, a)
        };
    ga.prototype.el = function(a) {
        this.ci = F(this.ci, this, a)
    };
    ga.prototype.ew = function(a) {
        this.cc();
        this.il();
        a === pa && (a = B.D(0, 0));
        this.Aa = a
    };
    ga.prototype.zD = function(a) {
        this.cc();
        this.Bc = a.x;
        this.Cc = a.y
    };
    ga.prototype.Zv = function(a) {
        X(!isNaN(a), "Internal Error: Attempting to set body's angle to NaN");
        this.u = a;
        this.lb.x = Math.cos(a);
        this.lb.y = Math.sin(a)
    };
    ga.prototype.Yv = function(a) {
        this.cc();
        this.il();
        this.Zv(a)
    };
    ga.prototype.ZD = function(a, b, c) {
        var d = this.Bc * b + (a.x + this.vm.x * this.ze) *
            c;
        a = this.Cc * b + (a.y + this.vm.y * this.ze) * c;
        var f = this.ks,
            e = d * d + a * a,
            f = e > f * f ? f / Math.sqrt(e) : 1;
        this.Bc = d * f;
        this.Cc = a * f;
        d = this.ms;
        this.q = J(this.q * b + this.Oc * this.wa * c, -d, d);
        this.il()
    };
    ga.prototype.KC = function(a) {
        this.Aa.x += (this.Bc + this.uj) * a;
        this.Aa.y += (this.Cc + this.vj) * a;
        this.Zv(this.u + (this.q + this.Qg) * a);
        this.Qg = this.uj = this.vj = 0;
        this.il()
    };
    ga.prototype.eD = function() {
        this.cc();
        this.vm = new I(0, 0);
        this.Oc = 0
    };
    ga.prototype.od = function(b, c) {
        this.cc();
        a(this, b.x, b.y, c)
    };
    ga.prototype.tm = function(a) {
        for (var b =
                this.ci; b;) {
            var c = b.next(this);
            a(b);
            b = c
        }
    };
    ga.prototype.Bu = function(a) {
        return ca(this.Aa, xa(a, this.lb))
    };
    ga.prototype.Ko = function(a) {
        return sd(ea(a, this.Aa), this.lb)
    };
    ga.prototype.dC = function() {
        var a = this.Bc * this.Bc + this.Cc * this.Cc,
            b = this.q * this.q;
        return (a ? a * this.Ji : 0) + (b ? b * this.S : 0)
    };
    var nc = B.SF = function(a) {
        if (this.uw = a) {
            if (a.ii) throw Error("This static index is already associated with a dynamic index.");
            a.ii = this
        }
    };
    nc.prototype.zz = function(a, b) {
        if (0 < a.count) {
            var c = a.VC;
            this.each(function(a) {
                c(a,
                    new Kb(a.Pa, a.Ka, a.Qa, a.La), b)
            })
        }
    };
    var Da = B.$w = function(a) {
        nc.call(this, a);
        this.YD = null;
        this.ug = {};
        this.count = 0;
        this.Jn = this.In = this.root = null;
        this.Lb = 0
    };
    Da.prototype = Object.create(nc.prototype);
    var Bd = 0;
    Da.prototype.iC = function(a, b) {
        var c = this.In;
        if (c) return this.In = c.parent, c.constructor(this, a, b), c;
        Bd++;
        return new y(0, a, b)
    };
    var zd = 0;
    Da.prototype.Pp = function(a, b) {
        var c = this.YD;
        if (c) {
            var d = .1 * (a.Qa - a.Pa),
                f = .1 * (a.La - a.Ka),
                c = Z(c(a), .1);
            b.Pa = a.Pa + la(-d, c.x);
            b.Ka = a.Ka + la(-f, c.y);
            b.Qa = a.Qa + ia(d, c.x);
            b.La = a.La + ia(f, c.y)
        } else b.Pa = a.Pa, b.Ka = a.Ka, b.Qa = a.Qa, b.La = a.La
    };
    Da.prototype.Zp = function() {
        var a = this.ii;
        return a && a.Lb ? a.Lb : this.Lb
    };
    Da.prototype.lq = function() {
        this.ii && this.ii.Lb ? this.ii.Lb++ : this.Lb++
    };
    var Cd = 0;
    Da.prototype.jC = function(a, b, c, d) {
        var f = this.Jn;
        if (f) return this.Jn = f.Jh, f.Jh = null, f.tg = a, f.Lk = b, f.$k = null, f.Kq = c, f.Mk = d, f;
        Cd++;
        return new u(a, b, c, d)
    };
    u.prototype.Kh = function(a) {
        this.Jh = a.Jn;
        a.Jn = this
    };
    O.prototype.kt = function(a) {
        var b = this.Dg,
            c;
        for (this.Dg = null; b;) b.tg === this ? (c = b.Lk,
            T(b.$k, b.Kq, b.Mk)) : (c = b.Mk, T(b.Jh, b.tg, b.Lk)), b.Kh(a), b = c
    };
    y.prototype.Kh = function(a) {
        this.parent = a.In;
        a.In = this
    };
    O.prototype.Kh = function() {};
    y.prototype.Ir = function(a) {
        this.Pc = a;
        a.parent = this
    };
    y.prototype.Jr = function(a) {
        this.Ad = a;
        a.parent = this
    };
    O.prototype.Tm = !0;
    y.prototype.Tm = !1;
    y.prototype.uv = function(a) {
        return this.Pc == a ? this.Ad : this.Pc
    };
    y.prototype.replaceChild = function(a, b, c) {
        oa(a == this.Pc || a == this.Ad, "Node is not a child of parent.");
        this.Pc == a ? (this.Pc.Kh(c), this.Ir(b)) : (this.Ad.Kh(c), this.Jr(b));
        for (a = this; a; a = a.parent) b = a.Pc, c = a.Ad, a.Pa = la(b.Pa, c.Pa), a.Ka = la(b.Ka, c.Ka), a.Qa = ia(b.Qa, c.Qa), a.La = ia(b.La, c.La)
    };
    y.prototype.dp = O.prototype.dp = function() {
        return (this.Qa - this.Pa) * (this.La - this.Ka)
    };
    y.prototype.hu = O.prototype.hu = function(a) {
        return this.Pa <= a.Na && a.tk <= this.Qa && this.Ka <= a.Oc && a.M <= this.La
    };
    O.prototype.Fh = function(a, b, c, d) {
        K(a, this) && (b ? V(a, this, c) : (this.Lb < a.Lb && V(this, a, c), d && d(a.da, this.da)))
    };
    y.prototype.Fh = function(a, b, c, d) {
        K(a, this) && (this.Pc.Fh(a, b, c, d), this.Ad.Fh(a, b, c, d))
    };
    O.prototype.Jk = function(a, b, c) {
        if (this.Lb == a.Zp())
            for (b && b.Fh(this, !1, a, c), b = this; b.parent; b = b.parent) b == b.parent.Pc ? b.parent.Ad.Fh(this, !0, a, c) : b.parent.Pc.Fh(this, !1, a, c);
        else
            for (a = this.Dg; a;) this === a.Kq ? (c && c(a.tg.da, this.da), a = a.Mk) : a = a.Lk
    };
    y.prototype.Jk = function(a, b, c) {
        this.Pc.Jk(a, b, c);
        this.Ad.Jk(a, b, c)
    };
    O.prototype.Fz = function(a) {
        return this.Pa <= a.Pa && this.Qa >= a.Qa && this.Ka <= a.Ka && this.La >= a.La
    };
    O.prototype.update = function(a) {
        var b = a.root;
        return this.Fz(this.da) ? !1 : (a.Pp(this.da, this), b =
            x(b, this, a), a.root = P(b, this, a), this.kt(a), this.Lb = a.Zp(), !0)
    };
    O.prototype.Rs = function(a) {
        var b = a.ii;
        b ? (a = b.root) && a.Fh(this, !0, b, null) : this.Jk(a, a.uw.root, null)
    };
    Da.prototype.ng = function(a, b) {
        var c = new O(this, a);
        this.ug[b] = c;
        this.root = P(this.root, c, this);
        this.count++;
        c.Lb = this.Zp();
        c.Rs(this);
        this.lq()
    };
    Da.prototype.remove = function(a, b) {
        var c = this.ug[b];
        delete this.ug[b];
        this.root = x(this.root, c, this);
        this.count--;
        c.kt(this);
        c.Kh(this)
    };
    Da.prototype.contains = function(a, b) {
        return null != this.ug[b]
    };
    Da.prototype.YC = function(a) {
        if (this.root) {
            var b, c = this.ug;
            for (b in c) c[b].update(this);
            c = (b = this.uw) && b.root;
            this.root.Jk(this, c, a);
            b && !c && this.zz(this, b);
            this.lq()
        }
    };
    Da.prototype.Pv = function(a) {
        if (a = this.ug[a]) a.update(this) && a.Rs(this), this.lq()
    };
    Da.prototype.VC = function(a, b) {
        this && this.root && this instanceof B.$w && A(this.root, a, b)
    };
    Da.prototype.count = function() {
        return this.count
    };
    Da.prototype.each = function(a) {
        for (var b in this.ug) a(this.ug[b].da)
    };
    Da.prototype.log = function() {
        this.root && R(this.root,
            0)
    };
    var Pb = B.oE = function() {
        this.u = this.M = 0
    };
    Pb.prototype.On = function() {
        return !0
    };
    Pb.prototype.Mn = function() {};
    z.prototype.Lt = function() {
        return this.Ur ? this.M : this.u
    };
    z.prototype.Ot = function() {
        return this.Ur ? this.u : this.M
    };
    z.prototype.tq = function() {
        return "first coll" === this.state
    };
    z.prototype.Lw = function() {
        v(this.nb, this.lj, this.kj);
        v(this.te, this.nj, this.mj);
        this.nj = this.mj = this.lj = this.kj = null
    };
    z.prototype.update = function(a, b, c, d) {
        if (this.Yd)
            for (var f = 0; f < this.Yd.length; f++)
                for (var e = this.Yd[f],
                        g = 0; g < a.length; g++) {
                    var h = a[g];
                    h.hash === e.hash && (h.jc = e.jc, h.wh = e.wh)
                }
        this.Yd = a;
        this.dq = b;
        this.Ur = c.Fj !== b.u;
        this.ji = c.ji * d.ji;
        this.rj = c.rj * d.rj;
        this.xw = ea(c.ww, d.ww);
        this.u = c;
        this.nb = c.body;
        this.M = d;
        this.te = d.body;
        "cached" == this.state && (this.state = "first coll")
    };
    z.prototype.Nd = function(a, b, d) {
        for (var f = this.nb, e = this.te, g = 0; g < this.Yd.length; g++) {
            var h = this.Yd[g];
            h.Z = ea(h.Aa, f.Aa);
            h.aa = ea(h.Aa, e.Aa);
            h.Ae = 1 / n(f, e, h.Z, h.aa, h.R);
            h.yw = 1 / n(f, e, h.Z, h.aa, ua(h.R));
            h.ab = -d * la(0, h.Lj + b) / a;
            h.pk = 0;
            h.$s = c(f, e,
                h.Z, h.aa, h.R) * this.ji
        }
    };
    z.prototype.Vd = function(a) {
        if (!this.tq())
            for (var b = this.nb, c = this.te, d = 0; d < this.Yd.length; d++) {
                var e = this.Yd[d],
                    g = e.R.x,
                    h = e.R.y;
                f(b, c, e.Z, e.aa, (g * e.jc - h * e.wh) * a, (g * e.wh + h * e.jc) * a)
            }
    };
    var Dd = 0,
        Ed = 0;
    z.prototype.od = function() {
        Dd++;
        for (var a = this.nb, b = this.te, c = this.xw, d = this.rj, e = 0; e < this.Yd.length; e++) {
            Ed++;
            var g = this.Yd[e],
                h = g.Ae,
                k = g.R,
                l = g.Z,
                m = g.aa,
                n = b.Bc - m.y * b.q - (a.Bc - l.y * a.q),
                p = b.Cc + m.x * b.q - (a.Cc + l.x * a.q),
                t = n * k.x + p * k.y,
                r = (n + c.x) * -k.y + (p + c.y) * k.x,
                p = g.pk;
            g.pk = ia(p + (g.ab - (k.x *
                (b.uj - m.y * b.Qg - a.uj + l.y * a.Qg) + k.y * (m.x * b.Qg + b.vj - l.x * a.Qg - a.vj))) * h, 0);
            n = g.jc;
            g.jc = ia(n + -(g.$s + t) * h, 0);
            t = d * g.jc;
            h = g.wh;
            g.wh = J(h + -r * g.yw, -t, t);
            t = k.x * (g.pk - p);
            p = k.y * (g.pk - p);
            q(a, -t, -p, l);
            q(b, t, p, m);
            n = g.jc - n;
            g = g.wh - h;
            f(a, b, l, m, k.x * n - k.y * g, k.x * g + k.y * n)
        }
    };
    z.prototype.next = function(a) {
        return this.nb == a ? this.kj : this.mj
    };
    var yd = 0,
        Qa = [],
        kc = 0;
    Nb.prototype.rf = 0;
    Ob.prototype.rf = 1;
    Ua.prototype.rf = 2;
    Nb.prototype.rp = [function(a, b) {
        var c = r(a.jf, b.jf, a.Na, b.Na);
        return c ? [c] : Qa
    }, function(a, b) {
        var c = b.ld,
            d = a.jf,
            f = ea(b.Qd,
                c),
            e;
        e = da(f, ea(d, c)) / ab(f);
        e = ia(0, la(e, 1));
        c = ca(c, Z(f, e));
        return (d = r(d, c, a.Na, b.Na)) ? (c = d.R, 0 === e && 0 > da(c, b.cz) || 1 === e && 0 > da(c, b.qz) ? Qa : [d]) : Qa
    }, function(a, b) {
        for (var c = b.hf, d = 0, f = da(c[0].R, a.jf) - c[0].$d - a.Na, e = 0; e < c.length; e++) {
            var g = da(c[e].R, a.jf) - c[e].$d - a.Na;
            if (0 < g) return Qa;
            g > f && (f = g, d = e)
        }
        var c = c[d].R,
            h = b.Mf,
            k = h.length,
            l = d << 1,
            d = h[l],
            e = h[l + 1],
            g = h[(l + 2) % k],
            h = h[(l + 3) % k],
            k = c.x * e - c.y * d,
            l = c.x * h - c.y * g,
            m = Ca(c, a.jf);
        return m < l ? (f = r(a.jf, new I(g, h), a.Na, 0)) ? [f] : Qa : m < k ? [new G(ea(a.jf, Z(c, a.Na + f / 2)), qa(c),
            f, 0)] : (f = r(a.jf, new I(d, e), a.Na, 0)) ? [f] : Qa
    }];
    Ob.prototype.rp = [null, function() {
        return Qa
    }, function(a, b) {
        var c = [],
            d = b.hf,
            f = d.length,
            e = da(a.kf, a.ld),
            g = b.Go(a.kf, e) - a.Na,
            e = b.Go(qa(a.kf), -e) - a.Na;
        if (0 < e || 0 < g) return Qa;
        var h = 0,
            k = L(a, d[0].R, d[0].$d);
        if (0 < k) return Qa;
        for (var l = 0; l < f; l++) {
            var m = L(a, d[l].R, d[l].$d);
            if (0 < m) return Qa;
            m > k && (k = m, h = l)
        }
        d = qa(d[h].R);
        l = ca(a.ld, Z(d, a.Na));
        m = ca(a.Qd, Z(d, a.Na));
        b.hm(l.x, l.y) && c.push(new G(l, d, k, S(a.pb, 0)));
        b.hm(m.x, m.y) && c.push(new G(m, d, k, S(a.pb, 1)));
        if (g >= k || e >= k) g >
            e ? M(c, a, b, g, 1) : M(c, a, b, e, -1);
        if (0 === c.length) {
            g = 2 * h;
            e = b.Mf;
            k = new I(e[g], e[g + 1]);
            if ((h = r(a.ld, k, a.Na, 0)) || (h = r(a.Qd, k, a.Na, 0))) return [h];
            f = 2 * f;
            f = new I(e[(g + 2) % f], e[(g + 3) % f]);
            if ((h = r(a.ld, f, a.Na, 0)) || (h = r(a.Qd, f, a.Na, 0))) return [h]
        }
        return c
    }];
    Ua.prototype.rp = [null, null, function(a, b) {
        var c = p(b, a.hf);
        if (-1 == c) return Qa;
        var d = kc,
            f = p(a, b.hf);
        if (-1 == f) return Qa;
        var e = kc;
        return d > e ? w(a, b, a.hf[c].R, d) : w(a, b, qa(b.hf[f].R), e)
    }];
    var xd = B.lt = function(a, b) {
            X(a.rf <= b.rf, "Collided shapes must be sorted by type");
            return a.rp[b.rf](a, b)
        },
        pd = new Pb,
        ha = B.Ry = function() {
            this.tt = this.Lb = 0;
            this.Yf = [];
            this.Dr = [];
            this.Or = [];
            this.gj = new Da(null);
            this.Rg = new Da(this.gj);
            this.Zh = [];
            this.Qe = {};
            this.di = [];
            this.yd = 0;
            this.qp = {};
            this.Mz = pd;
            this.or = [];
            this.ad = [];
            this.cC = 10;
            this.aq = pa;
            this.Kj = 1;
            this.jq = 0;
            this.ol = Infinity;
            this.Cz = .1;
            this.Az = Math.pow(.9, 60);
            this.Bz = 3;
            this.sw = new ga(Infinity, Infinity);
            this.sw.Ag = Infinity;
            this.lt = this.hC()
        };
    ha.prototype.gz = function(a, b) {
        g(this);
        this.bD();
        var c = new Pb;
        c.u = 0;
        c.M = 0;
        a && (c.On = a);
        b &&
            (c.Mn = b);
        this.qp[S(0, 0)] = c
    };
    ha.prototype.bD = function() {
        g(this);
        delete this.qp[S(0, 0)]
    };
    ha.prototype.Du = function(a, b) {
        return this.qp[S(a, b)] || this.Mz
    };
    ha.prototype.Xh = function(a) {
        var b = a.body;
        if (b.Rc()) return this.Ts(a);
        if (this.yd) return a.qb || (a.qb = !0, this.ad.push(this.Xh), this.ad.push(a)), a;
        a.qb = !0;
        X(!a.ea, "This shape is already added to a space and cannot be added to another.");
        g(this);
        b.cc();
        b.Xh(a);
        a.update(b.Aa, b.lb);
        this.Rg.ng(a, a.pb);
        a.ea = this;
        return a
    };
    ha.prototype.Ts = function(a) {
        if (this.yd) return a.qb ||
            (a.qb = !0, this.ad.push(this.Ts), this.ad.push(a)), a;
        a.qb = !0;
        X(!a.ea, "This shape is already added to a space and cannot be added to another.");
        g(this);
        var b = a.body;
        b.Xh(a);
        a.update(b.Aa, b.lb);
        this.gj.ng(a, a.pb);
        a.ea = this;
        return a
    };
    ha.prototype.Ps = function(a) {
        X(!a.Rc(), "Static bodies cannot be added to a space as they are not meant to be simulated.");
        if (this.yd) return a.qb || (a.qb = !0, this.ad.push(this.Ps), this.ad.push(a)), a;
        a.qb = !0;
        X(!a.ea, "This body is already added to a space and cannot be added to another.");
        g(this);
        this.Yf.push(a);
        a.ea = this;
        return a
    };
    ha.prototype.Ht = function(a, b) {
        for (var c in this.Qe) {
            var d = this.Qe[c];
            if (a === d.nb && (b === d.u || null === b) || a === d.te && (b === d.M || null === b)) d.Lw(), ka(this.Zh, d), delete this.Qe[c]
        }
    };
    ha.prototype.Zi = function(a) {
        var b = a.body;
        b.Rc() ? this.Rv(a) : this.yd ? a.qb && (a.qb = !1, this.ad.push(this.Zi), this.ad.push(a)) : (a.qb = !1, X(this.nt(a), "Cannot remove a shape that was not added to the space. (Removed twice maybe?)"), g(this), b.cc(), b.Zi(a), this.Ht(b, a), this.Rg.remove(a, a.pb),
            a.ea = null)
    };
    ha.prototype.Rv = function(a) {
        if (this.yd) a.qb && (a.qb = !1, this.ad.push(this.Rv), this.ad.push(a));
        else {
            a.qb = !1;
            X(this.nt(a), "Cannot remove a static or sleeping shape that was not added to the space. (Removed twice maybe?)");
            g(this);
            var b = a.body;
            b.Rc() && b.Os(a);
            b.Zi(a);
            this.Ht(b, a);
            this.gj.remove(a, a.pb);
            a.ea = null
        }
    };
    ha.prototype.Qv = function(a) {
        this.yd ? a.qb && (a.qb = !1, this.ad.push(this.Qv), this.ad.push(a)) : (a.qb = !1, X(this.Dz(a), "Cannot remove a body that was not added to the space. (Removed twice maybe?)"),
            g(this), a.cc(), ka(this.Yf, a), a.ea = null)
    };
    ha.prototype.el = function(a) {
        this.yd ? a.qb && (a.qb = !1, this.ad.push(this.el), this.ad.push(a)) : (a.qb = !1, X(this.Ez(a), "Cannot remove a constraint that was not added to the space. (Removed twice maybe?)"), g(this), a.u.cc(), a.M.cc(), ka(this.di, a), a.u.el(a), a.M.el(a), a.ea = null)
    };
    ha.prototype.nt = function(a) {
        return a.ea === this
    };
    ha.prototype.Dz = function(a) {
        return a.ea == this
    };
    ha.prototype.Ez = function(a) {
        return a.ea == this
    };
    ha.prototype.QD = function(a) {
        delete this.Qe[S(a.u.pb,
            a.M.pb)];
        ka(this.Zh, a)
    };
    ha.prototype.Ap = function(a, b) {
        this.nn();
        for (var c = this.Yf, d = 0; d < c.length; d++) a.call(b, c[d]);
        c = this.Or;
        for (d = 0; d < c.length; d++)
            for (var f = c[d]; f;) {
                var e = f.ie;
                a.call(b, f);
                f = e
            }
        this.Bo(!0)
    };
    ha.prototype.tm = function(a) {
        this.nn();
        for (var b = this.di, c = 0; c < b.length; c++) a(b[c]);
        this.Bo(!0)
    };
    ha.prototype.ZC = function(a) {
        X(!this.yd, "You cannot manually reindex objects while the space is locked. Wait until the current query or step is complete.");
        var b = a.body;
        a.update(b.Aa, b.lb);
        this.Rg.Pv(a.pb);
        this.gj.Pv(a.pb)
    };
    ha.prototype.Ns = function(a) {
        X(!a.Ua(), "Internal error: Attempting to activate a rogue body.");
        if (this.yd) - 1 === this.Dr.indexOf(a) && this.Dr.push(a);
        else {
            this.Yf.push(a);
            for (var b = 0; b < a.Mh.length; b++) {
                var c = a.Mh[b];
                this.gj.remove(c, c.pb);
                this.Rg.ng(c, c.pb)
            }
            for (b = a.Vg; b; b = b.next(a))
                if (c = b.nb, a === c || c.Rc()) {
                    var c = b.u,
                        d = b.M;
                    this.Qe[S(c.pb, d.pb)] = b;
                    b.Lb = this.Lb;
                    b.dq = this.Du(c.Fj, d.Fj);
                    this.Zh.push(b)
                }
            for (b = a.ci; b; b = b.ie) c = b.u, (a === c || c.Rc()) && this.di.push(b)
        }
    };
    ha.prototype.Lz = function(a) {
        X(!a.Ua(),
            "Internal error: Attempting to deactivate a rogue body.");
        ka(this.Yf, a);
        for (var b = 0; b < a.Mh.length; b++) {
            var c = a.Mh[b];
            this.Rg.remove(c, c.pb);
            this.gj.ng(c, c.pb)
        }
        for (c = a.Vg; c; c = c.next(a)) b = c.nb, (a === b || b.Rc()) && this.QD(c);
        for (c = a.ci; c; c = c.ie) b = c.u, (a === b || b.Rc()) && ka(this.di, c)
    };
    ga.prototype.cc = function() {
        if (!this.Ua()) {
            this.Ag = 0;
            var a = this ? this.Bg : null;
            if (a && a.Bf(a)) {
                X(!a.Ua(), "Internal Error: componentActivate() called on a rogue body.");
                for (var b = a.ea, c = a; c;) {
                    var d = c.ie;
                    c.Ag = 0;
                    c.Bg = null;
                    c.ie = null;
                    b.Ns(c);
                    c = d
                }
                ka(b.Or, a)
            }
        }
    };
    ga.prototype.Os = function(a) {
        X(this.Rc(), "Body.activateStatic() called on a non-static body.");
        for (var b = this.Vg; b; b = b.next(this)) a && a != b.u && a != b.M || (b.nb == this ? b.te : b.nb).cc()
    };
    ga.prototype.Lv = function(a) {
        oa(null === (a.nb === this ? a.kj : a.mj), "Internal Error: Dangling contact graph pointers detected. (A)");
        oa(null === (a.nb === this ? a.lj : a.nj), "Internal Error: Dangling contact graph pointers detected. (B)");
        var b = this.Vg;
        oa(null === b || null === (b.nb === this ? b.lj : b.nj), "Internal Error: Dangling contact graph pointers detected. (C)");
        a.nb === this ? a.kj = b : a.mj = b;
        b && (b.nb === this ? b.lj = a : b.nj = a);
        this.Vg = a
    };
    ha.prototype.QC = function(a) {
        for (var b = Infinity !== this.ol, c = this.Yf, d = 0; d < c.length; d++) {
            var f = c[d];
            oa(null === f.ie, "Internal Error: Dangling next pointer detected in contact graph.");
            oa(null === f.Bg, "Internal Error: Dangling root pointer detected in contact graph.")
        }
        if (b)
            for (var e = (d = this.jq) ? d * d : ab(this.aq) * a * a, d = 0; d < c.length; d++) f = c[d], f.Ag = Infinity !== f.Ji ? f.dC() > (e ? f.Ji * e : 0) ? 0 : f.Ag + a : Infinity;
        for (var e = this.Zh, d = 0, g = e.length; d < g; d++) {
            var h =
                e[d],
                f = h.nb;
            a = h.te;
            b && ((a.Ua() && !a.Rc() || f.Bf()) && f.cc(), (f.Ua() && !f.Rc() || a.Bf()) && a.cc());
            f.Lv(h);
            a.Lv(h)
        }
        if (b) {
            b = this.di;
            for (d = 0; d < b.length; d++) a = b[d], f = a.u, a = a.M, a.Ua() && !a.Rc() && f.cc(), f.Ua() && !f.Rc() && a.cc();
            for (d = 0; d < c.length;) {
                f = c[d];
                if (null === (f ? f.Bg : null)) {
                    l(f, f);
                    a: {
                        for (b = f; b; b = b.ie)
                            if (b.Ag < this.ol) {
                                b = !0;
                                break a
                            }
                        b = !1
                    }
                    if (!b) {
                        this.Or.push(f);
                        for (b = f; b; b = b.ie) this.Lz(b);
                        continue
                    }
                }
                d++;
                f.Bg = null;
                f.ie = null
            }
        }
    };
    ha.prototype.kD = function() {
        for (var a = 0; a < this.or.length; a++) this.or[a]();
        this.or.length =
            0
    };
    ha.prototype.nn = function() {
        this.yd++
    };
    ha.prototype.Bo = function(a) {
        this.yd--;
        X(0 <= this.yd, "Internal Error: Space lock underflow.");
        if (0 === this.yd && a) {
            a = this.Dr;
            for (var b = 0; b < a.length; b++) this.Ns(a[b]);
            a.length = 0;
            this.kD()
        }
    };
    var od;
    ha.prototype.hC = function() {
        od = this;
        return h
    };
    ha.prototype.lz = function(a) {
        var b = this.Lb - a.Lb,
            c = a.nb,
            d = a.te;
        if ((c.Rc() || c.Bf()) && (d.Rc() || d.Bf())) return !0;
        1 <= b && "cached" != a.state && (a.state = "cached");
        return b >= this.Bz ? (a.Yd = null, !1) : !0
    };
    ha.prototype.step = function(a) {
        if (0 !==
            a) {
            X(0 === pa.x && 0 === pa.y, "vzero is invalid");
            this.Lb++;
            var b = this.tt;
            this.tt = a;
            var c, f, e = this.Yf,
                g = this.di,
                h = this.Zh;
            for (c = 0; c < h.length; c++) {
                var k = h[c];
                k.state = "normal";
                k.nb.Bf() || k.te.Bf() || k.Lw()
            }
            h.length = 0;
            this.nn();
            for (c = 0; c < e.length; c++) e[c].KC(a);
            this.Rg.each(d);
            this.Rg.YC(this.lt);
            this.Bo(!1);
            this.QC(a);
            this.nn();
            for (f in this.Qe) this.lz(this.Qe[f]) || delete this.Qe[f];
            f = this.Cz;
            k = 1 - Math.pow(this.Az, a);
            for (c = 0; c < h.length; c++) h[c].Nd(a, f, k);
            for (c = 0; c < g.length; c++) f = g[c], f.On(this), f.Nd(a);
            f = Math.pow(this.Kj,
                a);
            k = this.aq;
            for (c = 0; c < e.length; c++) e[c].ZD(k, f, a);
            a = 0 === b ? 0 : a / b;
            for (c = 0; c < h.length; c++) h[c].Vd(a);
            for (c = 0; c < g.length; c++) g[c].Vd(a);
            for (c = 0; c < this.cC; c++) {
                for (a = 0; a < h.length; a++) h[a].od();
                for (a = 0; a < g.length; a++) g[a].od()
            }
            for (c = 0; c < g.length; c++) g[c].Mn(this);
            for (c = 0; c < h.length; c++) h[c].dq.Mn(h[c], this);
            this.Bo(!0)
        }
    };
    var ja = B.wE = function(a, b) {
        this.u = a;
        this.M = b;
        this.ea = null;
        this.qb = !1;
        this.Zq = this.Yq = null;
        this.zg = Infinity;
        this.gh = Math.pow(.9, 60);
        this.Gh = Infinity
    };
    ja.prototype.Nd = function() {};
    ja.prototype.Vd =
        function() {};
    ja.prototype.od = function() {};
    ja.prototype.On = function() {};
    ja.prototype.Mn = function() {};
    ja.prototype.next = function(a) {
        return this.u === a ? this.Yq : this.Zq
    };
    var Qb = B.jF = function(a, b, c, d) {
        ja.call(this, a, b);
        this.Sg = c;
        this.nf = d;
        a = a ? ca(a.Aa, xa(c, a.lb)) : c;
        b = b ? ca(b.Aa, xa(d, b.lb)) : d;
        this.Lj = fa(ea(b, a));
        oa(0 < this.Lj, "You created a 0 length pin joint. A pivot joint will be much more stable.");
        this.R = this.Z = this.aa = null;
        this.ab = this.jc = this.Ci = this.Ae = 0
    };
    Qb.prototype = Object.create(ja.prototype);
    Qb.prototype.Nd =
        function(a) {
            var b = this.u,
                c = this.M;
            if (!b.Ua() || !c.Ua()) {
                this.Z = xa(this.Sg, b.lb);
                this.aa = xa(this.nf, c.lb);
                var d = ea(ca(c.Aa, this.aa), ca(b.Aa, this.Z)),
                    f = fa(d);
                this.R = Z(d, 1 / (f ? f : Infinity));
                this.Ae = 1 / n(b, c, this.Z, this.aa, this.R);
                b = this.Gh;
                this.ab = J(-(1 - Math.pow(this.gh, a)) * (f - this.Lj) / a, -b, b);
                this.Ci = this.zg * a
            }
        };
    Qb.prototype.Vd = function(a) {
        a = Z(this.R, this.jc * a);
        f(this.u, this.M, this.Z, this.aa, a.x, a.y)
    };
    Qb.prototype.od = function() {
        var a = this.u,
            b = this.M,
            d = this.R,
            e = (this.ab - c(a, b, this.Z, this.aa, d)) * this.Ae,
            g = this.jc;
        this.jc = J(g + e, -this.Ci, this.Ci);
        e = this.jc - g;
        f(a, b, this.Z, this.aa, d.x * e, d.y * e)
    };
    var Rb = B.RF = function(a, b, c, d, f, e) {
        ja.call(this, a, b);
        this.Sg = c;
        this.nf = d;
        this.min = f;
        this.max = e;
        this.Z = this.aa = this.R = null;
        this.ab = this.jc = this.Ci = this.Ae = 0
    };
    Rb.prototype = Object.create(ja.prototype);
    Rb.prototype.Nd = function(a) {
        var b = this.u,
            c = this.M;
        if (!b.Ua() || !c.Ua()) {
            this.Z = xa(this.Sg, b.lb);
            this.aa = xa(this.nf, c.lb);
            var d = ea(ca(c.Aa, this.aa), ca(b.Aa, this.Z)),
                f = fa(d),
                e = 0;
            f > this.max ? (e = f - this.max, this.R = ld(d)) : f <
                this.min ? (e = this.min - f, this.R = qa(ld(d))) : (this.R = pa, this.jc = 0);
            this.Ae = 1 / n(b, c, this.Z, this.aa, this.R);
            b = this.Gh;
            this.ab = J(-(1 - Math.pow(this.gh, a)) * e / a, -b, b);
            this.Ci = this.zg * a
        }
    };
    Rb.prototype.Vd = function(a) {
        a = this.jc * a;
        f(this.u, this.M, this.Z, this.aa, this.R.x * a, this.R.y * a)
    };
    Rb.prototype.od = function() {
        if (0 !== this.R.x || 0 !== this.R.y) {
            var a = this.u,
                b = this.M,
                c = this.R,
                d = t(a, b, this.Z, this.aa),
                d = da(d, c),
                d = (this.ab - d) * this.Ae,
                e = this.jc;
            this.jc = J(e + d, -this.Ci, 0);
            d = this.jc - e;
            f(a, b, this.Z, this.aa, c.x * d, c.y * d)
        }
    };
    var Sb = B.kF = function(a, b, c, d) {
        ja.call(this, a, b);
        "undefined" === typeof d && (d = c, c = a ? a.Ko(d) : d, d = b ? b.Ko(d) : d);
        this.Sg = c;
        this.nf = d;
        this.Z = this.aa = pa;
        this.rk = new I(0, 0);
        this.sk = new I(0, 0);
        this.xa = pa;
        this.qk = 0;
        this.ab = pa
    };
    Sb.prototype = Object.create(ja.prototype);
    Sb.prototype.Nd = function(a) {
        var b = this.u,
            c = this.M;
        b.Ua() && c.Ua() || (this.Z = xa(this.Sg, b.lb), this.aa = xa(this.nf, c.lb), k(b, c, this.Z, this.aa, this.rk, this.sk), this.qk = this.zg * a, b = ea(ca(c.Aa, this.aa), ca(b.Aa, this.Z)), this.ab = ub(Z(b, -(1 - Math.pow(this.gh,
            a)) / a), this.Gh))
    };
    Sb.prototype.Vd = function(a) {
        f(this.u, this.M, this.Z, this.aa, this.xa.x * a, this.xa.y * a)
    };
    Sb.prototype.od = function() {
        var a = this.u,
            b = this.M,
            c = t(a, b, this.Z, this.aa),
            c = ea(this.ab, c),
            d = this.sk,
            c = new I(da(c, this.rk), da(c, d)),
            d = this.xa;
        this.xa = ub(ca(this.xa, c), this.qk);
        f(a, b, this.Z, this.aa, this.xa.x - d.x, this.xa.y - d.y)
    };
    var wb = B.FE = function(a, b, c, d, f) {
        ja.call(this, a, b);
        this.CB = c;
        this.DB = d;
        this.EB = ua(tb(ea(d, c)));
        this.nf = f;
        this.Xt = null;
        this.bi = 0;
        this.Z = this.aa = null;
        this.rk = new I(0, 0);
        this.sk =
            new I(0, 0);
        this.xa = pa;
        this.qk = 0;
        this.ab = null
    };
    wb.prototype = Object.create(ja.prototype);
    wb.prototype.Nd = function(a) {
        var b = this.u,
            c = this.M;
        if (!b.Ua() || !c.Ua()) {
            var d = b.Bu(this.CB),
                f = b.Bu(this.DB),
                e = xa(this.EB, b.lb),
                g = da(d, e);
            this.Xt = e;
            this.aa = xa(this.nf, c.lb);
            var h = Ca(ca(c.Aa, this.aa), e);
            h <= Ca(d, e) ? (this.bi = 1, this.Z = ea(d, b.Aa)) : h >= Ca(f, e) ? (this.bi = -1, this.Z = ea(f, b.Aa)) : (this.bi = 0, this.Z = ea(ca(Z(ua(e), -h), Z(e, g)), b.Aa));
            k(b, c, this.Z, this.aa, this.rk, this.sk);
            this.qk = this.zg * a;
            b = ea(ca(c.Aa, this.aa), ca(b.Aa,
                this.Z));
            this.ab = ub(Z(b, -(1 - Math.pow(this.gh, a)) / a), this.Gh)
        }
    };
    wb.prototype.Vd = function(a) {
        f(this.u, this.M, this.Z, this.aa, this.xa.x * a, this.xa.y * a)
    };
    wb.prototype.BB = function(a) {
        var b = this.Xt;
        a = 0 < this.bi * Ca(a, b) ? a : rd(a, b);
        return ub(a, this.qk)
    };
    wb.prototype.od = function() {
        var a = this.u,
            b = this.M,
            c = t(a, b, this.Z, this.aa),
            c = ea(this.ab, c),
            d = this.sk,
            c = new I(da(c, this.rk), da(c, d)),
            d = this.xa;
        this.xa = this.BB(ca(d, c));
        f(a, b, this.Z, this.aa, this.xa.x - d.x, this.xa.y - d.y)
    };
    var Tb = B.BE = function(a, b, c, d, f, e, g) {
        ja.call(this,
            a, b);
        this.Sg = c;
        this.nf = d;
        this.gD = f;
        this.Tr = e;
        this.Kj = g;
        this.DD = m;
        this.Vr = this.Tw = 0;
        this.Z = this.aa = null;
        this.Ae = 0;
        this.R = null
    };
    Tb.prototype = Object.create(ja.prototype);
    Tb.prototype.Nd = function(a) {
        var b = this.u,
            c = this.M;
        if (!b.Ua() || !c.Ua()) {
            this.Z = xa(this.Sg, b.lb);
            this.aa = xa(this.nf, c.lb);
            var d = ea(ca(c.Aa, this.aa), ca(b.Aa, this.Z)),
                e = fa(d);
            this.R = Z(d, 1 / (e ? e : Infinity));
            d = n(b, c, this.Z, this.aa, this.R);
            oa(0 !== d, "Unsolvable this.");
            this.Ae = 1 / d;
            this.Vr = 0;
            this.Tw = 1 - Math.exp(-this.Kj * a * d);
            e = this.DD(this, e);
            f(b,
                c, this.Z, this.aa, this.R.x * e * a, this.R.y * e * a)
        }
    };
    Tb.prototype.Vd = function() {};
    Tb.prototype.od = function() {
        var a = this.u,
            b = this.M,
            d = c(a, b, this.Z, this.aa, this.R),
            e = (this.Vr - d) * this.Tw;
        this.Vr = d + e;
        e *= this.Ae;
        f(a, b, this.Z, this.aa, this.R.x * e, this.R.y * e)
    };
    var oc = B.AE = function(a, b, c, d, f) {
        ja.call(this, a, b);
        this.fD = c;
        this.Tr = d;
        this.Kj = f;
        this.ED = e;
        this.rd = this.Vw = this.Wr = 0
    };
    oc.prototype = Object.create(ja.prototype);
    oc.prototype.Nd = function(a) {
        var b = this.u,
            c = this.M;
        if (!b.Ua() || !c.Ua()) {
            var d = b.wa + c.wa;
            oa(0 !== d, "Unsolvable spring.");
            this.rd = 1 / d;
            this.Vw = 1 - Math.exp(-this.Kj * a * d);
            this.Wr = 0;
            a = this.ED(this, b.u - c.u) * a;
            b.q -= a * b.wa;
            c.q += a * c.wa
        }
    };
    oc.prototype.od = function() {
        var a = this.u,
            b = this.M,
            c = a.q - b.q,
            d = (this.Wr - c) * this.Vw;
        this.Wr = c + d;
        c = d * this.rd;
        a.q += c * a.wa;
        b.q -= c * b.wa
    };
    var Ub = B.rF = function(a, b, c, d) {
        ja.call(this, a, b);
        this.min = c;
        this.max = d;
        this.rd = this.ab = this.vd = this.xa = 0
    };
    Ub.prototype = Object.create(ja.prototype);
    Ub.prototype.Nd = function(a) {
        var b = this.u,
            c = this.M;
        if (!b.Ua() || !c.Ua()) {
            var d = c.u - b.u,
                f = 0;
            d > this.max ? f = this.max - d : d < this.min &&
                (f = this.min - d);
            this.rd = 1 / (1 / b.S + 1 / c.S);
            b = this.Gh;
            this.ab = J(-(1 - Math.pow(this.gh, a)) * f / a, -b, b);
            this.vd = this.zg * a;
            this.ab || (this.xa = 0)
        }
    };
    Ub.prototype.Vd = function(a) {
        var b = this.u,
            c = this.M;
        a = this.xa * a;
        b.q -= a * b.wa;
        c.q += a * c.wa
    };
    Ub.prototype.od = function() {
        if (this.ab) {
            var a = this.u,
                b = this.M,
                c = -(this.ab + (b.q - a.q)) * this.rd,
                d = this.xa;
            this.xa = 0 > this.ab ? J(d + c, 0, this.vd) : J(d + c, -this.vd, 0);
            c = this.xa - d;
            a.q -= c * a.wa;
            b.q += c * b.wa
        }
    };
    var Vb = B.oF = function(a, b, c, d) {
        ja.call(this, a, b);
        this.j = 0;
        this.lr = c;
        this.Mv = d;
        this.j = (b ?
            b.u : 0) - (a ? a.u : 0);
        this.rd = this.ab = this.xa = this.vd = 0
    };
    Vb.prototype = Object.create(ja.prototype);
    Vb.prototype.Nd = function(a) {
        var b = this.u,
            c = this.M;
        if (!b.Ua() || !c.Ua()) {
            var d = this.lr,
                f = this.Mv,
                e = c.u - b.u,
                g = this.j - e,
                h = 0;
            0 < g * f ? h = g : this.j = Math.floor((e - d) / f) * f + d;
            this.rd = 1 / (b.wa + c.wa);
            b = this.Gh;
            this.ab = J(-(1 - Math.pow(this.gh, a)) * h / a, -b, b);
            this.vd = this.zg * a;
            this.ab || (this.xa = 0)
        }
    };
    Vb.prototype.Vd = function(a) {
        var b = this.u,
            c = this.M;
        a = this.xa * a;
        b.q -= a * b.wa;
        c.q += a * c.wa
    };
    Vb.prototype.od = function() {
        if (this.ab) {
            var a =
                this.u,
                b = this.M,
                c = this.Mv,
                d = -(this.ab + (b.q - a.q)) * this.rd,
                f = this.xa;
            this.xa = J((f + d) * c, 0, this.vd * Math.abs(c)) / c;
            d = this.xa - f;
            a.q -= d * a.wa;
            b.q += d * b.wa
        }
    };
    var Wb = B.EE = function(a, b, c, d) {
        ja.call(this, a, b);
        this.lr = c;
        this.Hg = d;
        this.sr = 1 / d;
        this.rd = this.ab = this.vd = this.xa = 0
    };
    Wb.prototype = Object.create(ja.prototype);
    Wb.prototype.Nd = function(a) {
        var b = this.u,
            c = this.M;
        if (!b.Ua() || !c.Ua()) {
            this.rd = 1 / (b.wa * this.sr + this.Hg * c.wa);
            var d = this.Gh;
            this.ab = J(-(1 - Math.pow(this.gh, a)) * (c.u * this.Hg - b.u - this.lr) / a, -d, d);
            this.vd =
                this.zg * a
        }
    };
    Wb.prototype.Vd = function(a) {
        var b = this.u,
            c = this.M;
        a = this.xa * a;
        b.q -= a * b.wa * this.sr;
        c.q += a * c.wa
    };
    Wb.prototype.od = function() {
        var a = this.u,
            b = this.M,
            c = (this.ab - (b.q * this.Hg - a.q)) * this.rd,
            d = this.xa;
        this.xa = J(d + c, -this.vd, this.vd);
        c = this.xa - d;
        a.q -= c * a.wa * this.sr;
        b.q += c * b.wa
    };
    var Xb = B.QF = function(a, b, c) {
        ja.call(this, a, b);
        this.Xi = c;
        this.rd = this.vd = this.xa = 0
    };
    Xb.prototype = Object.create(ja.prototype);
    Xb.prototype.Nd = function(a) {
        this.rd = 1 / (this.u.wa + this.M.wa);
        this.vd = this.zg * a
    };
    Xb.prototype.Vd = function(a) {
        var b =
            this.u,
            c = this.M;
        a = this.xa * a;
        b.q -= a * b.wa;
        c.q += a * c.wa
    };
    Xb.prototype.od = function() {
        var a = this.u,
            b = this.M,
            c = -(b.q - a.q + this.Xi) * this.rd,
            d = this.xa;
        this.xa = J(d + c, -this.vd, this.vd);
        c = this.xa - d;
        a.q -= c * a.wa;
        b.q += c * b.wa
    }
})();

function jd(e) {
    var m = e[1],
        k = e[2];
    e = cp.D.sub(m, e[0]);
    m = cp.D.sub(k, m);
    return 0 > cp.D.Kz(e, m)
}

function kd(e) {
    this.b = e;
    var m = this.ea = new cp.Ry;
    m.gz(function(k) {
        if (k.tq()) {
            var m = k.Lt().body.Pe,
                b = k.Ot().body.Pe;
            m.Sf = k;
            m.po = !1;
            b.Sf = k;
            b.po = !0;
            e.trigger(kd.prototype.e.qv, m.c);
            e.trigger(kd.prototype.e.qv, b.c);
            m.Sf = null;
            b.Sf = null
        }
        return "ignore" !== k.state
    }, function(k) {
        if (k.tq()) {
            var m = k.Lt().body.Pe,
                b = k.Ot().body.Pe;
            m.Sf = k;
            m.po = !1;
            b.Sf = k;
            b.po = !0;
            e.trigger(kd.prototype.e.pv, m.c);
            e.trigger(kd.prototype.e.pv, b.c);
            m.Sf = null;
            b.Sf = null
        }
        return !0
    });
    m.aq = cp.D(0, 100);
    m.WA = 1 / 30;
    m.HD = 0;
    m.ol = 1
}
(function() {
    function e(b) {
        this.b.trigger(kd.prototype.e.vC, b.Pe.c)
    }

    function m() {}

    function k() {}

    function n() {}
    var b = kd.prototype;
    b.Fa = function(b) {
        this.behavior = b;
        this.b = b.b
    };
    b.Fa.prototype.Y = function() {
        this.behavior.ru = -1;
        this.behavior.hl = []
    };
    b.ua = function(b, a) {
        this.type = b;
        this.behavior = b.behavior;
        this.c = a;
        this.b = b.b;
        this.ea = this.behavior.ea
    };
    var q = b.ua.prototype;
    q.SD = function() {
        if (0 !== this.Se && 2 !== this.Se && 4 !== this.Se) {
            var b = this.c,
                a = [];
            b.Wa();
            b.gG(a);
            var c, e, d, h, b = 0;
            for (c = a.length; b < c; ++b)
                if (e = a[b],
                    d = e.WC, e.Fg && 3 === this.Se)
                    for (e.Fg.pt || (h = e.id & 3758096384, e.Fg.pt = this.Qt(e.Fg, -2147483648 === h || 1073741824 === h || 536870912 === h || h & -2147483648 && h & 1073741824 && h & 536870912)), h = cp.D(d.left, d.top), e = e.Fg.pt, d = 0; d < e.length; ++d) this.Zb.push(new cp.Ro(this.body, e[d], h));
                else h = cp.D(0, 0), this.Zb.push(new cp.Ro(this.body, [d.left, d.top, d.left, d.bottom, d.right, d.bottom, d.right, d.top], h));
            b = 0;
            for (c = this.Zb.length; b < c; ++b) a = this.Zb[b], a.group = this.op, a.T = this.pp, a.bo(this.Oj), a.co(this.Tj), this.enabled && this.ea.Xh(a)
        }
    };
    q.Qt = function(b, a) {
        var c = b.Ib,
            e = b.le,
            d = [];
        d.length = e;
        for (v = 0; v < e; v++) d[v] = cp.D(c[2 * v], c[2 * v + 1]);
        a && d.reverse();
        c = d.slice(0);
        v = [];
        for (e = 0; 3 <= c.length;) {
            var d = [c[e], c[(e + 1) % c.length], c[(e + 2) % c.length]],
                h;
            if (!(h = jd(d))) a: {
                h = c;
                for (var k = d, g = void 0, g = void 0, m = 0; m < h.length; ++m)
                    if (g = h[m], -1 == k.indexOf(g)) {
                        var n = k[0],
                            q = k[1],
                            p = cp.D.sub(k[2], n),
                            q = cp.D.sub(q, n),
                            r = cp.D.sub(g, n),
                            g = cp.D.Mj(p, p),
                            n = cp.D.Mj(p, q),
                            p = cp.D.Mj(p, r),
                            G = cp.D.Mj(q, q),
                            q = cp.D.Mj(q, r),
                            r = 1 / (g * G - n * n),
                            G = (G * p - n * q) * r,
                            g = (g * q - n * p) * r;
                        if (g = 0 <= G && 0 <= g &&
                            1 > G + g) {
                            h = !0;
                            break a
                        }
                    }
                h = !1
            }
            h ? e++ : (c.splice((e + 1) % c.length, 1), v.push(d));
            e %= c.length
        }
        for (c = []; 0 < v.length;) {
            e = v[0];
            v.shift();
            for (d = 0; d < v.length; d++) {
                h = e;
                g = v[d];
                k = void 0;
                n = 0;
                q = m = void 0;
                for (k = 0; 3 > k; k++) - 1 == h.indexOf(g[k]) ? (m = g[k], q = g[(k + 1) % 3]) : n++;
                2 != n ? h = !1 : (k = h.indexOf(q), g = h.length, jd([h[(k - 2 + g) % g], h[(k - 1 + g) % g], m]) || jd([m, h[k], h[(k + 1) % g]]) ? h = !1 : (h.splice(k, 0, m), h = !0));
                h && (v.splice(d, 1), d = -1)
            }
            c.push(e)
        }
        for (var e = [], v = 0; v < c.length; ++v) {
            d = c[v].reverse();
            h = [];
            h.length = 2 * d.length;
            for (k = 0; k < d.length; ++k) h[2 *
                k] = d[k].x, h[2 * k + 1] = d[k].y;
            e.push(h)
        }
        return e
    };
    q.RD = function() {
        var b = this.Zb;
        if (this.enabled)
            for (var a = 0, c = b.length; a < c; a++) this.ea.Zi(b[a]);
        b.length = 0;
        this.sj(this.body);
        if (this.c.Fe) this.Ge = 0, this.SD(), this.tn = !0, this.body.jl(Infinity);
        else {
            c = this.Se;
            3 != c || this.c.za && !this.c.za.vh() || (c = 1);
            var a = Math.abs(this.c.width),
                e = Math.abs(this.c.height);
            switch (c) {
                case 0:
                    this.Jc = 1;
                    break;
                case 1:
                    this.Jc = cp.Wu(this.Jd, a, e);
                    b.push(new cp.ax(this.body, a, e));
                    break;
                case 2:
                    this.Jc = cp.Xu(this.Jd, a / 2);
                    b.push(new cp.cx(this.body,
                        e / 2, cp.D(0, 0)));
                    break;
                case 3:
                    this.c.za.Zg(this.c.width, this.c.height, 0);
                    c = this.Qt(this.c.za, 0 > this.c.width != 0 > this.c.height);
                    for (a = this.Ge = 0; a < c.length; ++a) e = new cp.Ro(this.body, c[a], this.offset), e.Ql = cp.bp(c[a]), this.Ge += e.Ql, b.push(e);
                    for (var e = 0, d, a = 0; a < b.length; ++a) d = b[a].Ql / this.Ge, e += cp.Vq(d * this.Jd, c[a], this.offset);
                    this.Jc = e;
                    break;
                case 4:
                    e = 0, 0 > this.Bp && (e = -this.Bp), c = cp.D(-a / 2 + e, 0), a = cp.D(a / 2 - e, 0), this.Jc = cp.Yu(this.Jd, c, a), b.push(new cp.Ay(this.body, c, a, Math.abs(this.Bp)))
            }
            0 >= this.Jc && (this.Jc =
                1);
            this.ti || this.tn ? this.body.jl(Infinity) : this.body.jl(this.Jc);
            this.body.Ua() || this.body.cc();
            for (a = 0; a < b.length; ++a) e = b[a], e.group = this.op, e.T = this.pp, e.bo(this.Oj), e.co(this.Tj), this.enabled && this.ea.Xh(e)
        }
    };
    q.Y = function() {
        this.ti = 1 == this.K[0];
        this.Se = this.K[1];
        this.op = this.K[2];
        this.pp = parseInt(this.K[3], 16);
        this.Jd = this.K[4];
        this.Jc = 1;
        this.Oj = this.K[5];
        this.Tj = this.K[6];
        this.enabled = 0 == this.K[7];
        this.Bp = this.K[8];
        this.tn = 1 == this.K[9];
        this.rq = !0;
        this.Do = !1;
        this.offset = cp.D(0, 0);
        this.bn = this.dn =
            this.vu = this.uu = this.Dq = this.Fq = this.Eq = 0;
        this.su = null;
        this.tu = -1;
        this.Sf = null;
        this.po = !1;
        this.Ge = 0;
        var b;
        this.ti ? (b = this.body = new cp.qs(Infinity, Infinity), this.enabled && this.behavior.hl.push(b), b.Ag = Infinity) : (b = this.body = new cp.qs(this.Jd, 1), this.enabled && this.ea.Ps(b));
        b.Xw = !1;
        b.Pe = this;
        this.c.yz = b;
        this.Zb = []
    };
    q.Iv = function() {
        this.kp(this.body)
    };
    q.Cg = function() {
        if (this.enabled)
            for (var b = 0; b < this.Zb.length; b++) this.ea.Zi(this.Zb[b]);
        this.Zb.length = 0;
        var a = this;
        this.body.tm(function(b) {
            a.ea.el(b)
        });
        this.body.Ua() ? Wa(this.behavior.hl, this.body) : this.ea.Qv(this.body)
    };
    q.Uc = function() {
        return {}
    };
    q.xd = function() {};
    q.sj = function(b) {
        var a = b.Pe,
            c = a.c,
            e = !1;
        c.Wa();
        if (a.dn !== c.width || a.bn !== c.height) e = !0, a.rq = !0, a.dn = c.width, a.bn = c.height;
        if (e || a.Eq !== c.x || a.Fq !== c.y || a.Dq !== c.j || a.uu !== c.gc || a.vu !== c.hc) c.Fe ? b.ew(cp.D(c.x, c.y)) : (a.offset = cp.D((c.gc - .5) * c.width, (c.hc - .5) * c.height), b.Yv(c.j), b.ew(cp.D.sub(cp.D(c.x, c.y), cp.D.rotate(a.offset, b.lb)))), b.Rc() && (a.Do = !0, b.Os()), a.Eq = c.x, a.Fq = c.y, a.Dq = c.j, a.uu =
            c.gc, a.vu = c.hc
    };
    q.Qw = function(b) {
        var a = b.Pe,
            c = a.c;
        b.Xw && (b.eD(), b.Xw = !1);
        if (!b.Ua()) {
            a.sj(b);
            var e = cp.D.add(b.Aa, cp.D.rotate(a.offset, b.lb));
            a.Eq = c.x = e.x;
            a.Fq = c.y = e.y;
            a.Dq = c.j = b.Sb();
            c.eb()
        }
    };
    q.kp = function(b) {
        b = b.Pe;
        if (b.enabled) {
            if (b.rq || b.c.Fe && b.c.FC || b.dn !== b.c.width || 4 !== b.Se && b.bn !== b.c.height || 3 === b.Se && (b.su !== b.c.bb || b.tu !== b.c.O)) b.RD(), b.c.Fe && (b.c.FC = !1), b.dn = b.c.width, b.bn = b.c.height, b.su = b.c.bb, b.tu = b.c.O, b.rq = !1, b.Do = !1;
            if (b.Do) {
                for (var a = 0, c = b.Zb.length; a < c; a++) b.ea.ZC(b.Zb[a]);
                b.Do = !1
            }
        }
    };
    q.tb = function() {
        var b = this.b.Qh;
        if (this.b.Nf > this.behavior.ru && 0 < b) {
            this.ea.Ap(e, this);
            this.behavior.hl.forEach(this.sj);
            this.ea.Ap(this.sj);
            this.behavior.hl.forEach(this.kp);
            this.ea.Yf.forEach(this.kp);
            this.ea.HD ? this.ea.step(this.b.Vj(this.c)) : this.ea.step(this.ea.WA * b);
            for (var b = this.ea.ad, a = 0, c = b.length / 2; a < c; a++) b[2 * a].call(this.ea, b[2 * a + 1]);
            b.length = 0;
            this.ea.Ap(this.Qw);
            this.behavior.hl.forEach(this.Qw);
            this.behavior.ru = this.b.Nf
        }
    };
    q.zq = function(b) {
        var a = null,
            c = 0;
        "string" == typeof b ? this.body.tm(function(c) {
            c.tag ===
                b && (a = c)
        }) : this.body.tm(function(e) {
            b === c && (a = e);
            c++
        });
        return a
    };
    m.prototype.Bf = function() {
        return this.body.Bf()
    };
    m.prototype.vC = function() {
        return !0
    };
    m.prototype.pv = function() {
        return !0
    };
    m.prototype.qv = function() {
        return !0
    };
    b.e = new m;
    q.mB = function(b, a, c) {
        var e;
        switch (b) {
            case 0:
                e = cp.D(a, c);
                break;
            case 1:
                a = Ya(a);
                e = cp.D(c * Math.cos(a), c * Math.sin(a));
                break;
            case 2:
                e = (void 0).Ko(cp.D(a, c));
                break;
            case 3:
                if (!(void 0).Pe) {
                    e = cp.D(0, 0);
                    break
                }
                b = (void 0).Pe.c;
                b.Wa();
                c = a;
                b.lg && -1 !== c ? (a = b.lg(c, !0), c = b.lg(c, !1), e = (void 0).Ko(cp.D(a,
                    c))) : e = cp.D(0, 0)
        }
        return e
    };
    k.prototype.AD = function(b, a, c) {
        this.body.zD(this.mB(b, a, c))
    };
    k.prototype.eo = function(b) {
        this.Jd = b;
        if (this.c.Fe) this.ti || this.body.eo(this.Jd);
        else {
            b = this.Zb[0];
            switch (this.Se) {
                case 0:
                    this.Jc = 1;
                    break;
                case 1:
                    this.Jc = cp.Vq(this.Jd, b.yj, cp.D(0, 0));
                    break;
                case 2:
                    this.Jc = cp.Xu(this.Jd, b.Na);
                    break;
                case 3:
                    b = 0;
                    for (var a, c = 0; c < this.Zb.length; ++c) a = shapes[c].Ql / this.Ge, b += cp.Vq(a * this.Jd, polys[c], this.offset);
                    this.Jc = b;
                    break;
                case 4:
                    this.Jc = cp.Yu(this.Jd, b.u, b.M)
            }
            0 >= this.Jc && (this.Jc =
                1);
            this.ti || (this.body.eo(this.Jd), this.tn || this.body.jl(this.Jc))
        }
    };
    k.prototype.co = function(b) {
        this.Tj = b;
        for (var a = 0; a < this.Zb.length; a++) this.Zb[a].co(b)
    };
    k.prototype.bo = function(b) {
        this.Oj = b;
        for (var a = 0; a < this.Zb.length; a++) this.Zb[a].bo(b)
    };
    q.Ye = function(b, a) {
        this.sj(b);
        var c;
        if (-1 == a) c = this.ea.sw;
        else {
            c = this.b.oi(a);
            if (!c) return null;
            c = c.yz;
            this.sj(c)
        }
        return c && b != c ? c : null
    };
    b.B = new k;
    n.prototype.speed = function(b) {
        var a = this.body.Bc,
            c = this.body.Cc;
        b.A(Math.sqrt(a * a + c * c))
    };
    n.prototype.group = function(b) {
        b.Za(this.op)
    };
    n.prototype.T = function(b) {
        b.Za(this.pp)
    };
    n.prototype.Jd = function(b) {
        this.ti ? b.A(Infinity) : b.A(this.body.Ji)
    };
    n.prototype.Jc = function(b) {
        this.ti || this.tn ? b.A(Infinity) : b.A(this.body.S)
    };
    n.prototype.Oj = function(b) {
        b.A(this.Oj)
    };
    n.prototype.Tj = function(b) {
        b.A(this.Tj)
    };
    n.prototype.Ql = function(b) {
        if (this.c.Fe || 3 === this.Se) {
            if (!this.Ge)
                for (var a = 0; a < this.Zb.length; ++a) this.Ge += cp.bp(this.Zb[a].yj);
            b.A(this.Ge)
        } else if (0 == this.Zb.length) b.A(0);
        else {
            var c = this.Zb[0];
            switch (this.Se) {
                case 0:
                    a = 0;
                    break;
                case 1:
                    a =
                        cp.bp(c.yj);
                    break;
                case 3:
                    a = this.Ge;
                    break;
                case 2:
                    a = cp.mz(c.Na);
                    break;
                case 4:
                    a = cp.nz(c.u, c.M, c.Na)
            }
            b.A(a)
        }
    };
    n.prototype.ol = function(b) {
        b.A(this.ea.ol)
    };
    n.prototype.jq = function(b) {
        b.A(this.ea.jq)
    };
    b.Da = new n
})();

function qd(e) {
    this.b = e
}
(function() {
    var e = qd.prototype;
    e.Fa = function(e) {
        this.behavior = e;
        this.b = e.b
    };
    e.Fa.prototype.Y = function() {};
    e.ua = function(e, m) {
        this.type = e;
        this.behavior = e.behavior;
        this.c = m;
        this.b = e.b
    };
    var m = e.ua.prototype;
    m.Y = function() {
        this.c.U.solidEnabled = 0 !== this.K[0]
    };
    m.tb = function() {};
    e.e = new function() {};
    e.B = new function() {}
})();

function Vc() {
    return [Zc, $c, Yc, ad, cd, Xc, bd, Wc, dd, ed, fd, gd, id, kd, qd, hd, U.prototype.e.yx, U.prototype.e.ts, U.prototype.e.Yy, Xc.prototype.B.CallFunction, gd.prototype.e.Ix, gd.prototype.e.jx, Wc.prototype.B.Ey, U.prototype.e.rs, U.prototype.B.Oy, gd.prototype.Da.Jx, dd.prototype.B.Ny, Wc.prototype.B.Ly, U.prototype.e.Bx, U.prototype.e.kx, fd.prototype.e.Dx, fd.prototype.e.zx, U.prototype.e.Gx, U.prototype.B.Iy, Wc.prototype.B.Cy, dd.prototype.B.Uo, Wc.prototype.B.Uo, Wc.prototype.B.Fs, bd.prototype.B.Oo, Wc.prototype.B.Oo,
        Wc.prototype.B.To, Wc.prototype.e.ss, fd.prototype.e.Qo, Xc.prototype.e.Hl, id.prototype.B.Kl, id.prototype.B.Hs, U.prototype.B.Zy, Wc.prototype.e.wx, Zc.prototype.B.Play, Zc.prototype.B.Jy, ad.prototype.B.BC, $c.prototype.B.tx, Yc.prototype.B.Vo, cd.prototype.B.Qy, Wc.prototype.e.Ex, fd.prototype.e.zs, dd.prototype.e.ss, dd.prototype.B.So, dd.prototype.B.To, U.prototype.e.hx, dd.prototype.Da.Ll, U.prototype.Da.$D, U.prototype.Da.aE, id.prototype.B.Es, gd.prototype.B.Uy, Zc.prototype.B.Kl, cd.prototype.B.Kx, U.prototype.B.Yw,
        U.prototype.B.Vy, cd.prototype.e.Ax, cd.prototype.B.Wy, hd.prototype.B.zy, id.prototype.B.Gy, id.prototype.B.Ds, U.prototype.B.Hy, Wc.prototype.e.ix, Wc.prototype.Da.Ll, Wc.prototype.Da.Js, Wc.prototype.B.bz, U.prototype.e.ox, Wc.prototype.e.Cx, Wc.prototype.B.Sy, dd.prototype.e.Cs, dd.prototype.B.Oo, Wc.prototype.e.Cs, Wc.prototype.B.Dy, Wc.prototype.B.So, ed.prototype.B.Fs, ed.prototype.Da.Is, Wc.prototype.B.Ky, ed.prototype.B.Uo, U.prototype.e.nx, U.prototype.B.lx, U.prototype.Da.random, kd.prototype.B.AD, Wc.prototype.e.Ox,
        bd.prototype.B.By, fd.prototype.Da.Ll, Wc.prototype.Da.Is, U.prototype.Da.gg, Wc.prototype.B.Gs, Wc.prototype.Da.ux, ed.prototype.B.To, U.prototype.Da.it, ed.prototype.B.So
    ]
};