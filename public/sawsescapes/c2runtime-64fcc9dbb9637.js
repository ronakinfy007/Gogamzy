// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';
var aa, ea, ma, na, ra, sa, ta, ua, wa, xa, za, Aa, Ba, Fa, Ga, Ha, Ja, Ka, La, Ma, Na, Oa, Pa, y, Ra, Sa, Ta, Wa, Xa, Ya, Za, $a, ab, cb, db, eb, fb, gb, hb, ib, jb, kb, lb, mb, nb, ob, pb, qb, rb, sb, tb, ub, vb, Ab, Bb, Cb, Db, Eb, Fb, Gb, Hb, Ib, Jb, Kb, Lb, Mb, Nb, Pb, ac, bc, cc, dc, ec, fc, gc, hc, ic, jc, kc, qc, rc, sc, tc, uc, vc, wc, xc, yc, zc, Ac, Bc, Cc, Dc, Ec, Fc, Gc, Hc, Ic, Jc, Kc, Lc, Mc, Nc = {};
"function" !== typeof Object.getPrototypeOf && (Object.getPrototypeOf = "object" === typeof "test".__proto__ ? function(f) {
    return f.__proto__
} : function(f) {
    return f.constructor.prototype
});
(function() {
    function f(a, b, d, g) {
        this.set(a, b, d, g)
    }

    function m() {
        this.Bb = this.Ab = this.Db = this.Cb = this.Jb = this.Ib = this.lb = this.kb = 0
    }

    function k(a, b, d, g) {
        a < b ? d < g ? (N = a < d ? a : d, O = b > g ? b : g) : (N = a < g ? a : g, O = b > d ? b : d) : d < g ? (N = b < d ? b : d, O = a > g ? a : g) : (N = b < g ? b : g, O = a > d ? a : d)
    }

    function p() {
        this.items = this.qf = null;
        this.Pk = 0;
        B && (this.qf = new Set);
        this.Tj = [];
        this.sg = !0
    }

    function c(a) {
        w[H++] = a
    }

    function t() {
        this.Fa = this.Pc = this.y = this.ck = 0
    }

    function e(a) {
        this.Sb = [];
        this.ym = this.Am = this.Bm = this.zm = 0;
        this.Rl(a)
    }

    function d(a, b) {
        this.Ip =
            a;
        this.Hp = b;
        this.cells = {}
    }

    function b(a, b) {
        this.Ip = a;
        this.Hp = b;
        this.cells = {}
    }

    function h(a, b, d) {
        var g;
        return E.length ? (g = E.pop(), g.Cq = a, g.x = b, g.y = d, g) : new ea(a, b, d)
    }

    function a(a, b, d) {
        this.Cq = a;
        this.x = b;
        this.y = d;
        this.oc = new ma
    }

    function g(a, b, d) {
        var g;
        return z.length ? (g = z.pop(), g.Cq = a, g.x = b, g.y = d, g) : new na(a, b, d)
    }

    function q(a, b, d) {
        this.Cq = a;
        this.x = b;
        this.y = d;
        this.oc = [];
        this.Yi = !0;
        this.of = new ma;
        this.$j = !1
    }

    function l(a, b) {
        return a.Xe - b.Xe
    }
    ra = function(a) {
        window.console && window.console.log && window.console.log(a)
    };
    sa = function(a) {
        window.console && window.console.error && window.console.error(a)
    };
    aa = function(a) {
        return a
    };
    ta = function(a) {
        return "undefined" === typeof a
    };
    ua = function(a) {
        return "number" === typeof a
    };
    wa = function(a) {
        return "string" === typeof a
    };
    xa = function(a) {
        return 0 < a && 0 === (a - 1 & a)
    };
    za = function(a) {
        --a;
        for (var b = 1; 32 > b; b <<= 1) a = a | a >> b;
        return a + 1
    };
    Aa = function(a) {
        return 0 > a ? -a : a
    };
    Ba = function(a, b) {
        return a > b ? a : b
    };
    Fa = function(a, b) {
        return a < b ? a : b
    };
    Ga = Math.PI;
    Ha = function(a) {
        return 0 <= a ? a | 0 : (a | 0) - 1
    };
    Ja = function(a) {
        var b =
            a | 0;
        return b === a ? b : b + 1
    };
    Ka = function(a, b, d, g, h, c, l, v) {
        var q, n, e, u;
        a < d ? (n = a, q = d) : (n = d, q = a);
        h < l ? (u = h, e = l) : (u = l, e = h);
        if (q < u || n > e) return !1;
        b < g ? (n = b, q = g) : (n = g, q = b);
        c < v ? (u = c, e = v) : (u = v, e = c);
        if (q < u || n > e) return !1;
        q = h - a + l - d;
        n = c - b + v - g;
        a = d - a;
        b = g - b;
        h = l - h;
        c = v - c;
        v = Aa(b * h - c * a);
        return Aa(h * n - c * q) > v ? !1 : Aa(a * n - b * q) <= v
    };
    f.prototype.set = function(a, b, d, g) {
        this.left = a;
        this.top = b;
        this.right = d;
        this.bottom = g
    };
    f.prototype.Fi = function(a) {
        this.left = a.left;
        this.top = a.top;
        this.right = a.right;
        this.bottom = a.bottom
    };
    f.prototype.width =
        function() {
            return this.right - this.left
        };
    f.prototype.height = function() {
        return this.bottom - this.top
    };
    f.prototype.offset = function(a, b) {
        this.left += a;
        this.top += b;
        this.right += a;
        this.bottom += b;
        return this
    };
    f.prototype.normalize = function() {
        var a = 0;
        this.left > this.right && (a = this.left, this.left = this.right, this.right = a);
        this.top > this.bottom && (a = this.top, this.top = this.bottom, this.bottom = a)
    };
    f.prototype.FC = function(a) {
        return !(a.right < this.left || a.bottom < this.top || a.left > this.right || a.top > this.bottom)
    };
    f.prototype.GC =
        function(a, b, d) {
            return !(a.right + b < this.left || a.bottom + d < this.top || a.left + b > this.right || a.top + d > this.bottom)
        };
    f.prototype.Fc = function(a, b) {
        return a >= this.left && a <= this.right && b >= this.top && b <= this.bottom
    };
    f.prototype.pk = function(a) {
        return this.left === a.left && this.top === a.top && this.right === a.right && this.bottom === a.bottom
    };
    La = f;
    m.prototype.Ql = function(a) {
        this.kb = a.left;
        this.lb = a.top;
        this.Ib = a.right;
        this.Jb = a.top;
        this.Cb = a.right;
        this.Db = a.bottom;
        this.Ab = a.left;
        this.Bb = a.bottom
    };
    m.prototype.Uw = function(a,
        b) {
        if (0 === b) this.Ql(a);
        else {
            var d = Math.sin(b),
                g = Math.cos(b),
                h = a.left * d,
                c = a.top * d,
                l = a.right * d,
                d = a.bottom * d,
                v = a.left * g,
                q = a.top * g,
                n = a.right * g,
                g = a.bottom * g;
            this.kb = v - c;
            this.lb = q + h;
            this.Ib = n - c;
            this.Jb = q + l;
            this.Cb = n - d;
            this.Db = g + l;
            this.Ab = v - d;
            this.Bb = g + h
        }
    };
    m.prototype.offset = function(a, b) {
        this.kb += a;
        this.lb += b;
        this.Ib += a;
        this.Jb += b;
        this.Cb += a;
        this.Db += b;
        this.Ab += a;
        this.Bb += b;
        return this
    };
    var N = 0,
        O = 0;
    m.prototype.Jt = function(a) {
        k(this.kb, this.Ib, this.Cb, this.Ab);
        a.left = N;
        a.right = O;
        k(this.lb, this.Jb, this.Db,
            this.Bb);
        a.top = N;
        a.bottom = O
    };
    m.prototype.Fc = function(a, b) {
        var d = this.kb,
            g = this.lb,
            h = this.Ib - d,
            c = this.Jb - g,
            l = this.Cb - d,
            v = this.Db - g,
            q = a - d,
            n = b - g,
            e = h * h + c * c,
            u = h * l + c * v,
            c = h * q + c * n,
            f = l * l + v * v,
            w = l * q + v * n,
            r = 1 / (e * f - u * u),
            h = (f * c - u * w) * r,
            e = (e * w - u * c) * r;
        if (0 <= h && 0 < e && 1 > h + e) return !0;
        h = this.Ab - d;
        c = this.Bb - g;
        e = h * h + c * c;
        u = h * l + c * v;
        c = h * q + c * n;
        r = 1 / (e * f - u * u);
        h = (f * c - u * w) * r;
        e = (e * w - u * c) * r;
        return 0 <= h && 0 < e && 1 > h + e
    };
    m.prototype.pg = function(a, b) {
        if (b) switch (a) {
            case 0:
                return this.kb;
            case 1:
                return this.Ib;
            case 2:
                return this.Cb;
            case 3:
                return this.Ab;
            case 4:
                return this.kb;
            default:
                return this.kb
        } else switch (a) {
            case 0:
                return this.lb;
            case 1:
                return this.Jb;
            case 2:
                return this.Db;
            case 3:
                return this.Bb;
            case 4:
                return this.lb;
            default:
                return this.lb
        }
    };
    m.prototype.Bv = function() {
        return (this.kb + this.Ib + this.Cb + this.Ab) / 4
    };
    m.prototype.Cv = function() {
        return (this.lb + this.Jb + this.Db + this.Bb) / 4
    };
    m.prototype.Mu = function(a) {
        var b = a.Bv(),
            d = a.Cv();
        if (this.Fc(b, d)) return !0;
        b = this.Bv();
        d = this.Cv();
        if (a.Fc(b, d)) return !0;
        var g, h, c, l, v, q, n, e;
        for (n = 0; 4 > n; n++)
            for (e = 0; 4 > e; e++)
                if (b =
                    this.pg(n, !0), d = this.pg(n, !1), g = this.pg(n + 1, !0), h = this.pg(n + 1, !1), c = a.pg(e, !0), l = a.pg(e, !1), v = a.pg(e + 1, !0), q = a.pg(e + 1, !1), Ka(b, d, g, h, c, l, v, q)) return !0;
        return !1
    };
    Ma = m;
    Na = function(a, b) {
        for (var d in b) b.hasOwnProperty(d) && (a[d] = b[d]);
        return a
    };
    Oa = function(a, b) {
        var d, g;
        b = Ha(b);
        if (!(0 > b || b >= a.length)) {
            d = b;
            for (g = a.length - 1; d < g; d++) a[d] = a[d + 1];
            Pa(a, g)
        }
    };
    Pa = function(a, b) {
        a.length = b
    };
    y = function(a) {
        Pa(a, 0)
    };
    Ra = function(a, b) {
        y(a);
        var d, g;
        d = 0;
        for (g = b.length; d < g; ++d) a[d] = b[d]
    };
    Sa = function(a, b) {
        a.push.apply(a,
            b)
    };
    Ta = function(a, b) {
        var d, g;
        d = 0;
        for (g = a.length; d < g; ++d)
            if (a[d] === b) return d;
        return -1
    };
    Wa = function(a, b) {
        var d = Ta(a, b); - 1 !== d && Oa(a, d)
    };
    Xa = function(a, b, d) {
        return a < b ? b : a > d ? d : a
    };
    Ya = function(a) {
        return a / (180 / Ga)
    };
    Za = function(a) {
        return 180 / Ga * a
    };
    $a = function(a) {
        a %= 360;
        0 > a && (a += 360);
        return a
    };
    ab = function(a) {
        a %= 2 * Ga;
        0 > a && (a += 2 * Ga);
        return a
    };
    cb = function(a) {
        return $a(Za(a))
    };
    db = function(a) {
        return ab(Ya(a))
    };
    eb = function(a, b, d, g) {
        return Math.atan2(g - b, d - a)
    };
    fb = function(a, b) {
        if (a === b) return 0;
        var d = Math.sin(a),
            g = Math.cos(a),
            h = Math.sin(b),
            c = Math.cos(b),
            d = d * h + g * c;
        return 1 <= d ? 0 : -1 >= d ? Ga : Math.acos(d)
    };
    gb = function(a, b, d) {
        var g = Math.sin(a),
            h = Math.cos(a),
            c = Math.sin(b),
            l = Math.cos(b);
        return Math.acos(g * c + h * l) > d ? 0 < h * c - g * l ? ab(a + d) : ab(a - d) : ab(b)
    };
    hb = function(a, b) {
        var d = Math.sin(a),
            g = Math.cos(a),
            h = Math.sin(b),
            c = Math.cos(b);
        return 0 >= g * h - d * c
    };
    ib = function(a, b, d, g, h, c) {
        if (0 === d) return c ? a : b;
        var l = Math.sin(d);
        d = Math.cos(d);
        a -= g;
        b -= h;
        var v = a * l;
        a = a * d - b * l;
        b = b * d + v;
        return c ? a + g : b + h
    };
    jb = function(a, b, d, g) {
        a = d - a;
        b = g - b;
        return Math.sqrt(a *
            a + b * b)
    };
    kb = function(a, b) {
        return !a !== !b
    };
    lb = function(a) {
        for (var b in a)
            if (a.hasOwnProperty(b)) return !0;
        return !1
    };
    mb = function(a) {
        for (var b in a) a.hasOwnProperty(b) && delete a[b]
    };
    var r = +new Date;
    nb = function() {
        if ("undefined" !== typeof window.performance) {
            var a = window.performance;
            if ("undefined" !== typeof a.now) return a.now();
            if ("undefined" !== typeof a.webkitNow) return a.webkitNow();
            if ("undefined" !== typeof a.mozNow) return a.mozNow();
            if ("undefined" !== typeof a.msNow) return a.msNow()
        }
        return Date.now() - r
    };
    var n = !1,
        u = n = !1,
        S = !1;
    "undefined" !== typeof window && (n = /chrome/i.test(navigator.userAgent) || /chromium/i.test(navigator.userAgent), n = !n && /safari/i.test(navigator.userAgent), u = /(iphone|ipod|ipad)/i.test(navigator.userAgent), S = window.c2ejecta);
    var B = !n && !S && !u && "undefined" !== typeof Set && "undefined" !== typeof Set.prototype.forEach;
    p.prototype.contains = function(a) {
        return this.Nf() ? !1 : B ? this.qf.has(a) : this.items && this.items.hasOwnProperty(a)
    };
    p.prototype.add = function(a) {
        if (B) this.qf.has(a) || (this.qf.add(a), this.sg = !1);
        else {
            var b = a.toString(),
                d = this.items;
            d ? d.hasOwnProperty(b) || (d[b] = a, this.Pk++, this.sg = !1) : (this.items = {}, this.items[b] = a, this.Pk = 1, this.sg = !1)
        }
    };
    p.prototype.remove = function(a) {
        if (!this.Nf())
            if (B) this.qf.has(a) && (this.qf["delete"](a), this.sg = !1);
            else if (this.items) {
            a = a.toString();
            var b = this.items;
            b.hasOwnProperty(a) && (delete b[a], this.Pk--, this.sg = !1)
        }
    };
    p.prototype.clear = function() {
        this.Nf() || (B ? this.qf.clear() : (this.items = null, this.Pk = 0), y(this.Tj), this.sg = !0)
    };
    p.prototype.Nf = function() {
        return 0 ===
            this.count()
    };
    p.prototype.count = function() {
        return B ? this.qf.size : this.Pk
    };
    var w = null,
        H = 0;
    p.prototype.IE = function() {
        if (!this.sg) {
            if (B) y(this.Tj), w = this.Tj, H = 0, this.qf.forEach(c), w = null, H = 0;
            else {
                var a = this.Tj;
                y(a);
                var b, d = 0,
                    g = this.items;
                if (g)
                    for (b in g) g.hasOwnProperty(b) && (a[d++] = g[b])
            }
            this.sg = !0
        }
    };
    p.prototype.jh = function() {
        this.IE();
        return this.Tj
    };
    ma = p;
    new ma;
    ob = function(a, b) {
        B ? pb(a, b.qf) : qb(a, b.jh())
    };
    pb = function(a, b) {
        var d, g, h, c;
        g = d = 0;
        for (h = a.length; d < h; ++d) c = a[d], b.has(c) || (a[g++] = c);
        Pa(a, g)
    };
    qb = function(a, b) {
        var d, g, h, c;
        g = d = 0;
        for (h = a.length; d < h; ++d) c = a[d], -1 === Ta(b, c) && (a[g++] = c);
        Pa(a, g)
    };
    t.prototype.add = function(a) {
        this.y = a - this.ck;
        this.Pc = this.Fa + this.y;
        this.ck = this.Pc - this.Fa - this.y;
        this.Fa = this.Pc
    };
    t.prototype.reset = function() {
        this.Fa = this.Pc = this.y = this.ck = 0
    };
    rb = t;
    sb = function(a) {
        return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&")
    };
    e.prototype.Rl = function(a) {
        this.rw = a;
        this.te = a.length / 2;
        this.Sb.length = a.length;
        this.Dm = this.Em = -1;
        this.Mt = 0
    };
    e.prototype.Ph = function() {
        return !this.rw.length
    };
    e.prototype.Ga = function() {
        for (var a = this.Sb, b = a[0], d = b, g = a[1], h = g, c, l, v = 1, q = this.te; v < q; ++v) l = 2 * v, c = a[l], l = a[l + 1], c < b && (b = c), c > d && (d = c), l < g && (g = l), l > h && (h = l);
        this.zm = b;
        this.Am = d;
        this.Bm = g;
        this.ym = h
    };
    e.prototype.Ql = function(a, b, d) {
        this.Sb.length = 8;
        this.te = 4;
        var g = this.Sb;
        g[0] = a.left - b;
        g[1] = a.top - d;
        g[2] = a.right - b;
        g[3] = a.top - d;
        g[4] = a.right - b;
        g[5] = a.bottom - d;
        g[6] = a.left - b;
        g[7] = a.bottom - d;
        this.Em = a.right - a.left;
        this.Dm = a.bottom - a.top;
        this.Ga()
    };
    e.prototype.Cj = function(a, b, d, g, h) {
        this.Sb.length = 8;
        this.te =
            4;
        var c = this.Sb;
        c[0] = a.kb - b;
        c[1] = a.lb - d;
        c[2] = a.Ib - b;
        c[3] = a.Jb - d;
        c[4] = a.Cb - b;
        c[5] = a.Db - d;
        c[6] = a.Ab - b;
        c[7] = a.Bb - d;
        this.Em = g;
        this.Dm = h;
        this.Ga()
    };
    e.prototype.Tw = function(a) {
        this.te = a.te;
        Ra(this.Sb, a.Sb);
        this.zm = a.zm;
        this.Bm - a.Bm;
        this.Am = a.Am;
        this.ym = a.ym
    };
    e.prototype.vh = function(a, b, d) {
        if (this.Em !== a || this.Dm !== b || this.Mt !== d) {
            this.Em = a;
            this.Dm = b;
            this.Mt = d;
            var g, h, c, l, v, q = 0,
                n = 1,
                e = this.rw,
                u = this.Sb;
            0 !== d && (q = Math.sin(d), n = Math.cos(d));
            d = 0;
            for (c = this.te; d < c; d++) g = 2 * d, h = g + 1, l = e[g] * a, v = e[h] * b, u[g] = l * n - v *
                q, u[h] = v * n + l * q;
            this.Ga()
        }
    };
    e.prototype.Fc = function(a, b) {
        var d = this.Sb;
        if (a === d[0] && b === d[1]) return !0;
        var g, h, c, l = this.te,
            v = this.zm - 110,
            q = this.Bm - 101,
            n = this.Am + 131,
            e = this.ym + 120,
            u, f, w = 0,
            r = 0;
        for (g = 0; g < l; g++) h = 2 * g, c = (g + 1) % l * 2, u = d[h], h = d[h + 1], f = d[c], c = d[c + 1], Ka(v, q, a, b, u, h, f, c) && w++, Ka(n, e, a, b, u, h, f, c) && r++;
        return 1 === w % 2 || 1 === r % 2
    };
    e.prototype.Dk = function(a, b, d) {
        var g = a.Sb,
            h = this.Sb;
        if (this.Fc(g[0] + b, g[1] + d) || a.Fc(h[0] - b, h[1] - d)) return !0;
        var c, l, v, q, n, e, u, f, w, r, N, m;
        c = 0;
        for (q = this.te; c < q; c++)
            for (l = 2 * c,
                v = (c + 1) % q * 2, f = h[l], l = h[l + 1], w = h[v], r = h[v + 1], v = 0, u = a.te; v < u; v++)
                if (n = 2 * v, e = (v + 1) % u * 2, N = g[n] + b, n = g[n + 1] + d, m = g[e] + b, e = g[e + 1] + d, Ka(f, l, w, r, N, n, m, e)) return !0;
        return !1
    };
    tb = e;
    d.prototype.Dg = function(a, b, d) {
        var g;
        g = this.cells[a];
        return g ? (g = g[b]) ? g : d ? (g = h(this, a, b), this.cells[a][b] = g) : null : d ? (g = h(this, a, b), this.cells[a] = {}, this.cells[a][b] = g) : null
    };
    d.prototype.$c = function(a) {
        return Ha(a / this.Ip)
    };
    d.prototype.ad = function(a) {
        return Ha(a / this.Hp)
    };
    d.prototype.update = function(a, b, d) {
        var g, h, c, l, v;
        if (b)
            for (g =
                b.left, h = b.right; g <= h; ++g)
                for (c = b.top, l = b.bottom; c <= l; ++c)
                    if (!d || !d.Fc(g, c))
                        if (v = this.Dg(g, c, !1)) v.remove(a), v.Nf() && (v.oc.clear(), 1E3 > E.length && E.push(v), this.cells[g][c] = null);
        if (d)
            for (g = d.left, h = d.right; g <= h; ++g)
                for (c = d.top, l = d.bottom; c <= l; ++c) b && b.Fc(g, c) || this.Dg(g, c, !0).Ig(a)
    };
    d.prototype.zo = function(a, b) {
        var d, g, h, c, l, v;
        d = this.$c(a.left);
        h = this.ad(a.top);
        g = this.$c(a.right);
        for (l = this.ad(a.bottom); d <= g; ++d)
            for (c = h; c <= l; ++c)(v = this.Dg(d, c, !1)) && v.dump(b)
    };
    ub = d;
    b.prototype.Dg = function(a, b, d) {
        var h;
        h = this.cells[a];
        return h ? (h = h[b]) ? h : d ? (h = g(this, a, b), this.cells[a][b] = h) : null : d ? (h = g(this, a, b), this.cells[a] = {}, this.cells[a][b] = h) : null
    };
    b.prototype.$c = function(a) {
        return Ha(a / this.Ip)
    };
    b.prototype.ad = function(a) {
        return Ha(a / this.Hp)
    };
    b.prototype.update = function(a, b, d) {
        var g, h, c, l, v;
        if (b)
            for (g = b.left, h = b.right; g <= h; ++g)
                for (c = b.top, l = b.bottom; c <= l; ++c)
                    if (!d || !d.Fc(g, c))
                        if (v = this.Dg(g, c, !1)) v.remove(a), v.Nf() && (v.reset(), 1E3 > z.length && z.push(v), this.cells[g][c] = null);
        if (d)
            for (g = d.left, h = d.right; g <=
                h; ++g)
                for (c = d.top, l = d.bottom; c <= l; ++c) b && b.Fc(g, c) || this.Dg(g, c, !0).Ig(a)
    };
    b.prototype.zo = function(a, b, d, g, h) {
        var c, l;
        a = this.$c(a);
        b = this.ad(b);
        d = this.$c(d);
        for (c = this.ad(g); a <= d; ++a)
            for (g = b; g <= c; ++g)(l = this.Dg(a, g, !1)) && l.dump(h)
    };
    b.prototype.cD = function(a) {
        var b, d, g, h, c;
        b = a.left;
        g = a.top;
        d = a.right;
        for (h = a.bottom; b <= d; ++b)
            for (a = g; a <= h; ++a)
                if (c = this.Dg(b, a, !1)) c.Yi = !1
    };
    vb = b;
    var E = [];
    a.prototype.Nf = function() {
        return this.oc.Nf()
    };
    a.prototype.Ig = function(a) {
        this.oc.add(a)
    };
    a.prototype.remove = function(a) {
        this.oc.remove(a)
    };
    a.prototype.dump = function(a) {
        Sa(a, this.oc.jh())
    };
    ea = a;
    var z = [];
    q.prototype.Nf = function() {
        if (!this.oc.length) return !0;
        if (this.oc.length > this.of.count()) return !1;
        this.iq();
        return !0
    };
    q.prototype.Ig = function(a) {
        this.of.contains(a) ? (this.of.remove(a), this.of.Nf() && (this.$j = !1)) : this.oc.length ? (this.oc[this.oc.length - 1].gf() > a.gf() && (this.Yi = !1), this.oc.push(a)) : (this.oc.push(a), this.Yi = !0)
    };
    q.prototype.remove = function(a) {
        this.of.add(a);
        this.$j = !0;
        30 <= this.of.count() && this.iq()
    };
    q.prototype.iq = function() {
        this.$j &&
            (this.of.count() === this.oc.length ? this.reset() : (ob(this.oc, this.of), this.of.clear(), this.$j = !1))
    };
    q.prototype.eB = function() {
        this.Yi || (this.oc.sort(l), this.Yi = !0)
    };
    q.prototype.reset = function() {
        y(this.oc);
        this.Yi = !0;
        this.of.clear();
        this.$j = !1
    };
    q.prototype.dump = function(a) {
        this.iq();
        this.eB();
        this.oc.length && a.push(this.oc)
    };
    na = q;
    var x = "lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
    Ab = function(a) {
        return 0 >= a || 11 <= a ? "source-over" :
            x[a - 1]
    };
    Bb = function(a, b, d) {
        if (d) switch (a.Oc = d.ONE, a.Hc = d.ONE_MINUS_SRC_ALPHA, b) {
            case 1:
                a.Oc = d.ONE;
                a.Hc = d.ONE;
                break;
            case 3:
                a.Oc = d.ONE;
                a.Hc = d.ZERO;
                break;
            case 4:
                a.Oc = d.ONE_MINUS_DST_ALPHA;
                a.Hc = d.ONE;
                break;
            case 5:
                a.Oc = d.DST_ALPHA;
                a.Hc = d.ZERO;
                break;
            case 6:
                a.Oc = d.ZERO;
                a.Hc = d.SRC_ALPHA;
                break;
            case 7:
                a.Oc = d.ONE_MINUS_DST_ALPHA;
                a.Hc = d.ZERO;
                break;
            case 8:
                a.Oc = d.ZERO;
                a.Hc = d.ONE_MINUS_SRC_ALPHA;
                break;
            case 9:
                a.Oc = d.DST_ALPHA;
                a.Hc = d.ONE_MINUS_SRC_ALPHA;
                break;
            case 10:
                a.Oc = d.ONE_MINUS_DST_ALPHA, a.Hc = d.SRC_ALPHA
        }
    };
    Cb = function(a) {
        return Math.round(1E6 * a) / 1E6
    };
    Db = function(a, b) {
        return "string" !== typeof a || "string" !== typeof b || a.length !== b.length ? !1 : a === b ? !0 : a.toLowerCase() === b.toLowerCase()
    };
    Eb = function(a) {
        a = a.target;
        return !a || a === document || a === window || document && document.body && a === document.body || Db(a.tagName, "canvas") ? !0 : !1
    }
})();
var Oc = "undefined" !== typeof Float32Array ? Float32Array : Array;

function Pc(f) {
    var m = new Oc(3);
    f && (m[0] = f[0], m[1] = f[1], m[2] = f[2]);
    return m
}

function Qc(f) {
    var m = new Oc(16);
    f && (m[0] = f[0], m[1] = f[1], m[2] = f[2], m[3] = f[3], m[4] = f[4], m[5] = f[5], m[6] = f[6], m[7] = f[7], m[8] = f[8], m[9] = f[9], m[10] = f[10], m[11] = f[11], m[12] = f[12], m[13] = f[13], m[14] = f[14], m[15] = f[15]);
    return m
}

function Rc(f, m) {
    m[0] = f[0];
    m[1] = f[1];
    m[2] = f[2];
    m[3] = f[3];
    m[4] = f[4];
    m[5] = f[5];
    m[6] = f[6];
    m[7] = f[7];
    m[8] = f[8];
    m[9] = f[9];
    m[10] = f[10];
    m[11] = f[11];
    m[12] = f[12];
    m[13] = f[13];
    m[14] = f[14];
    m[15] = f[15]
}

function Sc(f, m) {
    var k = m[0],
        p = m[1];
    m = m[2];
    f[0] *= k;
    f[1] *= k;
    f[2] *= k;
    f[3] *= k;
    f[4] *= p;
    f[5] *= p;
    f[6] *= p;
    f[7] *= p;
    f[8] *= m;
    f[9] *= m;
    f[10] *= m;
    f[11] *= m
}

function Tc(f, m, k, p) {
    p || (p = Qc());
    var c, t, e, d, b, h, a, g, q = f[0],
        l = f[1];
    f = f[2];
    t = k[0];
    e = k[1];
    c = k[2];
    k = m[1];
    h = m[2];
    q === m[0] && l === k && f === h ? (f = p, f[0] = 1, f[1] = 0, f[2] = 0, f[3] = 0, f[4] = 0, f[5] = 1, f[6] = 0, f[7] = 0, f[8] = 0, f[9] = 0, f[10] = 1, f[11] = 0, f[12] = 0, f[13] = 0, f[14] = 0, f[15] = 1) : (k = q - m[0], h = l - m[1], a = f - m[2], g = 1 / Math.sqrt(k * k + h * h + a * a), k *= g, h *= g, a *= g, m = e * a - c * h, c = c * k - t * a, t = t * h - e * k, (g = Math.sqrt(m * m + c * c + t * t)) ? (g = 1 / g, m *= g, c *= g, t *= g) : t = c = m = 0, e = h * t - a * c, d = a * m - k * t, b = k * c - h * m, (g = Math.sqrt(e * e + d * d + b * b)) ? (g = 1 / g, e *= g, d *= g, b *= g) : b = d = e = 0,
        p[0] = m, p[1] = e, p[2] = k, p[3] = 0, p[4] = c, p[5] = d, p[6] = h, p[7] = 0, p[8] = t, p[9] = b, p[10] = a, p[11] = 0, p[12] = -(m * q + c * l + t * f), p[13] = -(e * q + d * l + b * f), p[14] = -(k * q + h * l + a * f), p[15] = 1)
}
(function() {
    function f(d, b, h) {
        this.Of = /msie/i.test(navigator.userAgent) || /trident/i.test(navigator.userAgent);
        this.height = this.width = 0;
        this.ib = !!h;
        this.xn = this.Gk = !1;
        this.Up = 0;
        this.np = 1;
        this.Ss = 1E3;
        this.SE = (this.Ss - this.np) / 32768;
        this.Fp = Pc([0, 0, 100]);
        this.jv = Pc([0, 0, 0]);
        this.yx = Pc([0, 1, 0]);
        this.im = Pc([1, 1, 1]);
        this.eu = !0;
        this.Yn = Qc();
        this.Qd = Qc();
        this.Zq = Qc();
        this.Tp = Qc();
        this.K = d;
        this.version = 0 === this.K.getParameter(this.K.VERSION).indexOf("WebGL 2") ? 2 : 1;
        this.Hu()
    }

    function m(d, b, h) {
        this.K = d;
        this.Sl =
            b;
        this.name = h;
        this.oe = d.getAttribLocation(b, "aPos");
        this.Sg = d.getAttribLocation(b, "aTex");
        this.gv = d.getUniformLocation(b, "matP");
        this.Sn = d.getUniformLocation(b, "matMV");
        this.jj = d.getUniformLocation(b, "opacity");
        this.mr = d.getUniformLocation(b, "colorFill");
        this.hv = d.getUniformLocation(b, "samplerFront");
        this.bl = d.getUniformLocation(b, "samplerBack");
        this.Zh = d.getUniformLocation(b, "destStart");
        this.Yh = d.getUniformLocation(b, "destEnd");
        this.dl = d.getUniformLocation(b, "seconds");
        this.or = d.getUniformLocation(b,
            "pixelWidth");
        this.nr = d.getUniformLocation(b, "pixelHeight");
        this.al = d.getUniformLocation(b, "layerScale");
        this.$k = d.getUniformLocation(b, "layerAngle");
        this.el = d.getUniformLocation(b, "viewOrigin");
        this.cl = d.getUniformLocation(b, "scrollPos");
        this.zC = !!(this.or || this.nr || this.dl || this.bl || this.Zh || this.Yh || this.al || this.$k || this.el || this.cl);
        this.sv = this.tv = -999;
        this.Xn = 1;
        this.ov = this.nv = 0;
        this.qv = this.mv = this.lv = 1;
        this.wv = this.vv = this.uv = this.yv = this.xv = this.pv = 0;
        this.Yq = [];
        this.rv = Qc();
        this.jj && d.uniform1f(this.jj,
            1);
        this.mr && d.uniform4f(this.mr, 1, 1, 1, 1);
        this.hv && d.uniform1i(this.hv, 0);
        this.bl && d.uniform1i(this.bl, 1);
        this.Zh && d.uniform2f(this.Zh, 0, 0);
        this.Yh && d.uniform2f(this.Yh, 1, 1);
        this.al && d.uniform1f(this.al, 1);
        this.$k && d.uniform1f(this.$k, 0);
        this.el && d.uniform2f(this.el, 0, 0);
        this.cl && d.uniform2f(this.cl, 0, 0);
        this.dl && d.uniform1f(this.dl, 0);
        this.Ih = !1
    }

    function k(d, b) {
        return d[0] === b[0] && d[1] === b[1] && d[2] === b[2] && d[3] === b[3] && d[4] === b[4] && d[5] === b[5] && d[6] === b[6] && d[7] === b[7] && d[8] === b[8] && d[9] === b[9] &&
            d[10] === b[10] && d[11] === b[11] && d[12] === b[12] && d[13] === b[13] && d[14] === b[14] && d[15] === b[15]
    }

    function p(d, b) {
        this.type = d;
        this.F = b;
        this.K = b.K;
        this.hf = this.Yc = this.Zv = 0;
        this.wa = this.xe = null;
        this.Vw = []
    }
    var c = Qc();
    f.prototype.Hu = function() {
        var d = this.K,
            b;
        this.Vu = 1;
        this.Th = this.Ng = null;
        this.Qm = 1;
        d.clearColor(0, 0, 0, 0);
        d.clear(d.COLOR_BUFFER_BIT);
        d.enable(d.BLEND);
        d.blendFunc(d.ONE, d.ONE_MINUS_SRC_ALPHA);
        d.disable(d.CULL_FACE);
        d.disable(d.STENCIL_TEST);
        d.disable(d.DITHER);
        this.ib ? (d.enable(d.DEPTH_TEST), d.depthFunc(d.LEQUAL)) :
            d.disable(d.DEPTH_TEST);
        this.Wu = d.ONE;
        this.Uu = d.ONE_MINUS_SRC_ALPHA;
        this.kp = new Float32Array(8E3 * (this.ib ? 3 : 2));
        this.Uo = new Float32Array(16E3);
        this.mw = new Float32Array(32E3);
        this.Nr = d.createBuffer();
        d.bindBuffer(d.ARRAY_BUFFER, this.Nr);
        d.bufferData(d.ARRAY_BUFFER, this.mw.byteLength, d.DYNAMIC_DRAW);
        this.hm = Array(4);
        this.Yl = Array(4);
        for (b = 0; 4 > b; b++) this.hm[b] = d.createBuffer(), d.bindBuffer(d.ARRAY_BUFFER, this.hm[b]), d.bufferData(d.ARRAY_BUFFER, this.kp.byteLength, d.DYNAMIC_DRAW), this.Yl[b] = d.createBuffer(),
            d.bindBuffer(d.ARRAY_BUFFER, this.Yl[b]), d.bufferData(d.ARRAY_BUFFER, this.Uo.byteLength, d.DYNAMIC_DRAW);
        this.Df = 0;
        this.DC = d.createBuffer();
        d.bindBuffer(d.ELEMENT_ARRAY_BUFFER, this.DC);
        for (var h = new Uint16Array(12E3), a = b = 0; 12E3 > b;) h[b++] = a, h[b++] = a + 1, h[b++] = a + 2, h[b++] = a, h[b++] = a + 2, h[b++] = a + 3, a += 4;
        d.bufferData(d.ELEMENT_ARRAY_BUFFER, h, d.STATIC_DRAW);
        this.Or = this.Gj = this.gg = 0;
        this.yb = [];
        b = this.ib ? "attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}" :
            "attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";
        h = this.gk({
            src: "varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"
        }, b, "<default>");
        this.yb.push(h);
        h = this.gk({
                src: "uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"
            },
            "attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}", "<point>");
        this.yb.push(h);
        h = this.gk({
            src: "varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"
        }, b, "<earlyz>");
        this.yb.push(h);
        h = this.gk({
                src: "uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"
            },
            b, "<fill>");
        this.yb.push(h);
        for (var g in Uc) Uc.hasOwnProperty(g) && this.yb.push(this.gk(Uc[g], b, g));
        d.activeTexture(d.TEXTURE0);
        d.bindTexture(d.TEXTURE_2D, null);
        this.qg = [];
        this.Af = 0;
        this.Ic = !1;
        this.$t = this.Wk = -1;
        this.Hi = null;
        this.gq = d.createFramebuffer();
        this.Um = this.Ao = null;
        this.Gt = !1;
        this.ib && (this.Um = d.createRenderbuffer());
        this.gh = Pc([0, 0, 0]);
        this.zv = d.getParameter(d.ALIASED_POINT_SIZE_RANGE)[1];
        2048 < this.zv && (this.zv = 2048);
        this.nd(0)
    };
    m.prototype.Ks = function(d) {
        k(this.rv, d) || (Rc(d, this.rv), this.K.uniformMatrix4fv(this.Sn, !1, d))
    };
    f.prototype.gk = function(d, b, h) {
        var a = this.K,
            g = a.createShader(a.FRAGMENT_SHADER);
        a.shaderSource(g, d.src);
        a.compileShader(g);
        if (!a.getShaderParameter(g, a.COMPILE_STATUS)) return a.deleteShader(g), null;
        var c = a.createShader(a.VERTEX_SHADER);
        a.shaderSource(c, b);
        a.compileShader(c);
        if (!a.getShaderParameter(c, a.COMPILE_STATUS)) return a.deleteShader(g), a.deleteShader(c), null;
        b = a.createProgram();
        a.attachShader(b, g);
        a.attachShader(b, c);
        a.linkProgram(b);
        if (!a.getProgramParameter(b, a.LINK_STATUS)) return a.deleteShader(g),
            a.deleteShader(c), a.deleteProgram(b), null;
        a.useProgram(b);
        a.deleteShader(g);
        a.deleteShader(c);
        h = new m(a, b, h);
        h.dq = d.dq || 0;
        h.fq = d.fq || 0;
        h.Yt = !!d.Yt;
        h.Ne = !!d.Ne;
        h.Et = !!d.Et;
        h.xa = d.xa || [];
        d = 0;
        for (g = h.xa.length; d < g; d++) h.xa[d][1] = a.getUniformLocation(b, h.xa[d][0]), h.Yq.push(0), a.uniform1f(h.xa[d][1], 0);
        return h
    };
    f.prototype.yq = function(d) {
        var b, h;
        b = 0;
        for (h = this.yb.length; b < h; b++)
            if (this.yb[b].name === d) return b;
        return -1
    };
    f.prototype.xo = function(d, b, h) {
        var a = this.Qd,
            g = this.Yn,
            c = [0, 0, 0, 0, 0, 0, 0, 0];
        c[0] = a[0] *
            d + a[4] * b + a[12];
        c[1] = a[1] * d + a[5] * b + a[13];
        c[2] = a[2] * d + a[6] * b + a[14];
        c[3] = a[3] * d + a[7] * b + a[15];
        c[4] = g[0] * c[0] + g[4] * c[1] + g[8] * c[2] + g[12] * c[3];
        c[5] = g[1] * c[0] + g[5] * c[1] + g[9] * c[2] + g[13] * c[3];
        c[6] = g[2] * c[0] + g[6] * c[1] + g[10] * c[2] + g[14] * c[3];
        c[7] = -c[2];
        0 !== c[7] && (c[7] = 1 / c[7], c[4] *= c[7], c[5] *= c[7], c[6] *= c[7], h[0] = (.5 * c[4] + .5) * this.width, h[1] = (.5 * c[5] + .5) * this.height)
    };
    f.prototype.ji = function(d, b, c) {
        if (this.width !== d || this.height !== b || c) {
            this.Bg();
            c = this.K;
            this.width = d;
            this.height = b;
            c.viewport(0, 0, d, b);
            Tc(this.Fp,
                this.jv, this.yx, this.Qd);
            if (this.ib) {
                var a = -d / 2;
                d = d / 2;
                var g = b / 2;
                b = -b / 2;
                var q = this.np,
                    l = this.Ss,
                    e = this.Yn;
                e || (e = Qc());
                var f = d - a,
                    r = b - g,
                    n = l - q;
                e[0] = 2 / f;
                e[1] = 0;
                e[2] = 0;
                e[3] = 0;
                e[4] = 0;
                e[5] = 2 / r;
                e[6] = 0;
                e[7] = 0;
                e[8] = 0;
                e[9] = 0;
                e[10] = -2 / n;
                e[11] = 0;
                e[12] = -(a + d) / f;
                e[13] = -(b + g) / r;
                e[14] = -(l + q) / n;
                e[15] = 1;
                this.im[0] = 1;
                this.im[1] = 1
            } else b = d / b, a = this.np, d = this.Ss, e = this.Yn, l = a * Math.tan(45 * Math.PI / 360), b *= l, g = -b, q = -l, e || (e = Qc()), f = b - g, r = l - q, n = d - a, e[0] = 2 * a / f, e[1] = 0, e[2] = 0, e[3] = 0, e[4] = 0, e[5] = 2 * a / r, e[6] = 0, e[7] = 0, e[8] = (b + g) /
                f, e[9] = (l + q) / r, e[10] = -(d + a) / n, e[11] = -1, e[12] = 0, e[13] = 0, e[14] = -(d * a * 2) / n, e[15] = 0, a = [0, 0], d = [0, 0], this.xo(0, 0, a), this.xo(1, 1, d), this.im[0] = 1 / (d[0] - a[0]), this.im[1] = -1 / (d[1] - a[1]);
            a = 0;
            for (d = this.yb.length; a < d; a++) g = this.yb[a], g.Ih = !1, g.gv && (c.useProgram(g.Sl), c.uniformMatrix4fv(g.gv, !1, this.Yn));
            c.useProgram(this.yb[this.Wk].Sl);
            c.bindTexture(c.TEXTURE_2D, null);
            c.activeTexture(c.TEXTURE1);
            c.bindTexture(c.TEXTURE_2D, null);
            c.activeTexture(c.TEXTURE0);
            this.Th = this.Ng = null;
            this.Um && (c.bindFramebuffer(c.FRAMEBUFFER,
                this.gq), c.bindRenderbuffer(c.RENDERBUFFER, this.Um), c.renderbufferStorage(c.RENDERBUFFER, c.DEPTH_COMPONENT16, this.width, this.height), this.Gt || (c.framebufferRenderbuffer(c.FRAMEBUFFER, c.DEPTH_ATTACHMENT, c.RENDERBUFFER, this.Um), this.Gt = !0), c.bindRenderbuffer(c.RENDERBUFFER, null), c.bindFramebuffer(c.FRAMEBUFFER, null), this.Ao = null)
        }
    };
    f.prototype.ue = function() {
        Tc(this.Fp, this.jv, this.yx, this.Qd);
        Sc(this.Qd, this.im)
    };
    f.prototype.translate = function(d, b) {
        if (0 !== d || 0 !== b) {
            this.gh[0] = d;
            this.gh[1] = b;
            this.gh[2] =
                0;
            var c = this.Qd,
                a = this.gh,
                g = a[0],
                e = a[1],
                a = a[2];
            c[12] = c[0] * g + c[4] * e + c[8] * a + c[12];
            c[13] = c[1] * g + c[5] * e + c[9] * a + c[13];
            c[14] = c[2] * g + c[6] * e + c[10] * a + c[14];
            c[15] = c[3] * g + c[7] * e + c[11] * a + c[15]
        }
    };
    f.prototype.scale = function(d, b) {
        if (1 !== d || 1 !== b) this.gh[0] = d, this.gh[1] = b, this.gh[2] = 1, Sc(this.Qd, this.gh)
    };
    f.prototype.Do = function(d) {
        if (0 !== d) {
            var b = this.Qd,
                c, a = Math.sin(d);
            d = Math.cos(d);
            var g = b[0],
                e = b[1],
                l = b[2],
                f = b[3],
                m = b[4],
                r = b[5],
                n = b[6],
                u = b[7];
            c ? b !== c && (c[8] = b[8], c[9] = b[9], c[10] = b[10], c[11] = b[11], c[12] = b[12], c[13] =
                b[13], c[14] = b[14], c[15] = b[15]) : c = b;
            c[0] = g * d + m * a;
            c[1] = e * d + r * a;
            c[2] = l * d + n * a;
            c[3] = f * d + u * a;
            c[4] = g * -a + m * d;
            c[5] = e * -a + r * d;
            c[6] = l * -a + n * d;
            c[7] = f * -a + u * d
        }
    };
    f.prototype.$d = function() {
        if (!k(this.Zq, this.Qd)) {
            var d = this.Fd();
            d.type = 5;
            d.wa ? Rc(this.Qd, d.wa) : d.wa = Qc(this.Qd);
            Rc(this.Qd, this.Zq);
            this.Ic = !1
        }
    };
    f.prototype.Io = function(d) {
        this.ib && (32760 < d && (d = 32760), this.Up = this.Fp[2] - this.np - d * this.SE)
    };
    p.prototype.OA = function() {
        var d = this.K,
            b = this.F;
        0 !== this.Yc ? (d.depthMask(!0), d.colorMask(!1, !1, !1, !1), d.disable(d.BLEND),
            d.bindFramebuffer(d.FRAMEBUFFER, b.gq), d.framebufferTexture2D(d.FRAMEBUFFER, d.COLOR_ATTACHMENT0, d.TEXTURE_2D, null, 0), d.clear(d.DEPTH_BUFFER_BIT), d.bindFramebuffer(d.FRAMEBUFFER, null), b.xn = !0) : (d.depthMask(!1), d.colorMask(!0, !0, !0, !0), d.enable(d.BLEND), b.xn = !1)
    };
    p.prototype.SA = function() {
        this.K.bindTexture(this.K.TEXTURE_2D, this.xe)
    };
    p.prototype.TA = function() {
        var d = this.K;
        d.activeTexture(d.TEXTURE1);
        d.bindTexture(d.TEXTURE_2D, this.xe);
        d.activeTexture(d.TEXTURE0)
    };
    p.prototype.PA = function() {
        var d = this.Zv,
            b = this.F;
        b.Qm = d;
        b = b.Hi;
        b.jj && b.Xn !== d && (b.Xn = d, this.K.uniform1f(b.jj, d))
    };
    p.prototype.JA = function() {
        this.K.drawElements(this.K.TRIANGLES, this.hf, this.K.UNSIGNED_SHORT, this.Yc)
    };
    p.prototype.LA = function() {
        this.K.blendFunc(this.Yc, this.hf)
    };
    p.prototype.UA = function() {
        var d, b, c, a = this.F.yb,
            g = this.F.$t;
        d = 0;
        for (b = a.length; d < b; d++) c = a[d], d === g && c.Sn ? (c.Ks(this.wa), c.Ih = !0) : c.Ih = !1;
        Rc(this.wa, this.F.Tp)
    };
    p.prototype.KA = function() {
        var d = this.K,
            b = this.F;
        this.xe ? (b.Th === this.xe && (d.activeTexture(d.TEXTURE1),
            d.bindTexture(d.TEXTURE_2D, null), b.Th = null, d.activeTexture(d.TEXTURE0)), d.bindFramebuffer(d.FRAMEBUFFER, b.gq), b.xn || d.framebufferTexture2D(d.FRAMEBUFFER, d.COLOR_ATTACHMENT0, d.TEXTURE_2D, this.xe, 0)) : (b.ib || d.framebufferTexture2D(d.FRAMEBUFFER, d.COLOR_ATTACHMENT0, d.TEXTURE_2D, null, 0), d.bindFramebuffer(d.FRAMEBUFFER, null))
    };
    p.prototype.FA = function() {
        var d = this.K,
            b = this.Yc;
        0 === b ? (d.clearColor(this.wa[0], this.wa[1], this.wa[2], this.wa[3]), d.clear(d.COLOR_BUFFER_BIT)) : 1 === b ? (d.enable(d.SCISSOR_TEST), d.scissor(this.wa[0],
            this.wa[1], this.wa[2], this.wa[3]), d.clearColor(0, 0, 0, 0), d.clear(d.COLOR_BUFFER_BIT), d.disable(d.SCISSOR_TEST)) : d.clear(d.DEPTH_BUFFER_BIT)
    };
    p.prototype.NA = function() {
        var d = this.K;
        0 !== this.Yc ? d.enable(d.DEPTH_TEST) : d.disable(d.DEPTH_TEST)
    };
    p.prototype.IA = function() {
        var d = this.K,
            b = this.F;
        b.ib && d.disable(d.DEPTH_TEST);
        var c = b.yb[1];
        d.useProgram(c.Sl);
        !c.Ih && c.Sn && (c.Ks(b.Tp), c.Ih = !0);
        d.enableVertexAttribArray(c.oe);
        d.bindBuffer(d.ARRAY_BUFFER, b.Nr);
        d.vertexAttribPointer(c.oe, 4, d.FLOAT, !1, 0, 0);
        d.drawArrays(d.POINTS,
            this.Yc / 4, this.hf);
        c = b.Hi;
        d.useProgram(c.Sl);
        0 <= c.oe && (d.enableVertexAttribArray(c.oe), d.bindBuffer(d.ARRAY_BUFFER, b.hm[b.Df]), d.vertexAttribPointer(c.oe, b.ib ? 3 : 2, d.FLOAT, !1, 0, 0));
        0 <= c.Sg && (d.enableVertexAttribArray(c.Sg), d.bindBuffer(d.ARRAY_BUFFER, b.Yl[b.Df]), d.vertexAttribPointer(c.Sg, 2, d.FLOAT, !1, 0, 0));
        b.ib && d.enable(d.DEPTH_TEST)
    };
    p.prototype.QA = function() {
        var d = this.K,
            b = this.F,
            c = b.yb[this.Yc];
        b.$t = this.Yc;
        b.Hi = c;
        d.useProgram(c.Sl);
        !c.Ih && c.Sn && (c.Ks(b.Tp), c.Ih = !0);
        c.jj && c.Xn !== b.Qm && (c.Xn = b.Qm,
            d.uniform1f(c.jj, b.Qm));
        0 <= c.oe && (d.enableVertexAttribArray(c.oe), d.bindBuffer(d.ARRAY_BUFFER, b.hm[b.Df]), d.vertexAttribPointer(c.oe, b.ib ? 3 : 2, d.FLOAT, !1, 0, 0));
        0 <= c.Sg && (d.enableVertexAttribArray(c.Sg), d.bindBuffer(d.ARRAY_BUFFER, b.Yl[b.Df]), d.vertexAttribPointer(c.Sg, 2, d.FLOAT, !1, 0, 0))
    };
    p.prototype.MA = function() {
        var d = this.wa;
        this.K.uniform4f(this.F.Hi.mr, d[0], d[1], d[2], d[3])
    };
    p.prototype.RA = function() {
        var d, b, c = this.F.Hi,
            a = this.K;
        d = this.wa;
        c.bl && this.F.Th !== this.xe && (a.activeTexture(a.TEXTURE1),
            a.bindTexture(a.TEXTURE_2D, this.xe), this.F.Th = this.xe, a.activeTexture(a.TEXTURE0));
        var g = d[0];
        c.or && g !== c.tv && (c.tv = g, a.uniform1f(c.or, g));
        g = d[1];
        c.nr && g !== c.sv && (c.sv = g, a.uniform1f(c.nr, g));
        g = d[2];
        b = d[3];
        !c.Zh || g === c.nv && b === c.ov || (c.nv = g, c.ov = b, a.uniform2f(c.Zh, g, b));
        g = d[4];
        b = d[5];
        !c.Yh || g === c.lv && b === c.mv || (c.lv = g, c.mv = b, a.uniform2f(c.Yh, g, b));
        g = d[6];
        c.al && g !== c.qv && (c.qv = g, a.uniform1f(c.al, g));
        g = d[7];
        c.$k && g !== c.pv && (c.pv = g, a.uniform1f(c.$k, g));
        g = d[8];
        b = d[9];
        !c.el || g === c.xv && b === c.yv || (c.xv = g,
            c.yv = b, a.uniform2f(c.el, g, b));
        g = d[10];
        b = d[11];
        !c.cl || g === c.uv && b === c.vv || (c.uv = g, c.vv = b, a.uniform2f(c.cl, g, b));
        g = d[12];
        c.dl && g !== c.wv && (c.wv = g, a.uniform1f(c.dl, g));
        if (c.xa.length)
            for (d = 0, b = c.xa.length; d < b; d++) g = this.Vw[d], g !== c.Yq[d] && (c.Yq[d] = g, a.uniform1f(c.xa[d][1], g))
    };
    f.prototype.Fd = function() {
        this.Af === this.qg.length && this.qg.push(new p(0, this));
        return this.qg[this.Af++]
    };
    f.prototype.Bg = function() {
        if (0 !== this.Af && !this.K.isContextLost()) {
            var d = this.K;
            0 < this.Or && (d.bindBuffer(d.ARRAY_BUFFER,
                this.Nr), d.bufferSubData(d.ARRAY_BUFFER, 0, this.mw.subarray(0, this.Or)), b && 0 <= b.oe && "<point>" === b.name && d.vertexAttribPointer(b.oe, 4, d.FLOAT, !1, 0, 0));
            if (0 < this.gg) {
                var b = this.Hi;
                d.bindBuffer(d.ARRAY_BUFFER, this.hm[this.Df]);
                d.bufferSubData(d.ARRAY_BUFFER, 0, this.kp.subarray(0, this.gg));
                b && 0 <= b.oe && "<point>" !== b.name && d.vertexAttribPointer(b.oe, this.ib ? 3 : 2, d.FLOAT, !1, 0, 0);
                d.bindBuffer(d.ARRAY_BUFFER, this.Yl[this.Df]);
                d.bufferSubData(d.ARRAY_BUFFER, 0, this.Uo.subarray(0, this.Gj));
                b && 0 <= b.Sg && "<point>" !==
                    b.name && d.vertexAttribPointer(b.Sg, 2, d.FLOAT, !1, 0, 0)
            }
            for (var c, d = 0, b = this.Af; d < b; d++) switch (c = this.qg[d], c.type) {
                case 1:
                    c.JA();
                    break;
                case 2:
                    c.SA();
                    break;
                case 3:
                    c.PA();
                    break;
                case 4:
                    c.LA();
                    break;
                case 5:
                    c.UA();
                    break;
                case 6:
                    c.KA();
                    break;
                case 7:
                    c.FA();
                    break;
                case 8:
                    c.IA();
                    break;
                case 9:
                    c.QA();
                    break;
                case 10:
                    c.RA();
                    break;
                case 11:
                    c.TA();
                    break;
                case 12:
                    c.MA();
                    break;
                case 13:
                    c.NA();
                    break;
                case 14:
                    c.OA()
            }
            this.Or = this.Gj = this.gg = this.Af = 0;
            this.xn = this.Ic = !1;
            this.Df++;
            4 <= this.Df && (this.Df = 0)
        }
    };
    f.prototype.eh = function(d) {
        if (d !==
            this.Vu && !this.Gk) {
            var b = this.Fd();
            b.type = 3;
            this.Vu = b.Zv = d;
            this.Ic = !1
        }
    };
    f.prototype.md = function(d) {
        if (d !== this.Ng) {
            var b = this.Fd();
            b.type = 2;
            this.Ng = b.xe = d;
            this.Ic = !1
        }
    };
    f.prototype.dh = function(d, b) {
        if ((d !== this.Wu || b !== this.Uu) && !this.Gk) {
            var c = this.Fd();
            c.type = 4;
            c.Yc = d;
            c.hf = b;
            this.Wu = d;
            this.Uu = b;
            this.Ic = !1
        }
    };
    f.prototype.Iw = function() {
        this.dh(this.K.ONE, this.K.ONE_MINUS_SRC_ALPHA)
    };
    f.prototype.El = function(d, b, c, a, g, e, l, f) {
        15992 <= this.gg && this.Bg();
        var m = this.gg,
            r = this.Gj,
            n = this.kp,
            u = this.Uo,
            k = this.Up;
        if (this.Ic) this.qg[this.Af - 1].hf += 6;
        else {
            var t = this.Fd();
            t.type = 1;
            t.Yc = this.ib ? m : m / 2 * 3;
            t.hf = 6;
            this.Ic = !0
        }
        this.ib ? (n[m++] = d, n[m++] = b, n[m++] = k, n[m++] = c, n[m++] = a, n[m++] = k, n[m++] = g, n[m++] = e, n[m++] = k, n[m++] = l, n[m++] = f, n[m++] = k) : (n[m++] = d, n[m++] = b, n[m++] = c, n[m++] = a, n[m++] = g, n[m++] = e, n[m++] = l, n[m++] = f);
        u[r++] = 0;
        u[r++] = 0;
        u[r++] = 1;
        u[r++] = 0;
        u[r++] = 1;
        u[r++] = 1;
        u[r++] = 0;
        u[r++] = 1;
        this.gg = m;
        this.Gj = r
    };
    f.prototype.Qe = function(d, b, c, a, g, e, l, f, m) {
        15992 <= this.gg && this.Bg();
        var r = this.gg,
            n = this.Gj,
            u = this.kp,
            k = this.Uo,
            t = this.Up;
        if (this.Ic) this.qg[this.Af - 1].hf += 6;
        else {
            var w = this.Fd();
            w.type = 1;
            w.Yc = this.ib ? r : r / 2 * 3;
            w.hf = 6;
            this.Ic = !0
        }
        var w = m.left,
            p = m.top,
            E = m.right;
        m = m.bottom;
        this.ib ? (u[r++] = d, u[r++] = b, u[r++] = t, u[r++] = c, u[r++] = a, u[r++] = t, u[r++] = g, u[r++] = e, u[r++] = t, u[r++] = l, u[r++] = f, u[r++] = t) : (u[r++] = d, u[r++] = b, u[r++] = c, u[r++] = a, u[r++] = g, u[r++] = e, u[r++] = l, u[r++] = f);
        k[n++] = w;
        k[n++] = p;
        k[n++] = E;
        k[n++] = p;
        k[n++] = E;
        k[n++] = m;
        k[n++] = w;
        k[n++] = m;
        this.gg = r;
        this.Gj = n
    };
    f.prototype.nd = function(d) {
        if (this.Wk !== d) {
            if (!this.yb[d]) {
                if (0 ===
                    this.Wk) return;
                d = 0
            }
            var b = this.Fd();
            b.type = 9;
            this.Wk = b.Yc = d;
            this.Ic = !1
        }
    };
    f.prototype.Al = function(d) {
        d = this.yb[d];
        return !(!d.Zh && !d.Yh)
    };
    f.prototype.Rr = function(d) {
        d = this.yb[d];
        return !!(d.Zh || d.Yh || d.Yt)
    };
    f.prototype.Qr = function(d) {
        return this.yb[d].Ne
    };
    f.prototype.HD = function(d) {
        d = this.yb[d];
        return 0 !== d.dq || 0 !== d.fq
    };
    f.prototype.cC = function(d) {
        return this.yb[d].dq
    };
    f.prototype.dC = function(d) {
        return this.yb[d].fq
    };
    f.prototype.eC = function(d, b) {
        return this.yb[d].xa[b][2]
    };
    f.prototype.wo = function(d) {
        return this.yb[d].Et
    };
    f.prototype.Bj = function(d, b, c, a, g, e, l, f, m, r, n, u, k, t, w) {
        var p = this.yb[this.Wk],
            E, z;
        if (p.zC || w.length) {
            E = this.Fd();
            E.type = 10;
            E.wa ? Rc(this.Qd, E.wa) : E.wa = Qc();
            z = E.wa;
            z[0] = b;
            z[1] = c;
            z[2] = a;
            z[3] = g;
            z[4] = e;
            z[5] = l;
            z[6] = f;
            z[7] = m;
            z[8] = r;
            z[9] = n;
            z[10] = u;
            z[11] = k;
            z[12] = t;
            p.bl ? E.xe = d : E.xe = null;
            if (w.length)
                for (c = E.Vw, c.length = w.length, d = 0, b = w.length; d < b; d++) c[d] = w[d];
            this.Ic = !1
        }
    };
    f.prototype.clear = function(d, b, c, a) {
        var g = this.Fd();
        g.type = 7;
        g.Yc = 0;
        g.wa || (g.wa = Qc());
        g.wa[0] = d;
        g.wa[1] = b;
        g.wa[2] = c;
        g.wa[3] = a;
        this.Ic = !1
    };
    f.prototype.clearRect = function(d, b, c, a) {
        if (!(0 > c || 0 > a)) {
            var g = this.Fd();
            g.type = 7;
            g.Yc = 1;
            g.wa || (g.wa = Qc());
            g.wa[0] = d;
            g.wa[1] = b;
            g.wa[2] = c;
            g.wa[3] = a;
            this.Ic = !1
        }
    };
    f.prototype.Nw = function(d) {
        if (this.ib && (d = !!d, this.Gk !== d)) {
            var b = this.Fd();
            b.type = 14;
            b.Yc = d ? 1 : 0;
            this.Ic = !1;
            this.Gk = d;
            this.Ao = null;
            this.Gk ? this.nd(2) : this.nd(0)
        }
    };
    f.prototype.Mw = function(d) {
        if (this.ib) {
            var b = this.Fd();
            b.type = 13;
            b.Yc = d ? 1 : 0;
            this.Ic = !1
        }
    };
    f.prototype.nu = function() {
        Rc(this.Zq, c);
        this.ue();
        this.$d();
        var d = this.width / 2,
            b = this.height /
            2;
        this.El(-d, b, d, b, d, -b, -d, -b);
        Rc(c, this.Qd);
        this.$d()
    };
    f.prototype.Lw = function(d, b, c) {
        this.nd(3);
        var a = this.Fd();
        a.type = 12;
        a.wa || (a.wa = Qc());
        a.wa[0] = d;
        a.wa[1] = b;
        a.wa[2] = c;
        a.wa[3] = 1;
        this.Ic = !1
    };
    f.prototype.oE = function() {
        this.nd(0)
    };
    f.prototype.YD = function() {
        this.nd(2)
    };
    f.prototype.FD = function() {
        this.Bg();
        this.K.flush()
    };
    var t = [],
        e = {};
    f.prototype.vA = function() {
        y(t);
        e = {}
    };
    f.prototype.hj = function(d, b, c, a) {
        b = !!b;
        c = !!c;
        var g = d.src + "," + b + "," + c + (b ? ",undefined" : ""),
            q = null;
        if ("undefined" !== typeof d.src && e.hasOwnProperty(g)) return q =
            e[g], q.Cm++, q;
        this.Bg();
        var l = this.K,
            f = xa(d.width) && xa(d.height),
            q = l.createTexture();
        l.bindTexture(l.TEXTURE_2D, q);
        l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0);
        var m = l.RGBA,
            r = l.RGBA,
            n = l.UNSIGNED_BYTE;
        if (a && !this.Of) switch (a) {
            case 1:
                r = m = l.RGB;
                break;
            case 2:
                n = l.UNSIGNED_SHORT_4_4_4_4;
                break;
            case 3:
                n = l.UNSIGNED_SHORT_5_5_5_1;
                break;
            case 4:
                r = m = l.RGB, n = l.UNSIGNED_SHORT_5_6_5
        }
        if (1 === this.version && !f && b) {
            a = document.createElement("canvas");
            a.width = za(d.width);
            a.height = za(d.height);
            var u = a.getContext("2d");
            "undefined" !== typeof u.imageSmoothingEnabled ? u.imageSmoothingEnabled = c : (u.webkitImageSmoothingEnabled = c, u.mozImageSmoothingEnabled = c, u.msImageSmoothingEnabled = c);
            u.drawImage(d, 0, 0, d.width, d.height, 0, 0, a.width, a.height);
            l.texImage2D(l.TEXTURE_2D, 0, m, r, n, a)
        } else l.texImage2D(l.TEXTURE_2D, 0, m, r, n, d);
        b ? (l.texParameteri(l.TEXTURE_2D, l.TEXTURE_WRAP_S, l.REPEAT), l.texParameteri(l.TEXTURE_2D, l.TEXTURE_WRAP_T, l.REPEAT)) : (l.texParameteri(l.TEXTURE_2D, l.TEXTURE_WRAP_S, l.CLAMP_TO_EDGE), l.texParameteri(l.TEXTURE_2D,
            l.TEXTURE_WRAP_T, l.CLAMP_TO_EDGE));
        c ? (l.texParameteri(l.TEXTURE_2D, l.TEXTURE_MAG_FILTER, l.LINEAR), (f || 2 <= this.version) && this.eu ? (l.texParameteri(l.TEXTURE_2D, l.TEXTURE_MIN_FILTER, l.LINEAR_MIPMAP_LINEAR), l.generateMipmap(l.TEXTURE_2D)) : l.texParameteri(l.TEXTURE_2D, l.TEXTURE_MIN_FILTER, l.LINEAR)) : (l.texParameteri(l.TEXTURE_2D, l.TEXTURE_MAG_FILTER, l.NEAREST), l.texParameteri(l.TEXTURE_2D, l.TEXTURE_MIN_FILTER, l.NEAREST));
        l.bindTexture(l.TEXTURE_2D, null);
        this.Ng = null;
        q.uh = d.width;
        q.sh = d.height;
        q.Cm = 1;
        q.Lt =
            g;
        t.push(q);
        return e[g] = q
    };
    f.prototype.Id = function(d, b, c, a) {
        this.Bg();
        var g = this.K;
        this.Of && (a = !1);
        var e = g.createTexture();
        g.bindTexture(g.TEXTURE_2D, e);
        g.texImage2D(g.TEXTURE_2D, 0, g.RGBA, d, b, 0, g.RGBA, a ? g.UNSIGNED_SHORT_4_4_4_4 : g.UNSIGNED_BYTE, null);
        g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_S, g.CLAMP_TO_EDGE);
        g.texParameteri(g.TEXTURE_2D, g.TEXTURE_WRAP_T, g.CLAMP_TO_EDGE);
        g.texParameteri(g.TEXTURE_2D, g.TEXTURE_MAG_FILTER, c ? g.LINEAR : g.NEAREST);
        g.texParameteri(g.TEXTURE_2D, g.TEXTURE_MIN_FILTER, c ? g.LINEAR :
            g.NEAREST);
        g.bindTexture(g.TEXTURE_2D, null);
        this.Ng = null;
        e.uh = d;
        e.sh = b;
        t.push(e);
        return e
    };
    f.prototype.PE = function(d, b, c) {
        this.Bg();
        var a = this.K;
        this.Of && (c = !1);
        a.bindTexture(a.TEXTURE_2D, b);
        a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0);
        try {
            a.texImage2D(a.TEXTURE_2D, 0, a.RGBA, a.RGBA, c ? a.UNSIGNED_SHORT_4_4_4_4 : a.UNSIGNED_BYTE, d)
        } catch (g) {
            console && console.error && console.error("Error updating WebGL texture: ", g)
        }
        a.bindTexture(a.TEXTURE_2D, null);
        this.Ng = null
    };
    f.prototype.deleteTexture = function(d) {
        d &&
            ("undefined" !== typeof d.Cm && 1 < d.Cm ? d.Cm-- : (this.Bg(), d === this.Ng && (this.K.bindTexture(this.K.TEXTURE_2D, null), this.Ng = null), d === this.Th && (this.K.activeTexture(this.K.TEXTURE1), this.K.bindTexture(this.K.TEXTURE_2D, null), this.K.activeTexture(this.K.TEXTURE0), this.Th = null), Wa(t, d), "undefined" !== typeof d.Lt && delete e[d.Lt], this.K.deleteTexture(d)))
    };
    f.prototype.ve = function(d) {
        if (d !== this.Ao) {
            var b = this.Fd();
            b.type = 6;
            this.Ao = b.xe = d;
            this.Ic = !1
        }
    };
    Fb = f
})();
(function() {
    function f(a) {
        if (a && (a.getContext || a.dc) && !a.c2runtime) {
            a.c2runtime = this;
            var b = this;
            this.Uc = (this.Fk = /crosswalk/i.test(navigator.userAgent) || /xwalk/i.test(navigator.userAgent) || !("undefined" === typeof window.c2isCrosswalk || !window.c2isCrosswalk)) || "undefined" !== typeof window.device && ("undefined" !== typeof window.device.cordova || "undefined" !== typeof window.device.phonegap) || "undefined" !== typeof window.c2iscordova && window.c2iscordova;
            this.Kc = !!a.dc;
            this.Nu = "undefined" !== typeof window.AppMobi ||
                this.Kc;
            this.yd = !!window.c2cocoonjs;
            this.le = !!window.c2ejecta;
            this.yd && (CocoonJS.App.onSuspended.addEventListener(function() {
                b.setSuspended(!0)
            }), CocoonJS.App.onActivated.addEventListener(function() {
                b.setSuspended(!1)
            }));
            this.le && (document.addEventListener("pagehide", function() {
                b.setSuspended(!0)
            }), document.addEventListener("pageshow", function() {
                b.setSuspended(!1)
            }), document.addEventListener("resize", function() {
                b.setSize(window.innerWidth, window.innerHeight)
            }));
            this.wb = this.Kc || this.yd || this.le;
            this.Ik =
                /edge\//i.test(navigator.userAgent);
            this.Of = (/msie/i.test(navigator.userAgent) || /trident/i.test(navigator.userAgent) || /iemobile/i.test(navigator.userAgent)) && !this.Ik;
            this.Uq = /tizen/i.test(navigator.userAgent);
            this.Je = /android/i.test(navigator.userAgent) && !this.Uq && !this.Of && !this.Ik;
            this.Su = (/iphone/i.test(navigator.userAgent) || /ipod/i.test(navigator.userAgent)) && !this.Of && !this.Ik;
            this.TC = /ipad/i.test(navigator.userAgent);
            this.Nd = this.Su || this.TC || this.le;
            this.Ek = (/chrome/i.test(navigator.userAgent) ||
                /chromium/i.test(navigator.userAgent)) && !this.Of && !this.Ik;
            this.vn = /amazonwebappplatform/i.test(navigator.userAgent);
            this.KC = /firefox/i.test(navigator.userAgent);
            this.OC = /safari/i.test(navigator.userAgent) && !this.Ek && !this.Of && !this.Ik;
            this.PC = /windows/i.test(navigator.userAgent);
            this.Pu = this.Kg = "undefined" !== typeof window.c2nodewebkit || "undefined" !== typeof window.c2nwjs || /nodewebkit/i.test(navigator.userAgent) || /nwjs/i.test(navigator.userAgent);
            this.IC = "undefined" !== typeof window.is_scirra_arcade;
            this.Cn = !("undefined" === typeof window.c2isWindows8 || !window.c2isWindows8);
            this.RC = !("undefined" === typeof window.c2isWindows8Capable || !window.c2isWindows8Capable);
            this.Lg = !("undefined" === typeof window.c2isWindowsPhone8 || !window.c2isWindowsPhone8);
            this.Dn = !("undefined" === typeof window.c2isWindowsPhone81 || !window.c2isWindowsPhone81);
            this.Bn = !!window.cr_windows10;
            this.An = this.Cn || this.RC || this.Dn || this.Bn;
            this.yn = !("undefined" === typeof window.c2isBlackberry10 || !window.c2isBlackberry10);
            this.wn = this.Je &&
                !this.Ek && !this.Fk && !this.KC && !this.vn && !this.wb;
            this.devicePixelRatio = 1;
            this.Jg = this.Uc || this.Fk || this.Nu || this.yd || this.Je || this.Nd || this.Lg || this.Dn || this.yn || this.Uq || this.le;
            this.Jg || (this.Jg = /(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));
            this.Mk = !!(this.Nd && this.Uc && window.webkit);
            this.Gq = null;
            this.BC = "";
            this.Mk && (this.Gq = cordova && cordova.plugins && cordova.plugins.CorHttpd ? cordova.plugins.CorHttpd : null);
            "undefined" === typeof cr_is_preview ||
                this.Kg || "?nw" !== window.location.search && !/nodewebkit/i.test(navigator.userAgent) && !/nwjs/i.test(navigator.userAgent) || (this.Kg = !0);
            this.canvas = a;
            this.Nt = document.getElementById("c2canvasdiv");
            this.F = this.K = null;
            this.Aq = "(unavailable)";
            this.ib = !1;
            this.Ah = 0;
            this.mb = null;
            this.lq = "";
            this.dn = !1;
            this.Qv = this.Rv = 0;
            this.canvas.oncontextmenu = function(a) {
                a.preventDefault && a.preventDefault();
                return !1
            };
            this.canvas.onselectstart = function(a) {
                a.preventDefault && a.preventDefault();
                return !1
            };
            this.Kc && (window.c2runtime =
                this);
            this.Kg && (window.ondragover = function(a) {
                a.preventDefault();
                return !1
            }, window.ondrop = function(a) {
                a.preventDefault();
                return !1
            }, window.nwgui && window.nwgui.App.clearCache && window.nwgui.App.clearCache());
            this.wn && "undefined" !== typeof jQuery && jQuery("canvas").parents("*").css("overflow", "visible");
            this.width = a.width;
            this.height = a.height;
            this.W = this.width;
            this.V = this.height;
            this.Om = this.width;
            this.ik = this.height;
            this.fj = window.innerWidth;
            this.ej = window.innerHeight;
            this.Ka = !0;
            this.Kk = !1;
            Date.now || (Date.now =
                function() {
                    return +new Date
                });
            this.plugins = [];
            this.types = {};
            this.G = [];
            this.qb = [];
            this.gr = {};
            this.Ke = [];
            this.cq = {};
            this.Hf = [];
            this.Wj = [];
            this.bp = [];
            this.$z = [];
            this.aA = [];
            this.Tu = this.ax = null;
            this.xh = {};
            this.Rq = this.Hg = !1;
            this.Md = 0;
            this.Pq = this.Tq = !1;
            this.Fe = [];
            this.Hk = !1;
            this.Pn = this.es = "";
            this.ec = null;
            this.Qf = "";
            this.Wl = this.Yw = !1;
            this.cn = [];
            this.zh = this.Ag = 0;
            this.Dv = 30;
            this.Rp = this.fl = 0;
            this.ni = 1;
            this.nc = new rb;
            this.hg = new rb;
            this.co = this.ln = this.Eh = this.Xd = this.Vh = this.kq = this.Jn = 0;
            this.Kp = null;
            this.Vm = [];
            this.bq = [];
            this.Ym = -1;
            this.pr = [
                []
            ];
            this.Fs = this.Tn = 0;
            this.yo(null);
            this.rr = [];
            this.Wn = -1;
            this.Lv = this.ml = 0;
            this.fr = !0;
            this.rk = 0;
            this.Xl = [];
            this.Cs = this.Ur = -1;
            this.Gn = !0;
            this.ij = 0;
            this.Jk = !1;
            this.tE = 0;
            this.Ai = null;
            this.jf = this.Cu = !1;
            this.Pv = new ma;
            this.Er = new ma;
            this.Fr = new ma;
            this.Gl = [];
            this.Se = new tb([]);
            this.As = new tb([]);
            this.xi = [];
            this.zk = {};
            this.wg = {};
            this.ng = {};
            this.Uj = {};
            this.Ht = {};
            this.dv = this.On = this.Pb = this.ac = this.cv = this.Nn = this.eb = null;
            this.Qj = this.Vq = !1;
            this.mq = [null, null];
            this.Gh = 0;
            this.hq = "";
            this.Tf = {};
            this.Ul = this.Qg = null;
            this.$w = "";
            this.bo = [];
            this.UD()
        }
    }

    function m(a, b) {
        return 128 >= b ? a[3] : 256 >= b ? a[2] : 512 >= b ? a[1] : a[0]
    }

    function k() {
        try {
            return !!window.indexedDB
        } catch (a) {
            return !1
        }
    }

    function p(a) {
        a.target.result.createObjectStore("saves", {
            keyPath: "slot"
        })
    }

    function c(a, b, d, c) {
        try {
            var g = indexedDB.open("_C2SaveStates");
            g.onupgradeneeded = p;
            g.onerror = c;
            g.onsuccess = function(g) {
                g = g.target.result;
                g.onerror = c;
                g.transaction(["saves"], "readwrite").objectStore("saves").put({
                    slot: a,
                    data: b
                }).onsuccess = d
            }
        } catch (l) {
            c(l)
        }
    }

    function t(a, b, d) {
        try {
            var c = indexedDB.open("_C2SaveStates");
            c.onupgradeneeded = p;
            c.onerror = d;
            c.onsuccess = function(c) {
                c = c.target.result;
                c.onerror = d;
                var g = c.transaction(["saves"]).objectStore("saves").get(a);
                g.onsuccess = function() {
                    g.result ? b(g.result.data) : b(null)
                }
            }
        } catch (g) {
            d(g)
        }
    }

    function e() {
        ra("Reloading for continuous preview");
        window.c2cocoonjs ? CocoonJS.App.reload() : -1 < window.location.search.indexOf("continuous") ? window.location.reload(!0) : window.location = window.location +
            "?continuous"
    }

    function d(a) {
        var b, d = {};
        for (b in a) !a.hasOwnProperty(b) || a[b] instanceof ma || a[b] && "undefined" !== typeof a[b].UG || "spriteCreatedDestroyCallback" !== b && (d[b] = a[b]);
        return d
    }
    var b = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame;
    f.prototype.UD = function() {
        var a = this;
        if (this.Mk) {
            var b = function() {
                a.KB(function(b) {
                    a.Zk(JSON.parse(b))
                }, function() {
                    alert("Error fetching data.js")
                })
            };
            this.Gq ? this.Gq.startServer({
                port: 0,
                localhost_only: !0
            }, function(d) {
                a.BC = d;
                b()
            }, function(a) {
                console.log("Error starting local server: " + a + ". Video playback will not work.");
                b()
            }) : (console.log("Local server unavailable. Video playback will not work."), b())
        } else {
            var d;
            this.Lg ? d = new ActiveXObject("Microsoft.XMLHTTP") : d = new XMLHttpRequest;
            var c = "data.js";
            if (this.Cn || this.Lg || this.Dn || this.Bn) c = "data.json";
            d.open("GET", c, !0);
            var g = !1;
            if (!this.wb && "response" in d && "responseType" in d) try {
                d.responseType = "json",
                    g = "json" === d.responseType
            } catch (l) {
                g = !1
            }
            if (!g && "responseType" in d) try {
                d.responseType = "text"
            } catch (e) {}
            if ("overrideMimeType" in d) try {
                d.overrideMimeType("application/json; charset=utf-8")
            } catch (n) {}
            this.Lg ? d.onreadystatechange = function() {
                4 === d.readyState && a.Zk(JSON.parse(d.responseText))
            } : (d.onload = function() {
                if (g) a.Zk(d.response);
                else if (a.le) {
                    var b = d.responseText,
                        b = b.substr(b.indexOf("{"));
                    a.Zk(JSON.parse(b))
                } else a.Zk(JSON.parse(d.responseText))
            }, d.onerror = function(a) {
                sa("Error requesting " + c + ":");
                sa(a)
            });
            d.send()
        }
    };
    f.prototype.EC = function() {
        var a = this,
            b, d, c, g, l, e, n, h, q;
        this.Oh = (!this.wb || this.le || this.Uc) && this.KE && !this.wn;
        0 === this.dd && this.Nd && (this.Oh = !1);
        this.devicePixelRatio = this.Oh ? window.devicePixelRatio || window.webkitDevicePixelRatio || window.mozDevicePixelRatio || window.msDevicePixelRatio || 1 : 1;
        this.Cc();
        0 < this.dd && this.setSize(window.innerWidth, window.innerHeight, !0);
        this.canvas.addEventListener("webglcontextlost", function(b) {
            b.preventDefault();
            a.gD();
            ra("[Construct 2] WebGL context lost");
            window.cr_setSuspended(!0)
        }, !1);
        this.canvas.addEventListener("webglcontextrestored", function() {
            a.F.Hu();
            a.F.ji(a.F.width, a.F.height, !0);
            a.ac = null;
            a.Pb = null;
            a.mq[0] = null;
            a.mq[1] = null;
            a.hD();
            a.Ka = !0;
            ra("[Construct 2] WebGL context restored");
            window.cr_setSuspended(!1)
        }, !1);
        try {
            this.cB && (this.yd || this.le || !this.wb) && (b = {
                alpha: !0,
                depth: !1,
                antialias: !1,
                powerPreference: "high-performance",
                failIfMajorPerformanceCaveat: !0
            }, this.K = this.canvas.getContext("webgl2", b) || this.canvas.getContext("webgl", b) || this.canvas.getContext("experimental-webgl",
                b))
        } catch (u) {}
        if (this.K) {
            if (b = this.K.getExtension("WEBGL_debug_renderer_info")) this.Aq = this.K.getParameter(b.UNMASKED_RENDERER_WEBGL) + " [" + this.K.getParameter(b.UNMASKED_VENDOR_WEBGL) + "]";
            this.ib && (this.Aq += " [front-to-back enabled]");
            this.wb || (this.yc = document.createElement("canvas"), jQuery(this.yc).appendTo(this.canvas.parentNode), this.yc.oncontextmenu = function() {
                return !1
            }, this.yc.onselectstart = function() {
                return !1
            }, this.yc.width = Math.round(this.Om * this.devicePixelRatio), this.yc.height = Math.round(this.ik *
                this.devicePixelRatio), jQuery(this.yc).css({
                width: this.Om + "px",
                height: this.ik + "px"
            }), this.ow(), this.Lr = this.yc.getContext("2d"));
            this.F = new Fb(this.K, this.Jg, this.ib);
            this.F.ji(this.canvas.width, this.canvas.height);
            this.F.eu = 0 !== this.VA;
            this.mb = null;
            b = 0;
            for (d = this.G.length; b < d; b++)
                for (l = this.G[b], c = 0, g = l.ja.length; c < g; c++) n = l.ja[c], n.Ub = this.F.yq(n.id), n.Ne = this.F.Qr(n.Ub), this.Qj = this.Qj || this.F.Al(n.Ub);
            b = 0;
            for (d = this.Ke.length; b < d; b++) {
                h = this.Ke[b];
                c = 0;
                for (g = h.ja.length; c < g; c++) n = h.ja[c], n.Ub =
                    this.F.yq(n.id), n.Ne = this.F.Qr(n.Ub);
                h.We();
                c = 0;
                for (g = h.U.length; c < g; c++) {
                    q = h.U[c];
                    l = 0;
                    for (e = q.ja.length; l < e; l++) n = q.ja[l], n.Ub = this.F.yq(n.id), n.Ne = this.F.Qr(n.Ub), this.Qj = this.Qj || this.F.Al(n.Ub);
                    q.We()
                }
            }
        } else {
            if (0 < this.dd && this.Kc) {
                this.canvas = null;
                document.oncontextmenu = function() {
                    return !1
                };
                document.onselectstart = function() {
                    return !1
                };
                this.mb = AppMobi.canvas.getContext("2d");
                try {
                    this.mb.samplingMode = this.jb ? "smooth" : "sharp", this.mb.globalScale = 1, this.mb.HTML5CompatibilityMode = !0, this.mb.imageSmoothingEnabled =
                        this.jb
                } catch (f) {}
                0 !== this.width && 0 !== this.height && (this.mb.width = this.width, this.mb.height = this.height)
            }
            this.mb || (this.yd ? (b = {
                antialias: !!this.jb,
                alpha: !0
            }, this.mb = this.canvas.getContext("2d", b)) : (b = {
                alpha: !0
            }, this.mb = this.canvas.getContext("2d", b)), this.Ho(this.mb, this.jb));
            this.Lr = this.yc = null
        }
        this.ox = function(b) {
            a.zb(!1, b)
        };
        window == window.top || this.wb || this.An || this.Lg || (document.addEventListener("mousedown", function() {
            window.focus()
        }, !0), document.addEventListener("touchstart", function() {
            window.focus()
        }, !0));
        "undefined" !== typeof cr_is_preview && (this.yd && console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"), -1 < window.location.search.indexOf("continuous") && (ra("Reloading for continuous preview"), this.Pn = "__c2_continuouspreview", this.Wl = !0), this.wD && !this.Jg && (jQuery(window).focus(function() {
            a.setSuspended(!1)
        }), jQuery(window).blur(function() {
            var b = window.parent;
            b && b.document.hasFocus() || a.setSuspended(!0)
        })));
        window.addEventListener("blur", function() {
            a.wj()
        });
        this.wb || (b = function(a) {
            if (Eb(a) &&
                document.activeElement && document.activeElement !== document.getElementsByTagName("body")[0] && document.activeElement.blur) try {
                document.activeElement.blur()
            } catch (b) {}
        }, "undefined" !== typeof PointerEvent ? document.addEventListener("pointerdown", b) : window.navigator.msPointerEnabled ? document.addEventListener("MSPointerDown", b) : document.addEventListener("touchstart", b), document.addEventListener("mousedown", b));
        0 === this.dd && this.Oh && 1 < this.devicePixelRatio && this.setSize(this.gc, this.fc, !0);
        this.ux();
        this.sC();
        this.go();
        this.M = {}
    };
    f.prototype.setSize = function(a, b, d) {
        var c = 0,
            g = 0,
            l = 0,
            e = 0,
            e = 0;
        if (this.fj !== a || this.ej !== b || d) {
            this.fj = a;
            this.ej = b;
            var n = this.dd,
                h = (document.mozFullScreen || document.webkitIsFullScreen || !!document.msFullscreenElement || document.fullScreen || this.Jk) && !this.Uc;
            if (h || 0 !== this.dd || d) h && 0 < this.Gh && (n = this.Gh), d = this.devicePixelRatio, 4 <= n ? (l = this.gc / this.fc, a / b > l ? (l *= b, 5 === n ? (e = l * d / this.gc, 1 < e ? e = Math.floor(e) : 1 > e && (e = 1 / Math.ceil(1 / e)), l = this.gc * e / d, e = this.fc * e / d, c = (a - l) / 2, g = (b - e) / 2, a = l,
                    b = e) : (c = (a - l) / 2, a = l)) : (e = a / l, 5 === n ? (e = e * d / this.fc, 1 < e ? e = Math.floor(e) : 1 > e && (e = 1 / Math.ceil(1 / e)), l = this.gc * e / d, e = this.fc * e / d, c = (a - l) / 2, g = (b - e) / 2, a = l) : g = (b - e) / 2, b = e), h && !this.Kg && (g = c = 0)) : this.Kg && this.Jk && 0 === this.ou && (c = Math.floor((a - this.gc) / 2), g = Math.floor((b - this.fc) / 2), a = this.gc, b = this.fc), 2 > n && (this.bk = d), this.Om = Math.round(a), this.ik = Math.round(b), this.width = Math.round(a * d), this.height = Math.round(b * d), this.Ka = !0, this.Jx ? (this.W = this.width, this.V = this.height, this.Jd = !0) : this.width < this.gc && this.height <
                this.fc || 1 === n ? (this.W = this.width, this.V = this.height, this.Jd = !0) : (this.W = this.gc, this.V = this.fc, this.Jd = !1, 2 === n ? (l = this.gc / this.fc, n = this.fj / this.ej, n < l ? this.W = this.V * n : n > l && (this.V = this.W / n)) : 3 === n && (l = this.gc / this.fc, n = this.fj / this.ej, n > l ? this.W = this.V * n : n < l && (this.V = this.W / n))), this.Nt && !this.wb && (jQuery(this.Nt).css({
                    width: Math.round(a) + "px",
                    height: Math.round(b) + "px",
                    "margin-left": Math.floor(c) + "px",
                    "margin-top": Math.floor(g) + "px"
                }), "undefined" !== typeof cr_is_preview && jQuery("#borderwrap").css({
                    width: Math.round(a) +
                        "px",
                    height: Math.round(b) + "px"
                })), this.canvas && (this.canvas.width = Math.round(a * d), this.canvas.height = Math.round(b * d), this.le ? (this.canvas.style.left = Math.floor(c) + "px", this.canvas.style.top = Math.floor(g) + "px", this.canvas.style.width = Math.round(a) + "px", this.canvas.style.height = Math.round(b) + "px") : this.Oh && !this.wb && (this.canvas.style.width = Math.round(a) + "px", this.canvas.style.height = Math.round(b) + "px")), this.yc && (this.yc.width = Math.round(a * d), this.yc.height = Math.round(b * d), this.yc.style.width = this.Om +
                    "px", this.yc.style.height = this.ik + "px"), this.F && this.F.ji(Math.round(a * d), Math.round(b * d)), this.Kc && this.mb && (this.mb.width = Math.round(a), this.mb.height = Math.round(b)), this.mb && this.Ho(this.mb, this.jb), this.ux(), this.Su && !this.Uc && window.scrollTo(0, 0)
        }
    };
    f.prototype.ux = function() {
        if (this.fA && 0 !== this.Jr) {
            var a = "portrait";
            2 === this.Jr && (a = "landscape");
            try {
                screen.orientation && screen.orientation.lock ? screen.orientation.lock(a).catch(function() {}) : screen.lockOrientation ? screen.lockOrientation(a) : screen.webkitLockOrientation ?
                    screen.webkitLockOrientation(a) : screen.mozLockOrientation ? screen.mozLockOrientation(a) : screen.msLockOrientation && screen.msLockOrientation(a)
            } catch (b) {
                console && console.warn && console.warn("Failed to lock orientation: ", b)
            }
        }
    };
    f.prototype.gD = function() {
        this.F.vA();
        this.Vq = !0;
        var a, b, d;
        a = 0;
        for (b = this.G.length; a < b; a++) d = this.G[a], d.sl && d.sl()
    };
    f.prototype.hD = function() {
        this.Vq = !1;
        var a, b, d;
        a = 0;
        for (b = this.G.length; a < b; a++) d = this.G[a], d.fo && d.fo()
    };
    f.prototype.ow = function() {
        if (!this.wb) {
            var a = (document.mozFullScreen ||
                document.webkitIsFullScreen || document.fullScreen || document.msFullscreenElement || this.Jk) && !this.Uc ? jQuery(this.canvas).offset() : jQuery(this.canvas).position();
            a.position = "absolute";
            jQuery(this.yc).css(a)
        }
    };
    var h = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || window.oCancelAnimationFrame;
    f.prototype.setSuspended = function(a) {
        var b;
        if (a && !this.Kk)
            for (ra("[Construct 2] Suspending"), this.Kk = !0, -1 !== this.Ur && h && h(this.Ur), -1 !==
                this.Cs && clearTimeout(this.Cs), a = 0, b = this.Xl.length; a < b; a++) this.Xl[a](!0);
        else if (!a && this.Kk) {
            ra("[Construct 2] Resuming");
            this.Kk = !1;
            this.Jn = nb();
            this.Vh = nb();
            a = this.fl = this.ln = 0;
            for (b = this.Xl.length; a < b; a++) this.Xl[a](!1);
            this.zb(!1)
        }
    };
    f.prototype.Ct = function(a) {
        this.Xl.push(a)
    };
    f.prototype.lg = function(a) {
        return this.bo[a]
    };
    f.prototype.Zk = function(a) {
        a && a.project || sa("Project model unavailable");
        a = a.project;
        this.name = a[0];
        this.mu = a[1];
        this.dd = a[12];
        this.ou = a[12];
        this.gc = a[10];
        this.fc = a[11];
        this.hw =
            this.gc / 2;
        this.iw = this.fc / 2;
        this.wb && !this.le && (4 <= a[12] || 0 === a[12]) && (ra("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"), this.ou = this.dd = 3);
        this.Ms = a[18];
        this.Rg = a[19];
        if (0 === this.Rg) {
            var b = new Image;
            b.crossOrigin = "anonymous";
            this.Ow(b, "loading-logo.png");
            this.Qg = {
                Vn: b
            }
        } else if (4 === this.Rg) {
            b = new Image;
            b.src = "";
            var d = new Image;
            d.src = "";
            var c = new Image;
            c.src = "";
            var g = new Image;
            g.src = "";
            var l = new Image;
            l.src = "";
            var e = new Image;
            e.src =
                "";
            var n = new Image;
            n.src = "";
            var h = new Image;
            h.src = "";
            var q = new Image;
            q.src = "";
            var u = new Image;
            u.src = "";
            var f = new Image;
            f.src = "";
            var w = new Image;
            w.src = "";
            this.Qg = {
                Vn: [b, d, c, g],
                CD: [l, e, n, h],
                RE: [q, u, f, w]
            }
        }
        this.ml = a[21];
        this.bo = Vc();
        this.rf = new U(this);
        b = 0;
        for (d = a[2].length; b < d; b++) n = a[2][b], c = this.lg(n[0]), Gb(n, c.prototype), h = new c(this), h.Oo = n[1], h.Mg = n[2], h.cH = n[5], h.Iv = n[9], h.S && h.S(), this.plugins.push(h);
        this.bo = Vc();
        b = 0;
        for (d = a[3].length; b < d; b++) {
            n = a[3][b];
            l = this.lg(n[1]);
            h = null;
            c = 0;
            for (g = this.plugins.length; c <
                g; c++)
                if (this.plugins[c] instanceof l) {
                    h = this.plugins[c];
                    break
                }
            q = new h.Ba(h);
            q.name = n[0];
            q.R = n[2];
            q.Nq = n[3].slice(0);
            q.ME = n[3].length;
            q.hA = n[4];
            q.PB = n[5];
            q.Ea = n[11];
            q.R ? (q.nj = [], q.If = this.rk++, q.nb = null) : (q.nj = null, q.If = -1, q.nb = []);
            q.an = null;
            q.Ni = null;
            q.fu = null;
            q.Lc = !1;
            q.vd = null;
            n[6] ? (q.Vo = n[6][0], q.Bs = n[6][1], q.Zl = n[6][2]) : (q.Vo = null, q.Bs = 0, q.Zl = 0);
            n[7] ? q.td = n[7] : q.td = null;
            q.index = b;
            q.e = [];
            q.Sm = [];
            q.$f = [new Hb(q)];
            q.df = 0;
            q.ie = null;
            q.DA = 0;
            q.Ej = !0;
            q.gp = Ib;
            q.uq = Jb;
            q.aC = Kb;
            q.ba = Lb;
            q.Cl = Mb;
            q.Dl = Nb;
            q.Zg =
                Pb;
            q.nn = ac;
            q.pq = bc;
            q.tq = cc;
            q.ee = dc;
            q.vq = ec;
            q.Km = new ub(this.gc, this.fc);
            q.vm = !0;
            q.wm = !1;
            q.M = {};
            q.toString = fc;
            q.qb = [];
            c = 0;
            for (g = n[8].length; c < g; c++) {
                u = n[8][c];
                f = this.lg(u[1]);
                w = null;
                l = 0;
                for (e = this.qb.length; l < e; l++)
                    if (this.qb[l] instanceof f) {
                        w = this.qb[l];
                        break
                    }
                w || (w = new f(this), w.$n = [], w.Ar = new ma, w.S && w.S(), this.qb.push(w), Wc && w instanceof Wc && (this.ax = w), Nc.WC && w instanceof Nc.WC && (this.Tu = w)); - 1 === w.$n.indexOf(q) && w.$n.push(q);
                l = new w.Ba(w, q);
                l.name = u[0];
                l.Ea = u[2];
                l.S();
                q.qb.push(l)
            }
            q.global = n[9];
            q.Sq = n[10];
            q.ja = [];
            c = 0;
            for (g = n[12].length; c < g; c++) q.ja.push({
                id: n[12][c][0],
                name: n[12][c][1],
                Ub: -1,
                Ne: !1,
                J: !0,
                index: c
            });
            q.yH = n[13];
            this.Ms && !q.R && !q.Sq && h.Mg || q.S();
            q.name && (this.types[q.name] = q);
            this.G.push(q);
            h.Oo && (c = new h.na(q), c.uid = this.ml++, c.sw = this.Lv++, c.Kh = 0, c.xk = gc, c.toString = hc, c.r = n[14], c.S(), q.e.push(c), this.Tf[c.uid.toString()] = c)
        }
        b = 0;
        for (d = a[4].length; b < d; b++)
            for (l = a[4][b], e = this.G[l[0]], c = 1, g = l.length; c < g; c++) n = this.G[l[c]], n.nb.push(e), e.nj.push(n);
        b = 0;
        for (d = a[28].length; b < d; b++) {
            l =
                a[28][b];
            e = [];
            c = 0;
            for (g = l.length; c < g; c++) e.push(this.G[l[c]]);
            c = 0;
            for (g = e.length; c < g; c++) e[c].Lc = !0, e[c].vd = e
        }
        if (0 < this.rk)
            for (b = 0, d = this.G.length; b < d; b++)
                if (n = this.G[b], !n.R && n.nb.length) {
                    n.an = Array(this.rk);
                    n.Ni = Array(this.rk);
                    n.fu = Array(this.rk);
                    q = [];
                    c = w = f = u = 0;
                    for (g = n.nb.length; c < g; c++)
                        for (h = n.nb[c], n.an[h.If] = u, u += h.ME, n.Ni[h.If] = f, f += h.hA, n.fu[h.If] = w, w += h.PB, l = 0, e = h.ja.length; l < e; l++) q.push(Na({}, h.ja[l]));
                    n.ja = q.concat(n.ja);
                    c = 0;
                    for (g = n.ja.length; c < g; c++) n.ja[c].index = c
                }
        b = 0;
        for (d = a[5].length; b <
            d; b++) n = a[5][b], c = new ic(this, n), this.gr[c.name] = c, this.Ke.push(c);
        b = 0;
        for (d = a[6].length; b < d; b++) n = a[6][b], c = new jc(this, n), this.cq[c.name] = c, this.Hf.push(c);
        b = 0;
        for (d = this.Hf.length; b < d; b++) this.Hf[b].Gb();
        b = 0;
        for (d = this.Hf.length; b < d; b++) this.Hf[b].Js();
        b = 0;
        for (d = this.bp.length; b < d; b++) this.bp[b].Gb();
        y(this.bp);
        this.eA = a[7];
        this.hq = a[8];
        this.Sd = a[9];
        this.bk = 1;
        this.cB = a[13];
        this.jb = a[14];
        this.Qt = a[15];
        this.KE = a[17];
        this.Jr = a[20];
        this.fA = 0 < this.Jr;
        this.wD = a[22];
        this.Jd = this.Jx = a[23];
        this.VA = a[24];
        this.DD = a[25];
        this.ib = a[27] && !this.Of;
        this.Po = Date.now();
        y(this.bo);
        this.EC()
    };
    var a = !1;
    f.prototype.Qs = function(b, d) {
        b.cocoonLazyLoad = !1;
        b.onerror = function(d) {
            a = b.Kt = !0;
            console && console.error && console.error("Error loading image '" + b.src + "': ", d)
        };
        this.le ? b.src = d : b.src || ("undefined" !== typeof XAPKReader ? XAPKReader.get(d, function(a) {
            b.src = a
        }, function(c) {
            a = b.Kt = !0;
            console && console.error && console.error("Error extracting image '" + d + "' from expansion file: ", c)
        }) : (b.crossOrigin = "anonymous", this.Ow(b, d)));
        this.Wj.push(b)
    };
    f.prototype.MB = function(a) {
        var b, d;
        b = 0;
        for (d = this.Wj.length; b < d; b++)
            if (this.Wj[b].wA === a) return this.Wj[b];
        return null
    };
    var g = 0,
        q = !1;
    f.prototype.sC = function() {
        this.Ai && (g = this.Ai.mE(this.eA))
    };
    f.prototype.Ft = function() {
        var a = g,
            b = 0,
            d = 0,
            c = !0,
            l, n, d = 0;
        for (l = this.Wj.length; d < l; d++) {
            n = this.Wj[d];
            var e = n.Xt;
            if (!e || 0 >= e) e = 5E4;
            a += e;
            n.src && (n.complete || n.loaded) && !n.Kt ? b += e : c = !1
        }
        c && this.DD && this.Ai && (q || (this.Ai.uE(), q = !0), d = this.Ai.bC(), b += d, d < g && (c = !1));
        this.Oe = 0 == a ? 1 : b / a;
        return c
    };
    var l = !1;
    f.prototype.go = function() {
        if (this.mb || this.F) {
            var d = this.mb || this.Lr;
            this.yc && this.ow();
            var c = window.innerWidth,
                g = window.innerHeight;
            this.fj === c && this.ej === g || this.setSize(c, g);
            this.Oe = 0;
            this.bv = -1;
            var n = this;
            if (this.Ft() && (4 !== this.Rg || l)) this.tC();
            else {
                g = Date.now() - this.Po;
                if (d) {
                    var e = this.width,
                        q = this.height,
                        c = this.devicePixelRatio;
                    if (3 > this.Rg && (this.yd || 500 <= g && this.bv != this.Oe)) {
                        d.clearRect(0, 0, e, q);
                        var g = e / 2,
                            q = q / 2,
                            e = 0 === this.Rg && this.Qg.Vn.complete,
                            h = 40 * c,
                            u = 0,
                            f = 80 * c,
                            w;
                        if (e) {
                            var r = this.Qg.Vn,
                                f = r.width * c;
                            w = r.height * c;
                            h = f / 2;
                            u = w / 2;
                            d.drawImage(r, Ha(g - h), Ha(q - u), f, w)
                        }
                        1 >= this.Rg ? (g = Ha(g - h) + .5, q = Ha(q + (u + (e ? 12 * c : 0))) + .5, d.fillStyle = a ? "red" : "DodgerBlue", d.fillRect(g, q, Math.floor(f * this.Oe), 6 * c), d.strokeStyle = "black", d.strokeRect(g, q, f, 6 * c), d.strokeStyle = "white", d.strokeRect(g - 1 * c, q - 1 * c, f + 2 * c, 8 * c)) : 2 === this.Rg && (d.font = this.le ? "12pt ArialMT" : "12pt Arial", d.fillStyle = a ? "#f00" : "#999", d.xH = "middle", c = Math.round(100 * this.Oe) + "%", e = d.measureText ? d.measureText(c) : null, d.fillText(c, g - (e ? e.width : 0) / 2,
                            q));
                        this.bv = this.Oe
                    } else if (4 === this.Rg) {
                        this.$A(d);
                        b ? b(function() {
                            n.go()
                        }) : setTimeout(function() {
                            n.go()
                        }, 16);
                        return
                    }
                }
                setTimeout(function() {
                    n.go()
                }, this.yd ? 10 : 100)
            }
        }
    };
    var N = -1,
        O = "undefined" === typeof cr_is_preview ? 200 : 0,
        r = !0,
        n = !1,
        u = 0,
        S = 0,
        B = "undefined" === typeof cr_is_preview ? 3E3 : 0,
        w = null,
        H = null,
        E = 0;
    f.prototype.$A = function(b) {
        if (!l) {
            for (var d = Math.ceil(this.width), c = Math.ceil(this.height), g = this.Qg.Vn, e = this.Qg.CD, q = this.Qg.RE, h = 0; 4 > h; ++h)
                if (!g[h].complete || !e[h].complete || !q[h].complete) return;
            0 ===
                E && (N = Date.now());
            var h = Date.now(),
                f = !1,
                k = b,
                t, p;
            r || n ? (b.clearRect(0, 0, d, c), w && w.width === d && w.height === c || (w = document.createElement("canvas"), w.width = d, w.height = c, H = w.getContext("2d")), k = H, f = !0, r && 1 === E && (N = Date.now())) : b.globalAlpha = 1;
            k.fillStyle = "#333333";
            k.fillRect(0, 0, d, c);
            256 < this.ik ? (t = Xa(.22 * c, 105, .6 * d), p = .25 * t, k.drawImage(m(e, t), .5 * d - t / 2, .2 * c - p / 2, t, p), p = t = Math.min(.395 * c, .95 * d), k.drawImage(m(g, t), .5 * d - t / 2, .485 * c - p / 2, t, p), t = Xa(.22 * c, 105, .6 * d), p = .25 * t, k.drawImage(m(q, t), .5 * d - t / 2, .868 * c - p / 2, t,
                p), k.fillStyle = "#3C3C3C", t = d, p = Math.max(.005 * c, 2), k.fillRect(0, .8 * c - p / 2, t, p), k.fillStyle = a ? "red" : "#E0FF65", t = d * this.Oe, k.fillRect(.5 * d - t / 2, .8 * c - p / 2, t, p)) : (p = t = .55 * c, k.drawImage(m(g, t), .5 * d - t / 2, .45 * c - p / 2, t, p), k.fillStyle = "#3C3C3C", t = d, p = Math.max(.005 * c, 2), k.fillRect(0, .85 * c - p / 2, t, p), k.fillStyle = a ? "red" : "#E0FF65", t = d * this.Oe, k.fillRect(.5 * d - t / 2, .85 * c - p / 2, t, p));
            f && (r ? b.globalAlpha = 0 === E ? 0 : Math.min((h - N) / 300, 1) : n && (b.globalAlpha = Math.max(1 - (h - S) / 300, 0)), b.drawImage(w, 0, 0, d, c));
            r && 300 <= h - N && 2 <= E && (r = !1,
                u = h);
            !r && h - u >= B && !n && 1 <= this.Oe && (n = !0, S = h);
            if (n && h - S >= 300 + O || "undefined" !== typeof cr_is_preview && 1 <= this.Oe && 500 > Date.now() - N) l = !0, n = r = !1, this.Qg = H = w = null;
            ++E
        }
    };
    f.prototype.tC = function() {
        this.yc && (this.canvas.parentNode.removeChild(this.yc), this.yc = this.Lr = null);
        this.Po = Date.now();
        this.Vh = nb();
        var a, b, d;
        if (this.Ms)
            for (a = 0, b = this.G.length; a < b; a++) d = this.G[a], d.R || d.Sq || !d.Ja.Mg || d.S();
        else this.Gn = !1;
        a = 0;
        for (b = this.Ke.length; a < b; a++) this.Ke[a].xA();
        2 <= this.dd && (a = this.gc / this.fc, b = this.width / this.height,
            this.bk = 2 !== this.dd && b > a || 2 === this.dd && b < a ? this.height / this.fc : this.width / this.gc);
        this.mu ? this.gr[this.mu].us() : this.Ke[0].us();
        this.Ms || (this.ij = 1, this.trigger(U.prototype.j.Zs, null), window.C2_RegisterSW && window.C2_RegisterSW());
        navigator.splashscreen && navigator.splashscreen.hide && navigator.splashscreen.hide();
        a = 0;
        for (b = this.G.length; a < b; a++) d = this.G[a], d.Sv && d.Sv();
        document.hidden || document.webkitHidden || document.mozHidden || document.msHidden ? window.cr_setSuspended(!0) : this.zb(!1);
        this.Kc && AppMobi.webview.execute("onGameReady();")
    };
    f.prototype.zb = function(a, d, c) {
        if (this.eb) {
            var g = nb();
            if (c || !this.Kk || a) {
                a || (b ? this.Ur = b(this.ox) : this.Cs = setTimeout(this.ox, this.Jg ? 1 : 16));
                d = d || g;
                var l = this.dd;
                ((c = (document.mozFullScreen || document.webkitIsFullScreen || document.fullScreen || !!document.msFullscreenElement) && !this.Uc) || this.Jk) && 0 < this.Gh && (l = this.Gh);
                if (0 < l) {
                    var l = window.innerWidth,
                        e = window.innerHeight;
                    this.fj === l && this.ej === e || this.setSize(l, e)
                }
                this.wb || (c ? (this.dn || (this.lq = jQuery(this.canvas).css("margin") || "0", this.dn = !0), this.Ek ||
                    this.Kg || jQuery(this.canvas).css({
                        "margin-left": "" + Math.floor((screen.width - this.width / this.devicePixelRatio) / 2) + "px",
                        "margin-top": "" + Math.floor((screen.height - this.height / this.devicePixelRatio) / 2) + "px"
                    })) : this.dn ? (this.Ek || this.Kg || jQuery(this.canvas).css("margin", this.lq), this.lq = "", this.dn = !1, 0 === this.dd && this.setSize(Math.round(this.Rv / this.devicePixelRatio), Math.round(this.Qv / this.devicePixelRatio), !0)) : (this.Rv = this.width, this.Qv = this.height));
                this.Gn && (c = this.Ft(), this.ij = this.Oe, c && (this.Gn = !1, this.Oe = 1, this.trigger(U.prototype.j.Zs, null), window.C2_RegisterSW && window.C2_RegisterSW()));
                this.ZC(d);
                !this.Ka && !this.yd || this.Vq || this.Wl || a || (this.Ka = !1, this.F ? this.Tc() : this.ke(), this.Ul && (this.canvas && this.canvas.toDataURL && (this.$w = this.canvas.toDataURL(this.Ul[0], this.Ul[1]), window.cr_onSnapshot && window.cr_onSnapshot(this.$w), this.trigger(U.prototype.j.By, null)), this.Ul = null));
                this.aH || (this.Xd++, this.Eh++, this.ln++);
                this.fl += nb() - g
            }
        }
    };
    f.prototype.ZC = function(a) {
        var b, d, c, g, l, e, n, q;
        1E3 <=
            a - this.Vh && (this.Vh += 1E3, 1E3 <= a - this.Vh && (this.Vh = a), this.kq = this.ln, this.ln = 0, this.Rp = this.fl, this.fl = 0);
        b = 0;
        0 !== this.Jn && (b = a - this.Jn, 0 > b && (b = 0), this.zh = b /= 1E3, .5 < this.zh ? this.zh = 0 : this.zh > 1 / this.Dv && (this.zh = 1 / this.Dv));
        this.Jn = a;
        this.Ag = this.zh * this.ni;
        this.nc.add(this.Ag);
        this.hg.add(b);
        a = (document.mozFullScreen || document.webkitIsFullScreen || document.fullScreen || !!document.msFullscreenElement || this.Jk) && !this.Uc;
        2 <= this.dd || a && 0 < this.Gh ? (b = this.gc / this.fc, d = this.width / this.height, c = this.dd, a &&
            0 < this.Gh && (c = this.Gh), this.bk = 2 !== c && d > b || 2 === c && d < b ? this.height / this.fc : this.width / this.gc, this.eb && (this.eb.Fw(this.eb.scrollX), this.eb.Gw(this.eb.scrollY))) : this.bk = this.Oh ? this.devicePixelRatio : 1;
        this.Cc();
        this.Md++;
        this.rf.bE();
        this.Md--;
        this.Cc();
        this.Md++;
        d = this.Pv.jh();
        a = 0;
        for (b = d.length; a < b; a++) d[a].qH();
        a = 0;
        for (b = this.G.length; a < b; a++)
            if (e = this.G[a], !e.R && (e.qb.length || e.nb.length))
                for (d = 0, c = e.e.length; d < c; d++)
                    for (n = e.e[d], g = 0, l = n.fa.length; g < l; g++) n.fa[g].zb();
        a = 0;
        for (b = this.G.length; a <
            b; a++)
            if (e = this.G[a], !e.R && (e.qb.length || e.nb.length))
                for (d = 0, c = e.e.length; d < c; d++)
                    for (n = e.e[d], g = 0, l = n.fa.length; g < l; g++) q = n.fa[g], q.qw && q.qw();
        d = this.Er.jh();
        a = 0;
        for (b = d.length; a < b; a++) d[a].zb();
        this.Md--;
        this.yC();
        for (a = 0; this.Kp && 10 > a++;) this.du(this.Kp);
        a = 0;
        for (b = this.Hf.length; a < b; a++) this.Hf[a].Fq = !1;
        this.eb.Ch && this.eb.Ch.Tb();
        y(this.Gl);
        this.fr = !1;
        this.Md++;
        a = 0;
        for (b = this.G.length; a < b; a++)
            if (e = this.G[a], !e.R && (e.qb.length || e.nb.length))
                for (d = 0, c = e.e.length; d < c; d++)
                    for (n = e.e[d], g = 0, l = n.fa.length; g <
                        l; g++) q = n.fa[g], q.Yo && q.Yo();
        d = this.Fr.jh();
        a = 0;
        for (b = d.length; a < b; a++) d[a].Yo();
        this.Md--
    };
    f.prototype.wj = function() {
        var a, b, d, c, g, l, e, n, q;
        a = 0;
        for (b = this.G.length; a < b; a++)
            if (e = this.G[a], !e.R)
                for (d = 0, c = e.e.length; d < c; d++)
                    if (n = e.e[d], n.wj && n.wj(), n.fa)
                        for (g = 0, l = n.fa.length; g < l; g++) q = n.fa[g], q.wj && q.wj()
    };
    f.prototype.du = function(a) {
        var b = this.eb;
        this.eb.wE();
        var d, c, g;
        if (this.F)
            for (d = 0, c = this.G.length; d < c; d++) g = this.G[d], g.R || !g.ep || g.global && 0 !== g.e.length || -1 !== a.Ck.indexOf(g) || g.ep();
        b == a && y(this.rf.sd);
        y(this.Gl);
        this.Dw(!0);
        a.us();
        this.Dw(!1);
        this.fr = this.Ka = !0;
        this.Cc()
    };
    f.prototype.Dw = function(a) {
        var b, d, c, g, l, e, n, q, h;
        b = 0;
        for (d = this.qb.length; b < d; b++) c = this.qb[b], a ? c.nl && c.nl() : c.rl && c.rl();
        b = 0;
        for (d = this.G.length; b < d; b++)
            if (c = this.G[b], c.global || c.Ja.Oo)
                for (g = 0, l = c.e.length; g < l; g++)
                    if (e = c.e[g], a ? e.nl && e.nl() : e.rl && e.rl(), e.fa)
                        for (n = 0, q = e.fa.length; n < q; n++) h = e.fa[n], a ? h.nl && h.nl() : h.rl && h.rl()
    };
    f.prototype.$l = function(a) {
        this.Er.add(a)
    };
    f.prototype.yE = function(a) {
        this.Fr.add(a)
    };
    f.prototype.vk =
        function(a) {
            return a && -1 !== a.jl ? this.zh * a.jl : this.Ag
        };
    f.prototype.ke = function() {
        this.eb.ke(this.mb);
        this.Kc && this.mb.present()
    };
    f.prototype.Tc = function() {
        this.ib && (this.Ah = 1, this.eb.yh(this.F));
        this.eb.Tc(this.F);
        this.F.FD()
    };
    f.prototype.tm = function(a) {
        a && this.Vm.push(a)
    };
    f.prototype.Bw = function(a) {
        Wa(this.Vm, a)
    };
    f.prototype.Gg = function(a) {
        a = a.toString();
        return this.Tf.hasOwnProperty(a) ? this.Tf[a] : null
    };
    var z = [];
    f.prototype.kg = function(a) {
        var b, d;
        b = a.type.name;
        var c = null;
        if (this.xh.hasOwnProperty(b)) {
            if (c =
                this.xh[b], c.contains(a)) return
        } else c = z.length ? z.pop() : new ma, this.xh[b] = c;
        c.add(a);
        this.Hg = !0;
        if (a.Lc)
            for (b = 0, d = a.siblings.length; b < d; b++) this.kg(a.siblings[b]);
        this.Rq && c.Tj.push(a);
        this.Pq || (this.Md++, this.trigger(Object.getPrototypeOf(a.type.Ja).j.Ey, a), this.Md--)
    };
    f.prototype.Cc = function() {
        if (this.Hg) {
            var a, b, d, c, g, l;
            this.Rq = !0;
            d = 0;
            for (g = this.Fe.length; d < g; ++d)
                for (a = this.Fe[d], b = a.type, b.e.push(a), c = 0, l = b.nb.length; c < l; ++c) b.nb[c].e.push(a), b.nb[c].Ej = !0;
            y(this.Fe);
            this.ty();
            mb(this.xh);
            this.Hg =
                this.Rq = !1
        }
    };
    f.prototype.ty = function() {
        for (var a in this.xh) this.xh.hasOwnProperty(a) && this.Sx(this.xh[a])
    };
    f.prototype.Sx = function(a) {
        var b = a.jh(),
            d = b[0].type,
            c, g, l, e, n, q;
        ob(d.e, a);
        d.Ej = !0;
        0 === d.e.length && (d.wm = !1);
        c = 0;
        for (g = d.nb.length; c < g; ++c) q = d.nb[c], ob(q.e, a), q.Ej = !0;
        c = 0;
        for (g = this.rf.sd.length; c < g; ++c)
            if (n = this.rf.sd[c], n.Xc.hasOwnProperty(d.index) && ob(n.Xc[d.index].Mf, a), !d.R)
                for (l = 0, e = d.nb.length; l < e; ++l) q = d.nb[l], n.Xc.hasOwnProperty(q.index) && ob(n.Xc[q.index].Mf, a);
        if (n = b[0].n) {
            if (n.ae)
                for (l =
                    n.e, c = 0, g = l.length; c < g; ++c) e = l[c], a.contains(e) && (e.Ga(), n.Ac.update(e, e.kd, null), e.kd.set(0, 0, -1, -1));
            ob(n.e, a);
            n.Pl(0)
        }
        for (c = 0; c < b.length; ++c) this.Rx(b[c], d);
        a.clear();
        z.push(a);
        this.Ka = !0
    };
    f.prototype.Rx = function(a, b) {
        var d, c, g;
        d = 0;
        for (c = this.Vm.length; d < c; ++d) this.Vm[d](a);
        a.xg && b.Km.update(a, a.xg, null);
        (d = a.n) && d.yj(a, !0);
        if (a.fa)
            for (d = 0, c = a.fa.length; d < c; ++d) g = a.fa[d], g.Uf && g.Uf(), g.behavior.Ar.remove(a);
        this.Pv.remove(a);
        this.Er.remove(a);
        this.Fr.remove(a);
        a.Uf && a.Uf();
        this.Tf.hasOwnProperty(a.uid.toString()) &&
            delete this.Tf[a.uid.toString()];
        this.co--;
        100 > b.Sm.length && b.Sm.push(a)
    };
    f.prototype.Sp = function(a, b, d, c) {
        if (a.R) {
            var g = Ha(Math.random() * a.nj.length);
            return this.Sp(a.nj[g], b, d, c)
        }
        return a.ie ? this.yg(a.ie, b, !1, d, c, !1) : null
    };
    var x = [];
    f.prototype.yg = function(a, b, d, c, g, l) {
        var e, n, q, h;
        if (!a) return null;
        var u = this.G[a[1]],
            f = u.Ja.Mg;
        if (this.Gn && f && !u.Sq || f && !this.F && 11 === a[0][11]) return null;
        var w = b;
        f || (b = null);
        var r;
        u.Sm.length ? (r = u.Sm.pop(), r.jd = !0, u.Ja.na.call(r, u)) : (r = new u.Ja.na(u), r.jd = !1);
        !d || l ||
            this.Tf.hasOwnProperty(a[2].toString()) ? r.uid = this.ml++ : r.uid = a[2];
        this.Tf[r.uid.toString()] = r;
        r.sw = this.Lv++;
        r.Kh = u.e.length;
        e = 0;
        for (n = this.Fe.length; e < n; ++e) this.Fe[e].type === u && r.Kh++;
        r.xk = gc;
        r.toString = hc;
        q = a[3];
        if (r.jd) mb(r.M);
        else {
            r.M = {};
            if ("undefined" !== typeof cr_is_preview)
                for (r.Ku = [], r.Ku.length = q.length, e = 0, n = q.length; e < n; e++) r.Ku[e] = q[e][1];
            r.$b = [];
            r.$b.length = q.length
        }
        e = 0;
        for (n = q.length; e < n; e++) r.$b[e] = q[e][0];
        if (f) {
            var m = a[0];
            r.x = ta(c) ? m[0] : c;
            r.y = ta(g) ? m[1] : g;
            r.z = m[2];
            r.width = m[3];
            r.height =
                m[4];
            r.depth = m[5];
            r.k = m[6];
            r.opacity = m[7];
            r.jc = m[8];
            r.kc = m[9];
            r.Dc = m[10];
            e = m[11];
            !this.F && u.ja.length && (r.Dc = e);
            r.fk = Ab(r.Dc);
            this.K && Bb(r, r.Dc, this.K);
            if (r.jd) {
                e = 0;
                for (n = m[12].length; e < n; e++)
                    for (q = 0, h = m[12][e].length; q < h; q++) r.sb[e][q] = m[12][e][q];
                r.gb.set(0, 0, 0, 0);
                r.xg.set(0, 0, -1, -1);
                r.kd.set(0, 0, -1, -1);
                r.Ec.Ql(r.gb);
                y(r.Dp)
            } else {
                r.sb = m[12].slice(0);
                e = 0;
                for (n = r.sb.length; e < n; e++) r.sb[e] = m[12][e].slice(0);
                r.Ma = [];
                r.mg = [];
                r.mg.length = u.ja.length;
                r.gb = new La(0, 0, 0, 0);
                r.xg = new La(0, 0, -1, -1);
                r.kd = new La(0,
                    0, -1, -1);
                r.Ec = new Ma;
                r.Dp = [];
                r.H = kc;
                r.SG = qc;
                r.Fc = rc;
                r.Ga = sc;
                r.JE = tc;
                r.Ex = uc;
                r.gf = vc
            }
            r.Te = !1;
            r.BE = 0;
            r.AE = 0;
            r.zE = null;
            14 === m.length && (r.Te = !0, r.BE = m[13][0], r.AE = m[13][1], r.zE = m[13][2]);
            e = 0;
            for (n = u.ja.length; e < n; e++) r.mg[e] = !0;
            r.Yf = !0;
            r.We = wc;
            r.We();
            r.Fx = !!r.Ma.length;
            r.Cp = !0;
            r.Gp = !0;
            u.vm = !0;
            r.visible = !0;
            r.jl = -1;
            r.n = b;
            r.Xe = b.e.length;
            r.Ah = 0;
            "undefined" === typeof r.Ca && (r.Ca = null);
            this.Ka = r.Cf = !0
        }
        var k;
        y(x);
        e = 0;
        for (n = u.nb.length; e < n; e++) x.push.apply(x, u.nb[e].qb);
        x.push.apply(x, u.qb);
        if (r.jd)
            for (e = 0, n =
                x.length; e < n; e++) {
                var N = x[e];
                k = r.fa[e];
                k.jd = !0;
                N.behavior.na.call(k, N, r);
                m = a[4][e];
                q = 0;
                for (h = m.length; q < h; q++) k.r[q] = m[q];
                k.S();
                N.behavior.Ar.add(r)
            } else
                for (r.fa = [], e = 0, n = x.length; e < n; e++) N = x[e], k = new N.behavior.na(N, r), k.jd = !1, k.r = a[4][e].slice(0), k.S(), r.fa.push(k), N.behavior.Ar.add(r);
        m = a[5];
        if (r.jd)
            for (e = 0, n = m.length; e < n; e++) r.r[e] = m[e];
        else r.r = m.slice(0);
        this.Fe.push(r);
        this.Hg = !0;
        b && (b.ak(r, !0), 1 !== b.re || 1 !== b.se) && (u.wm = !0);
        this.co++;
        if (u.Lc) {
            if (r.Lc = !0, r.jd ? y(r.siblings) : r.siblings = [], !d &&
                !l) {
                e = 0;
                for (n = u.vd.length; e < n; e++)
                    if (u.vd[e] !== u) {
                        if (!u.vd[e].ie) return null;
                        r.siblings.push(this.yg(u.vd[e].ie, w, !1, f ? r.x : c, f ? r.y : g, !0))
                    }
                e = 0;
                for (n = r.siblings.length; e < n; e++)
                    for (r.siblings[e].siblings.push(r), q = 0; q < n; q++) e !== q && r.siblings[e].siblings.push(r.siblings[q])
            }
        } else r.Lc = !1, r.siblings = null;
        r.S();
        e = 0;
        for (n = r.fa.length; e < n; e++) r.fa[e].pw && r.fa[e].pw();
        return r
    };
    f.prototype.pn = function(a) {
        var b, d;
        b = 0;
        for (d = this.eb.U.length; b < d; b++) {
            var c = this.eb.U[b];
            if (Db(c.name, a)) return c
        }
        return null
    };
    f.prototype.Qi =
        function(a) {
            a = Ha(a);
            0 > a && (a = 0);
            a >= this.eb.U.length && (a = this.eb.U.length - 1);
            return this.eb.U[a]
        };
    f.prototype.ZB = function(a) {
        return ua(a) ? this.Qi(a) : this.pn(a.toString())
    };
    f.prototype.Lp = function(a) {
        var b, d;
        b = 0;
        for (d = a.length; b < d; b++) a[b].ba().ta = !0
    };
    f.prototype.Cl = function(a) {
        var b, d;
        b = 0;
        for (d = a.length; b < d; b++) a[b].Cl()
    };
    f.prototype.Dl = function(a) {
        var b, d;
        b = 0;
        for (d = a.length; b < d; b++) a[b].Dl()
    };
    f.prototype.Zg = function(a) {
        var b, d;
        b = 0;
        for (d = a.length; b < d; b++) a[b].Zg()
    };
    f.prototype.Ax = function(a) {
        if (a.vm) {
            var b,
                d, c = a.e;
            b = 0;
            for (d = c.length; b < d; ++b) c[b].Ex();
            c = this.Fe;
            b = 0;
            for (d = c.length; b < d; ++b) c[b].type === a && c[b].Ex();
            a.vm = !1
        }
    };
    f.prototype.rq = function(a, b, d, c) {
        var g, e, l = a ? 1 !== a.re || 1 !== a.se : !1;
        if (b.R)
            for (a = 0, g = b.nj.length; a < g; ++a) e = b.nj[a], l || e.wm ? Sa(c, e.e) : (this.Ax(e), e.Km.zo(d, c));
        else l || b.wm ? Sa(c, b.e) : (this.Ax(b), b.Km.zo(d, c))
    };
    f.prototype.yu = function(a, b, d, c) {
        var g, e;
        g = 0;
        for (e = b.length; g < e; ++g) this.rq(a, b[g], d, c)
    };
    f.prototype.fC = function(a, b, d) {
        var c = this.ax;
        c && this.yu(a, c.$n, b, d)
    };
    f.prototype.YB = function(a,
        b, d) {
        var c = this.Tu;
        c && this.yu(a, c.$n, b, d)
    };
    f.prototype.To = function(a, b, d) {
        var c = a.ba(),
            g, e, l, n, q = this.Fb().Mb.Rd,
            h, u, r;
        if (c.ta)
            for (c.ta = !1, y(c.e), g = 0, n = a.e.length; g < n; g++) l = a.e[g], l.Ga(), h = l.n.tc(b, d, !0), u = l.n.tc(b, d, !1), l.Fc(h, u) ? c.e.push(l) : q && c.ra.push(l);
        else {
            e = 0;
            r = q ? c.ra : c.e;
            g = 0;
            for (n = r.length; g < n; g++) l = r[g], l.Ga(), h = l.n.tc(b, d, !0), u = l.n.tc(b, d, !1), l.Fc(h, u) && (q ? c.e.push(l) : (c.e[e] = c.e[g], e++));
            r.length = e
        }
        a.ee();
        return c.Eq()
    };
    f.prototype.qd = function(a, b) {
        if (!(a && b && a !== b && a.Cf && b.Cf)) return !1;
        a.Ga();
        b.Ga();
        var d = a.n,
            c = b.n,
            g, e, l, n, q, h, u, r;
        if (d === c || d.re === c.re && c.se === c.se && d.scale === c.scale && d.k === c.k && d.Ye === c.Ye) {
            if (!a.gb.FC(b.gb) || !a.Ec.Mu(b.Ec) || a.Te && b.Te) return !1;
            if (a.Te) return this.mx(a, b);
            if (b.Te) return this.mx(b, a);
            u = a.Ca && !a.Ca.Ph();
            g = b.Ca && !b.Ca.Ph();
            if (!u && !g) return !0;
            u ? (a.Ca.vh(a.width, a.height, a.k), u = a.Ca) : (this.Se.Cj(a.Ec, a.x, a.y, a.width, a.height), u = this.Se);
            g ? (b.Ca.vh(b.width, b.height, b.k), r = b.Ca) : (this.Se.Cj(b.Ec, b.x, b.y, b.width, b.height), r = this.Se);
            return u.Dk(r, b.x -
                a.x, b.y - a.y)
        }
        u = a.Ca && !a.Ca.Ph();
        g = b.Ca && !b.Ca.Ph();
        u ? (a.Ca.vh(a.width, a.height, a.k), this.Se.Tw(a.Ca)) : this.Se.Cj(a.Ec, a.x, a.y, a.width, a.height);
        u = this.Se;
        g ? (b.Ca.vh(b.width, b.height, b.k), this.As.Tw(b.Ca)) : this.As.Cj(b.Ec, b.x, b.y, b.width, b.height);
        r = this.As;
        g = 0;
        for (e = u.te; g < e; g++) l = 2 * g, n = l + 1, q = u.Sb[l], h = u.Sb[n], u.Sb[l] = d.ob(q + a.x, h + a.y, !0), u.Sb[n] = d.ob(q + a.x, h + a.y, !1);
        u.Ga();
        g = 0;
        for (e = r.te; g < e; g++) l = 2 * g, n = l + 1, q = r.Sb[l], h = r.Sb[n], r.Sb[l] = c.ob(q + b.x, h + b.y, !0), r.Sb[n] = c.ob(q + b.x, h + b.y, !1);
        r.Ga();
        return u.Dk(r,
            0, 0)
    };
    var K = new Ma;
    new La(0, 0, 0, 0);
    var Y = [];
    f.prototype.mx = function(a, b) {
        var d, c, g, e, l = b.gb,
            n = a.x,
            q = a.y;
        a.YG(l, Y);
        var h = b.Ca && !b.Ca.Ph();
        d = 0;
        for (c = Y.length; d < c; ++d)
            if (g = Y[d], e = g.ND, l.GC(e, n, q) && (K.Ql(e), K.offset(n, q), K.Mu(b.Ec)))
                if (h)
                    if (b.Ca.vh(b.width, b.height, b.k), g.Yg) {
                        if (g.Yg.Dk(b.Ca, b.x - (n + e.left), b.y - (q + e.top))) return y(Y), !0
                    } else {
                        if (this.Se.Cj(K, 0, 0, e.right - e.left, e.bottom - e.top), this.Se.Dk(b.Ca, b.x, b.y)) return y(Y), !0
                    }
        else if (g.Yg) {
            if (this.Se.Cj(b.Ec, 0, 0, b.width, b.height), g.Yg.Dk(this.Se, -(n + e.left), -(q + e.top))) return y(Y), !0
        } else return y(Y), !0;
        y(Y);
        return !1
    };
    f.prototype.Gs = function(a, b) {
        if (!b) return !1;
        var d, c, g, e, l;
        d = 0;
        for (c = a.qb.length; d < c; d++)
            if (a.qb[d].behavior instanceof b) return !0;
        if (!a.R)
            for (d = 0, c = a.nb.length; d < c; d++)
                for (l = a.nb[d], g = 0, e = l.qb.length; g < e; g++)
                    if (l.qb[g].behavior instanceof b) return !0;
        return !1
    };
    f.prototype.Hs = function(a) {
        return this.Gs(a, Nc.PF)
    };
    f.prototype.Is = function(a) {
        return this.Gs(a, Nc.TF)
    };
    var D = [];
    f.prototype.rd = function(a) {
        var b, d, c;
        a.Ga();
        this.fC(a.n,
            a.gb, D);
        b = 0;
        for (d = D.length; b < d; ++b)
            if (c = D[b], c.M.solidEnabled && this.qd(a, c)) return y(D), c;
        y(D);
        return null
    };
    var X = [];
    f.prototype.bg = function(a, b) {
        var d = null;
        b && (d = X, y(d));
        a.Ga();
        this.YB(a.n, a.gb, D);
        var c, g, e;
        c = 0;
        for (g = D.length; c < g; ++c)
            if (e = D[c], e.M.jumpthruEnabled && this.qd(a, e))
                if (b) d.push(e);
                else return y(D), e;
        y(D);
        return d
    };
    f.prototype.Pe = function(a, b, d, c, g, e) {
        c = c || 50;
        var l = a.x,
            n = a.y,
            q, h = null,
            u = null;
        for (q = 0; q < c; q++)
            if (a.x = l + b * q, a.y = n + d * q, a.H(), !this.qd(a, h) && ((h = this.rd(a)) && (u = h), !h && (g && (e ? h =
                    this.qd(a, e) ? e : null : h = this.bg(a), h && (u = h)), !h))) return u && this.Sr(a, b, d, u), !0;
        a.x = l;
        a.y = n;
        a.H();
        return !1
    };
    f.prototype.Sr = function(a, b, d, c) {
        var g = 2,
            e, l = !1;
        e = !1;
        for (var n = a.x, q = a.y; 16 >= g;) e = 1 / g, g *= 2, a.x += b * e * (l ? 1 : -1), a.y += d * e * (l ? 1 : -1), a.H(), this.qd(a, c) ? e = l = !0 : (e = l = !1, n = a.x, q = a.y);
        e && (a.x = n, a.y = q, a.H())
    };
    f.prototype.KD = function(a, b) {
        var d = ta(b) ? 100 : b,
            c = 0,
            g = a.x,
            e = a.y,
            l = 0,
            n = 0,
            q = 0,
            h = this.rd(a);
        if (!h) return !0;
        for (; c <= d;) {
            switch (l) {
                case 0:
                    n = 0;
                    q = -1;
                    c++;
                    break;
                case 1:
                    n = 1;
                    q = -1;
                    break;
                case 2:
                    n = 1;
                    q = 0;
                    break;
                case 3:
                    q =
                        n = 1;
                    break;
                case 4:
                    n = 0;
                    q = 1;
                    break;
                case 5:
                    n = -1;
                    q = 1;
                    break;
                case 6:
                    n = -1;
                    q = 0;
                    break;
                case 7:
                    q = n = -1
            }
            l = (l + 1) % 8;
            a.x = Ha(g + n * c);
            a.y = Ha(e + q * c);
            a.H();
            if (!this.qd(a, h) && (h = this.rd(a), !h)) return !0
        }
        a.x = g;
        a.y = e;
        a.H();
        return !1
    };
    f.prototype.Fl = function(a, b) {
        a.Cf && b.Cf && this.Gl.push([a, b])
    };
    f.prototype.mA = function(a, b) {
        var d, c, g;
        d = 0;
        for (c = this.Gl.length; d < c; d++)
            if (g = this.Gl[d], g[0] == a && g[1] == b || g[0] == b && g[1] == a) return !0;
        return !1
    };
    var T = -1;
    f.prototype.trigger = function(a, b, d) {
        if (!this.eb) return !1;
        var c = this.eb.Ch;
        if (!c) return !1;
        var g = !1,
            e, l, n;
        T++;
        var q = c.Wp;
        l = 0;
        for (n = q.length; l < n; ++l) e = this.rx(a, b, q[l], d), g = g || e;
        e = this.rx(a, b, c, d);
        T--;
        return g || e
    };
    f.prototype.rx = function(a, b, d, c) {
        var g = !1,
            e, l, n, q;
        if (b)
            for (n = this.Es(a, b, b.type.name, d, c), g = g || n, q = b.type.nb, e = 0, l = q.length; e < l; ++e) n = this.Es(a, b, q[e].name, d, c), g = g || n;
        else n = this.Es(a, b, "system", d, c), g = g || n;
        return g
    };
    f.prototype.Es = function(a, b, d, c, g) {
        var e, l = !1,
            n = !1,
            n = "undefined" !== typeof g,
            q = (n ? c.hu : c.tx)[d];
        if (!q) return l;
        var h = null;
        c = 0;
        for (e = q.length; c < e; ++c)
            if (q[c].method ==
                a) {
                h = q[c].qk;
                break
            }
        if (!h) return l;
        var u;
        n ? u = h[g] : u = h;
        if (!u) return null;
        c = 0;
        for (e = u.length; c < e; c++) a = u[c][0], g = u[c][1], n = this.JB(b, d, a, g), l = l || n;
        return l
    };
    f.prototype.JB = function(a, b, d, c) {
        var g, e, l = !1;
        this.Fs++;
        var n = this.Fb().Mb;
        n && this.Cl(n.fh);
        var q = 1 < this.Fs;
        this.Cl(d.fh);
        q && this.ID();
        var h = this.yo(d);
        h.Mb = d;
        a && (g = this.types[b].ba(), g.ta = !1, y(g.e), g.e[0] = a, this.types[b].ee());
        a = !0;
        if (d.parent) {
            b = h.lx;
            for (g = d.parent; g;) b.push(g), g = g.parent;
            b.reverse();
            g = 0;
            for (e = b.length; g < e; g++)
                if (!b[g].dE()) {
                    a = !1;
                    break
                }
        }
        a && (this.Eh++, d.Rd ? d.cE(c) : d.Tb(), l = l || h.Uh);
        this.qo();
        q && this.zD();
        this.Zg(d.fh);
        n && this.Zg(n.fh);
        this.Hg && 0 === this.Md && 0 === T && !this.Tq && this.Cc();
        this.Fs--;
        return l
    };
    f.prototype.uk = function() {
        var a = this.Fb();
        return a.Mb.Wb[a.Lb]
    };
    f.prototype.JC = function() {
        return 0 === this.Fb().Lb
    };
    f.prototype.TB = function() {
        var a = this.Fb();
        return a.Mb.be[a.bd]
    };
    f.prototype.ID = function() {
        this.Tn++;
        this.Tn >= this.pr.length && this.pr.push([])
    };
    f.prototype.zD = function() {
        this.Tn--
    };
    f.prototype.uu = function() {
        return this.pr[this.Tn]
    };
    f.prototype.yo = function(a) {
        this.Ym++;
        this.Ym >= this.bq.length && this.bq.push(new xc);
        var b = this.Fb();
        b.reset(a);
        return b
    };
    f.prototype.qo = function() {
        this.Ym--
    };
    f.prototype.Fb = function() {
        return this.bq[this.Ym]
    };
    f.prototype.JD = function() {
        this.Wn++;
        this.Wn >= this.rr.length && this.rr.push(aa({
            name: void 0,
            index: 0,
            rc: !1
        }));
        var a = this.UB();
        a.name = void 0;
        a.index = 0;
        a.rc = !1;
        return a
    };
    f.prototype.AD = function() {
        this.Wn--
    };
    f.prototype.UB = function() {
        return this.rr[this.Wn]
    };
    f.prototype.vu = function(a, b) {
        for (var d, c,
                g, e, l, n; b;) {
            d = 0;
            for (c = b.we.length; d < c; d++)
                if (n = b.we[d], n instanceof yc && Db(a, n.name)) return n;
            b = b.parent
        }
        d = 0;
        for (c = this.Hf.length; d < c; d++)
            for (l = this.Hf[d], g = 0, e = l.Cg.length; g < e; g++)
                if (n = l.Cg[g], n instanceof yc && Db(a, n.name)) return n;
        return null
    };
    f.prototype.wu = function(a) {
        var b, d;
        b = 0;
        for (d = this.Ke.length; b < d; b++)
            if (this.Ke[b].Ea === a) return this.Ke[b];
        return null
    };
    f.prototype.rn = function(a) {
        var b, d;
        b = 0;
        for (d = this.G.length; b < d; b++)
            if (this.G[b].Ea === a) return this.G[b];
        return null
    };
    f.prototype.VB = function(a) {
        var b,
            d;
        b = 0;
        for (d = this.xi.length; b < d; b++)
            if (this.xi[b].Ea === a) return this.xi[b];
        return null
    };
    f.prototype.EA = function(a, b) {
        this.Ul = [a, b];
        this.Ka = !0
    };
    f.prototype.yC = function() {
        var a = this,
            b = this.es,
            d = this.Qf,
            g = this.Pn,
            l = !1;
        this.Yw && (l = !0, b = "__c2_continuouspreview", this.Yw = !1);
        if (b.length) {
            this.Cc();
            d = this.hE();
            if (k() && !this.yd) c(b, d, function() {
                ra("Saved state to IndexedDB storage (" + d.length + " bytes)");
                a.Qf = d;
                a.trigger(U.prototype.j.op, null);
                a.Qf = "";
                l && e()
            }, function(c) {
                try {
                    localStorage.setItem("__c2save_" +
                        b, d), ra("Saved state to WebStorage (" + d.length + " bytes)"), a.Qf = d, a.trigger(U.prototype.j.op, null), a.Qf = "", l && e()
                } catch (g) {
                    ra("Failed to save game state: " + c + "; " + g), a.trigger(U.prototype.j.dt, null)
                }
            });
            else try {
                localStorage.setItem("__c2save_" + b, d), ra("Saved state to WebStorage (" + d.length + " bytes)"), a.Qf = d, this.trigger(U.prototype.j.op, null), a.Qf = "", l && e()
            } catch (n) {
                ra("Error saving to WebStorage: " + n), a.trigger(U.prototype.j.dt, null)
            }
            this.Pn = this.es = "";
            this.ec = null
        }
        if (g.length) {
            if (k() && !this.yd) t(g,
                function(b) {
                    b ? (a.ec = b, ra("Loaded state from IndexedDB storage (" + a.ec.length + " bytes)")) : (a.ec = localStorage.getItem("__c2save_" + g) || "", ra("Loaded state from WebStorage (" + a.ec.length + " bytes)"));
                    a.Wl = !1;
                    a.ec || (a.ec = null, a.trigger(U.prototype.j.nm, null))
                },
                function() {
                    a.ec = localStorage.getItem("__c2save_" + g) || "";
                    ra("Loaded state from WebStorage (" + a.ec.length + " bytes)");
                    a.Wl = !1;
                    a.ec || (a.ec = null, a.trigger(U.prototype.j.nm, null))
                });
            else {
                try {
                    this.ec = localStorage.getItem("__c2save_" + g) || "", ra("Loaded state from WebStorage (" +
                        this.ec.length + " bytes)")
                } catch (q) {
                    this.ec = null
                }
                this.Wl = !1;
                a.ec || (a.ec = null, a.trigger(U.prototype.j.nm, null))
            }
            this.es = this.Pn = ""
        }
        null !== this.ec && (this.Cc(), this.YC(this.ec) ? (this.Qf = this.ec, this.trigger(U.prototype.j.Uy, null), this.Qf = "") : a.trigger(U.prototype.j.nm, null), this.ec = null)
    };
    f.prototype.hE = function() {
        var a, b, c, g, e, l, n, q = {
            c2save: !0,
            version: 1,
            rt: {
                time: this.nc.Fa,
                walltime: this.hg.Fa,
                timescale: this.ni,
                tickcount: this.Xd,
                execcount: this.Eh,
                next_uid: this.ml,
                running_layout: this.eb.Ea,
                start_time_offset: Date.now() -
                    this.Po
            },
            types: {},
            layouts: {},
            events: {
                groups: {},
                cnds: {},
                acts: {},
                vars: {}
            }
        };
        a = 0;
        for (b = this.G.length; a < b; a++)
            if (e = this.G[a], !e.R && !this.Hs(e)) {
                l = {
                    instances: []
                };
                lb(e.M) && (l.ex = d(e.M));
                c = 0;
                for (g = e.e.length; c < g; c++) l.instances.push(this.ds(e.e[c]));
                q.types[e.Ea.toString()] = l
            }
        a = 0;
        for (b = this.Ke.length; a < b; a++) c = this.Ke[a], q.layouts[c.Ea.toString()] = c.Nc();
        g = q.events.groups;
        a = 0;
        for (b = this.xi.length; a < b; a++) c = this.xi[a], g[c.Ea.toString()] = this.zk[c.yk].Si;
        b = q.events.cnds;
        for (n in this.wg) this.wg.hasOwnProperty(n) &&
            (a = this.wg[n], lb(a.M) && (b[n] = {
                ex: d(a.M)
            }));
        b = q.events.acts;
        for (n in this.ng) this.ng.hasOwnProperty(n) && (a = this.ng[n], lb(a.M) && (b[n] = {
            ex: d(a.M)
        }));
        b = q.events.vars;
        for (n in this.Uj) this.Uj.hasOwnProperty(n) && (a = this.Uj[n], a.En || a.parent && !a.Ok || (b[n] = a.data));
        q.system = this.rf.Nc();
        return JSON.stringify(q)
    };
    f.prototype.yw = function() {
        var a, b, d, c, g, e;
        this.Tf = {};
        a = 0;
        for (b = this.G.length; a < b; a++)
            if (d = this.G[a], !d.R)
                for (c = 0, g = d.e.length; c < g; c++) e = d.e[c], this.Tf[e.uid.toString()] = e
    };
    f.prototype.YC = function(a) {
        var b;
        try {
            b = JSON.parse(a)
        } catch (d) {
            return !1
        }
        if (!b.c2save || 1 < b.version) return !1;
        this.Hk = !0;
        a = b.rt;
        this.nc.reset();
        this.nc.Fa = a.time;
        this.hg.reset();
        this.hg.Fa = a.walltime || 0;
        this.ni = a.timescale;
        this.Xd = a.tickcount;
        this.Eh = a.execcount;
        this.Po = Date.now() - a.start_time_offset;
        var c = a.running_layout;
        if (c !== this.eb.Ea)
            if (c = this.wu(c)) this.du(c);
            else return;
        var g, e, l, n, q, h, u;
        h = b.types;
        for (e in h)
            if (h.hasOwnProperty(e) && (n = this.rn(parseInt(e, 10))) && !n.R && !this.Hs(n)) {
                h[e].ex ? n.M = h[e].ex : mb(n.M);
                q = n.e;
                l = h[e].instances;
                c = 0;
                for (g = Fa(q.length, l.length); c < g; c++) this.Qn(q[c], l[c]);
                c = l.length;
                for (g = q.length; c < g; c++) this.kg(q[c]);
                c = q.length;
                for (g = l.length; c < g; c++) {
                    q = null;
                    if (n.Ja.Mg && (q = this.eb.qn(l[c].w.l), !q)) continue;
                    q = this.yg(n.ie, q, !1, 0, 0, !0);
                    this.Qn(q, l[c])
                }
                n.Ej = !0
            }
        this.Cc();
        this.yw();
        g = b.layouts;
        for (e in g) g.hasOwnProperty(e) && (c = this.wu(parseInt(e, 10))) && c.gd(g[e]);
        g = b.events.groups;
        for (e in g) g.hasOwnProperty(e) && (c = this.VB(parseInt(e, 10))) && this.zk[c.yk] && this.zk[c.yk].jE(g[e]);
        c = b.events.cnds;
        for (e in this.wg) this.wg.hasOwnProperty(e) &&
            (c.hasOwnProperty(e) ? this.wg[e].M = c[e].ex : this.wg[e].M = {});
        c = b.events.acts;
        for (e in this.ng) this.ng.hasOwnProperty(e) && (c.hasOwnProperty(e) ? this.ng[e].M = c[e].ex : this.ng[e].M = {});
        c = b.events.vars;
        for (e in c) c.hasOwnProperty(e) && this.Uj.hasOwnProperty(e) && (this.Uj[e].data = c[e]);
        this.ml = a.next_uid;
        this.Hk = !1;
        c = 0;
        for (g = this.cn.length; c < g; ++c) q = this.cn[c], this.trigger(Object.getPrototypeOf(q.type.Ja).j.si, q);
        y(this.cn);
        this.rf.gd(b.system);
        c = 0;
        for (g = this.G.length; c < g; c++)
            if (n = this.G[c], !n.R && !this.Hs(n))
                for (b =
                    0, e = n.e.length; b < e; b++) {
                    q = n.e[b];
                    if (n.Lc)
                        for (h = q.xk(), y(q.siblings), a = 0, l = n.vd.length; a < l; a++) u = n.vd[a], n !== u && q.siblings.push(u.e[h]);
                    q.ze && q.ze();
                    if (q.fa)
                        for (a = 0, l = q.fa.length; a < l; a++) h = q.fa[a], h.ze && h.ze()
                }
        return this.Ka = !0
    };
    f.prototype.ds = function(a, b) {
        var c, g, e, l, n;
        l = a.type;
        e = l.Ja;
        var q = {};
        b ? q.c2 = !0 : q.uid = a.uid;
        lb(a.M) && (q.ex = d(a.M));
        if (a.$b && a.$b.length)
            for (q.ivs = {}, c = 0, g = a.$b.length; c < g; c++) q.ivs[a.type.Nq[c].toString()] = a.$b[c];
        if (e.Mg) {
            e = {
                x: a.x,
                y: a.y,
                w: a.width,
                h: a.height,
                l: a.n.Ea,
                zi: a.gf()
            };
            0 !== a.k && (e.a = a.k);
            1 !== a.opacity && (e.o = a.opacity);
            .5 !== a.jc && (e.hX = a.jc);
            .5 !== a.kc && (e.hY = a.kc);
            0 !== a.Dc && (e.bm = a.Dc);
            a.visible || (e.v = a.visible);
            a.Cf || (e.ce = a.Cf); - 1 !== a.jl && (e.mts = a.jl);
            if (l.ja.length)
                for (e.fx = [], c = 0, g = l.ja.length; c < g; c++) n = l.ja[c], e.fx.push({
                    name: n.name,
                    active: a.mg[n.index],
                    params: a.sb[n.index]
                });
            q.w = e
        }
        if (a.fa && a.fa.length)
            for (q.behs = {}, c = 0, g = a.fa.length; c < g; c++) l = a.fa[c], l.Nc && (q.behs[l.type.Ea.toString()] = l.Nc());
        a.Nc && (q.data = a.Nc());
        return q
    };
    f.prototype.XB = function(a, b) {
        var c,
            d;
        c = 0;
        for (d = a.Nq.length; c < d; c++)
            if (a.Nq[c] === b) return c;
        return -1
    };
    f.prototype.SB = function(a, b) {
        var c, d;
        c = 0;
        for (d = a.fa.length; c < d; c++)
            if (a.fa[c].type.Ea === b) return c;
        return -1
    };
    f.prototype.Qn = function(a, b, c) {
        var d, g, e, l, n;
        n = a.type;
        l = n.Ja;
        if (c) {
            if (!b.c2) return
        } else a.uid = b.uid;
        b.ex ? a.M = b.ex : mb(a.M);
        if (g = b.ivs)
            for (d in g) g.hasOwnProperty(d) && (e = this.XB(n, parseInt(d, 10)), 0 > e || e >= a.$b.length || (a.$b[e] = g[d]));
        if (l.Mg) {
            e = b.w;
            a.n.Ea !== e.l && (g = a.n, a.n = this.eb.qn(e.l), a.n ? (g.yj(a, !0), a.n.ak(a, !0), a.H(), a.n.Pl(0)) :
                (a.n = g, c || this.kg(a)));
            a.x = e.x;
            a.y = e.y;
            a.width = e.w;
            a.height = e.h;
            a.Xe = e.zi;
            a.k = e.hasOwnProperty("a") ? e.a : 0;
            a.opacity = e.hasOwnProperty("o") ? e.o : 1;
            a.jc = e.hasOwnProperty("hX") ? e.hX : .5;
            a.kc = e.hasOwnProperty("hY") ? e.hY : .5;
            a.visible = e.hasOwnProperty("v") ? e.v : !0;
            a.Cf = e.hasOwnProperty("ce") ? e.ce : !0;
            a.jl = e.hasOwnProperty("mts") ? e.mts : -1;
            a.Dc = e.hasOwnProperty("bm") ? e.bm : 0;
            a.fk = Ab(a.Dc);
            this.K && Bb(a, a.Dc, this.K);
            a.H();
            if (e.hasOwnProperty("fx"))
                for (c = 0, g = e.fx.length; c < g; c++) l = n.tq(e.fx[c].name), 0 > l || (a.mg[l] =
                    e.fx[c].active, a.sb[l] = e.fx[c].params);
            a.We()
        }
        if (n = b.behs)
            for (d in n) n.hasOwnProperty(d) && (c = this.SB(a, parseInt(d, 10)), 0 > c || a.fa[c].gd(n[d]));
        b.data && a.gd(b.data)
    };
    f.prototype.iu = function(a, b, c) {
        window.resolveLocalFileSystemURL(cordova.file.applicationDirectory + "www/" + a, function(a) {
            a.file(b, c)
        }, c)
    };
    f.prototype.KB = function(a, b) {
        this.iu("data.js", function(c) {
            var d = new FileReader;
            d.onload = function(b) {
                a(b.target.result)
            };
            d.onerror = b;
            d.readAsText(c)
        }, b)
    };
    var Q = [],
        L = 0;
    f.prototype.sr = function() {
        if (Q.length &&
            !(8 <= L)) {
            L++;
            var a = Q.shift();
            this.HA(a.filename, a.xE, a.fB)
        }
    };
    f.prototype.ju = function(a, b, c) {
        var d = this;
        Q.push({
            filename: a,
            xE: function(a) {
                L--;
                d.sr();
                b(a)
            },
            fB: function(a) {
                L--;
                d.sr();
                c(a)
            }
        });
        this.sr()
    };
    f.prototype.HA = function(a, b, c) {
        this.iu(a, function(a) {
            var c = new FileReader;
            c.onload = function(a) {
                b(a.target.result)
            };
            c.readAsArrayBuffer(a)
        }, c)
    };
    f.prototype.LB = function(a, b, c) {
        this.ju(a, function(a) {
            a = URL.createObjectURL(new Blob([a]));
            b(a)
        }, c)
    };
    f.prototype.HC = function(a) {
        return /^(?:[a-z]+:)?\/\//.test(a) ||
            "data:" === a.substr(0, 5) || "blob:" === a.substr(0, 5)
    };
    f.prototype.Ow = function(a, b) {
        this.Mk && !this.HC(b) ? this.LB(b, function(b) {
            a.src = b
        }, function(a) {
            alert("Failed to load image: " + a)
        }) : a.src = b
    };
    f.prototype.Ho = function(a, b) {
        "undefined" !== typeof a.imageSmoothingEnabled ? a.imageSmoothingEnabled = b : (a.webkitImageSmoothingEnabled = b, a.mozImageSmoothingEnabled = b, a.msImageSmoothingEnabled = b)
    };
    zc = function(a) {
        return new f(document.getElementById(a))
    };
    Ac = function(a, b) {
        return new f({
            dc: !0,
            width: a,
            height: b
        })
    };
    window.cr_createRuntime =
        zc;
    window.cr_createDCRuntime = Ac;
    window.createCocoonJSRuntime = function() {
        window.c2cocoonjs = !0;
        var a = document.createElement("screencanvas") || document.createElement("canvas");
        a.ne = !0;
        document.body.appendChild(a);
        a = new f(a);
        window.c2runtime = a;
        window.addEventListener("orientationchange", function() {
            window.c2runtime.setSize(window.innerWidth, window.innerHeight)
        });
        window.c2runtime.setSize(window.innerWidth, window.innerHeight);
        return a
    };
    window.createEjectaRuntime = function() {
        var a = new f(document.getElementById("canvas"));
        window.c2runtime = a;
        window.c2runtime.setSize(window.innerWidth, window.innerHeight);
        return a
    }
})();
window.cr_getC2Runtime = function() {
    var f = document.getElementById("c2canvas");
    return f ? f.c2runtime : window.c2runtime ? window.c2runtime : null
};
window.cr_getSnapshot = function(f, m) {
    var k = window.cr_getC2Runtime();
    k && k.EA(f, m)
};
window.cr_sizeCanvas = function(f, m) {
    if (0 !== f && 0 !== m) {
        var k = window.cr_getC2Runtime();
        k && k.setSize(f, m)
    }
};
window.cr_setSuspended = function(f) {
    var m = window.cr_getC2Runtime();
    m && m.setSuspended(f)
};
(function() {
    function f(a, b) {
        this.b = a;
        this.Ch = null;
        this.scrollX = this.b.gc / 2;
        this.scrollY = this.b.fc / 2;
        this.scale = 1;
        this.k = 0;
        this.Oi = !0;
        this.name = b[0];
        this.uD = b[1];
        this.tD = b[2];
        this.width = b[1];
        this.height = b[2];
        this.wx = b[3];
        this.Ww = b[4];
        this.Ea = b[5];
        var c = b[6],
            d, e;
        this.U = [];
        this.Ck = [];
        d = 0;
        for (e = c.length; d < e; d++) {
            var h = new Bc(this, c[d]);
            h.Nv = d;
            this.U.push(h)
        }
        c = b[7];
        this.Lh = [];
        d = 0;
        for (e = c.length; d < e; d++) {
            var h = c[d],
                r = this.b.G[h[1]];
            r.ie || (r.ie = h);
            this.Lh.push(h); - 1 === this.Ck.indexOf(r) && this.Ck.push(r)
        }
        this.ja = [];
        this.Ma = [];
        this.Yf = !0;
        this.sb = [];
        d = 0;
        for (e = b[8].length; d < e; d++) this.ja.push({
            id: b[8][d][0],
            name: b[8][d][1],
            Ub: -1,
            Ne: !1,
            J: !0,
            index: d
        }), this.sb.push(b[8][d][2].slice(0));
        this.We();
        this.ah = new La(0, 0, 1, 1);
        this.Wr = new La(0, 0, 1, 1);
        this.Xg = {}
    }

    function m(a, b) {
        return a.Xe - b.Xe
    }

    function k(a, b) {
        this.cc = a;
        this.b = a.b;
        this.e = [];
        this.scale = 1;
        this.k = 0;
        this.Gf = !1;
        this.eg = new La(0, 0, 0, 0);
        this.qx = new Ma;
        this.$a = this.Ra = this.ab = this.La = 0;
        this.pi = !1;
        this.ig = -1;
        this.Mp = 0;
        this.name = b[0];
        this.index = b[1];
        this.Ea = b[2];
        this.visible = b[3];
        this.Ce = b[4];
        this.Ve = b[5];
        this.re = b[6];
        this.se = b[7];
        this.opacity = b[8];
        this.kn = b[9];
        this.ae = b[10];
        this.Ye = b[11];
        this.Dc = b[12];
        this.bB = b[13];
        this.fk = "source-over";
        this.Hc = this.Oc = 0;
        this.Ac = null;
        this.Rf = p();
        this.Re = !0;
        this.gj = new La(0, 0, -1, -1);
        this.vc = new La(0, 0, -1, -1);
        this.ae && (this.Ac = new vb(this.b.gc, this.b.fc));
        this.pf = !1;
        var c = b[14],
            d, e;
        this.bx = [];
        this.Ld = [];
        this.hk = [];
        d = 0;
        for (e = c.length; d < e; d++) {
            var h = c[d],
                r = this.b.G[h[1]];
            r.ie || (r.ie = h, r.DA = this.index);
            this.Ld.push(h); - 1 === this.cc.Ck.indexOf(r) &&
                this.cc.Ck.push(r)
        }
        Ra(this.bx, this.Ld);
        this.ja = [];
        this.Ma = [];
        this.Yf = !0;
        this.sb = [];
        d = 0;
        for (e = b[15].length; d < e; d++) this.ja.push({
            id: b[15][d][0],
            name: b[15][d][1],
            Ub: -1,
            Ne: !1,
            J: !0,
            index: d
        }), this.sb.push(b[15][d][2].slice(0));
        this.We();
        this.ah = new La(0, 0, 1, 1);
        this.Wr = new La(0, 0, 1, 1)
    }

    function p() {
        return d.length ? d.pop() : []
    }

    function c(a) {
        y(a);
        d.push(a)
    }
    f.prototype.gE = function(a) {
        var b = a.type.Ea.toString();
        this.Xg.hasOwnProperty(b) || (this.Xg[b] = []);
        this.Xg[b].push(this.b.ds(a))
    };
    f.prototype.Du = function() {
        var a =
            this.U[0];
        return !a.Ve && 1 === a.opacity && !a.kn && a.visible
    };
    f.prototype.We = function() {
        y(this.Ma);
        this.Yf = !0;
        var a, b, c;
        a = 0;
        for (b = this.ja.length; a < b; a++) c = this.ja[a], c.J && (this.Ma.push(c), c.Ne || (this.Yf = !1))
    };
    f.prototype.sq = function(a) {
        var b, c, d;
        b = 0;
        for (c = this.ja.length; b < c; b++)
            if (d = this.ja[b], d.name === a) return d;
        return null
    };
    var t = [],
        e = !0;
    f.prototype.us = function() {
        this.Ww && (this.Ch = this.b.cq[this.Ww], this.Ch.Js());
        this.b.eb = this;
        this.width = this.uD;
        this.height = this.tD;
        this.scrollX = this.b.gc / 2;
        this.scrollY =
            this.b.fc / 2;
        var a, b, c, d, h, f, r;
        a = 0;
        for (c = this.b.G.length; a < c; a++)
            if (b = this.b.G[a], !b.R)
                for (h = b.e, b = 0, d = h.length; b < d; b++)
                    if (f = h[b], f.n) {
                        var n = f.n.Nv;
                        n >= this.U.length && (n = this.U.length - 1);
                        f.n = this.U[n]; - 1 === f.n.e.indexOf(f) && f.n.e.push(f);
                        f.n.pi = !0
                    }
        if (!e)
            for (a = 0, c = this.U.length; a < c; ++a) this.U[a].e.sort(m);
        y(t);
        this.iA();
        a = 0;
        for (c = this.U.length; a < c; a++) f = this.U[a], f.yA(), f.ip();
        h = !1;
        if (!this.Oi) {
            for (r in this.Xg)
                if (this.Xg.hasOwnProperty(r) && (b = this.b.rn(parseInt(r, 10))) && !b.R && this.b.Is(b)) {
                    d = this.Xg[r];
                    a = 0;
                    for (c = d.length; a < c; a++) {
                        f = null;
                        if (b.Ja.Mg && (f = this.qn(d[a].w.l), !f)) continue;
                        f = this.b.yg(b.ie, f, !1, 0, 0, !0);
                        this.b.Qn(f, d[a]);
                        h = !0;
                        t.push(f)
                    }
                    y(d)
                }
            a = 0;
            for (c = this.U.length; a < c; a++) this.U[a].e.sort(m), this.U[a].pi = !0
        }
        h && (this.b.Cc(), this.b.yw());
        for (a = 0; a < t.length; a++)
            if (f = t[a], f.type.Lc)
                for (c = f.xk(), b = 0, d = f.type.vd.length; b < d; b++) r = f.type.vd[b], f.type !== r && (r.e.length > c ? f.siblings.push(r.e[c]) : r.ie && (h = this.b.yg(r.ie, f.n, !0, f.x, f.y, !0), this.b.Cc(), r.gp(), f.siblings.push(h), t.push(h)));
        a = 0;
        for (c =
            this.Lh.length; a < c; a++) this.b.yg(this.Lh[a], null, !0);
        this.b.Kp = null;
        this.b.Cc();
        if (this.b.mb && !this.b.wb)
            for (a = 0, c = this.b.G.length; a < c; a++) r = this.b.G[a], !r.R && r.e.length && r.vo && r.vo(this.b.mb);
        if (this.b.Hk) Ra(this.b.cn, t);
        else
            for (a = 0, c = t.length; a < c; a++) f = t[a], this.b.trigger(Object.getPrototypeOf(f.type.Ja).j.si, f);
        y(t);
        this.b.Hk || this.b.trigger(U.prototype.j.Ys, null);
        this.Oi = !1
    };
    f.prototype.xA = function() {
        var a, b, c, d, e;
        b = a = 0;
        for (c = this.Lh.length; a < c; a++) d = this.Lh[a], e = this.b.G[d[1]], e.global ? e.Lc ||
            this.b.yg(d, null, !0) : (this.Lh[b] = d, b++);
        Pa(this.Lh, b)
    };
    f.prototype.wE = function() {
        this.b.Hk || this.b.trigger(U.prototype.j.Ty, null);
        this.b.Pq = !0;
        y(this.b.rf.sd);
        var a, b, c, d, h, f;
        if (!this.Oi)
            for (a = 0, b = this.U.length; a < b; a++)
                for (this.U[a].Ls(), h = this.U[a].e, c = 0, d = h.length; c < d; c++) f = h[c], f.type.global || this.b.Is(f.type) && this.gE(f);
        a = 0;
        for (b = this.U.length; a < b; a++) {
            h = this.U[a].e;
            c = 0;
            for (d = h.length; c < d; c++) f = h[c], f.type.global || this.b.kg(f);
            this.b.Cc();
            y(h);
            this.U[a].pi = !0
        }
        a = 0;
        for (b = this.b.G.length; a < b; a++)
            if (h =
                this.b.G[a], !(h.global || h.Ja.Mg || h.Ja.Oo || h.R)) {
                c = 0;
                for (d = h.e.length; c < d; c++) this.b.kg(h.e[c]);
                this.b.Cc()
            }
        e = !1;
        this.b.Pq = !1
    };
    new La(0, 0, 0, 0);
    f.prototype.ke = function(a) {
        var b, c = a,
            d = !1,
            e = !this.b.Jd;
        e && (this.b.On || (this.b.On = document.createElement("canvas"), b = this.b.On, b.width = this.b.W, b.height = this.b.V, this.b.dv = b.getContext("2d"), d = !0), b = this.b.On, c = this.b.dv, b.width !== this.b.W && (b.width = this.b.W, d = !0), b.height !== this.b.V && (b.height = this.b.V, d = !0), d && this.b.Ho(c, this.b.jb));
        c.globalAlpha = 1;
        c.globalCompositeOperation =
            "source-over";
        this.b.Qt && !this.Du() && c.clearRect(0, 0, this.b.W, this.b.V);
        var h, r, d = 0;
        for (h = this.U.length; d < h; d++) r = this.U[d], r.visible && 0 < r.opacity && 11 !== r.Dc && (r.e.length || !r.Ve) ? r.ke(c) : r.ip();
        e && a.drawImage(b, 0, 0, this.b.width, this.b.height)
    };
    f.prototype.yh = function(a) {
        a.Nw(!0);
        this.b.Pb || (this.b.Pb = a.Id(this.b.W, this.b.V, this.b.jb));
        if (this.b.Pb.uh !== this.b.W || this.b.Pb.sh !== this.b.V) a.deleteTexture(this.b.Pb), this.b.Pb = a.Id(this.b.W, this.b.V, this.b.jb);
        a.ve(this.b.Pb);
        this.b.Jd || a.ji(this.b.W,
            this.b.V);
        var b, c;
        for (b = this.U.length - 1; 0 <= b; --b) c = this.U[b], c.visible && 1 === c.opacity && c.Yf && 0 === c.Dc && (c.e.length || !c.Ve) ? c.yh(a) : c.ip();
        a.Nw(!1)
    };
    f.prototype.Tc = function(a) {
        var b = 0 < this.Ma.length || this.b.Qj || !this.b.Jd || this.b.ib;
        if (b) {
            this.b.Pb || (this.b.Pb = a.Id(this.b.W, this.b.V, this.b.jb));
            if (this.b.Pb.uh !== this.b.W || this.b.Pb.sh !== this.b.V) a.deleteTexture(this.b.Pb), this.b.Pb = a.Id(this.b.W, this.b.V, this.b.jb);
            a.ve(this.b.Pb);
            this.b.Jd || a.ji(this.b.W, this.b.V)
        } else this.b.Pb && (a.ve(null), a.deleteTexture(this.b.Pb),
            this.b.Pb = null);
        this.b.Qt && !this.Du() && a.clear(0, 0, 0, 0);
        var c, d, e;
        c = 0;
        for (d = this.U.length; c < d; c++) e = this.U[c], e.visible && 0 < e.opacity && (e.e.length || !e.Ve) ? e.Tc(a) : e.ip();
        b && (0 === this.Ma.length || 1 === this.Ma.length && this.b.Jd ? (1 === this.Ma.length ? (b = this.Ma[0].index, a.nd(this.Ma[0].Ub), a.Bj(null, 1 / this.b.W, 1 / this.b.V, 0, 0, 1, 1, this.scale, this.k, 0, 0, this.b.W / 2, this.b.V / 2, this.b.nc.Fa, this.sb[b]), a.wo(this.Ma[0].Ub) && (this.b.Ka = !0)) : a.nd(0), this.b.Jd || a.ji(this.b.width, this.b.height), a.ve(null), a.Mw(!1),
            a.eh(1), a.md(this.b.Pb), a.Iw(), a.ue(), a.$d(), b = this.b.width / 2, c = this.b.height / 2, a.El(-b, c, b, c, b, -c, -b, -c), a.md(null), a.Mw(!0)) : this.Xr(a, null, null, null))
    };
    f.prototype.wk = function() {
        return 0 < this.Ma.length || this.b.Qj || !this.b.Jd || this.b.ib ? this.b.Pb : null
    };
    f.prototype.xu = function() {
        var a = this.U[0].wd(),
            b, c, d;
        b = 1;
        for (c = this.U.length; b < c; b++) d = this.U[b], (0 !== d.re || 0 !== d.se) && d.wd() < a && (a = d.wd());
        return a
    };
    f.prototype.Fw = function(a) {
        if (!this.wx) {
            var b = 1 / this.xu() * this.b.W / 2;
            a > this.width - b && (a = this.width -
                b);
            a < b && (a = b)
        }
        this.scrollX !== a && (this.scrollX = a, this.b.Ka = !0)
    };
    f.prototype.Gw = function(a) {
        if (!this.wx) {
            var b = 1 / this.xu() * this.b.V / 2;
            a > this.height - b && (a = this.height - b);
            a < b && (a = b)
        }
        this.scrollY !== a && (this.scrollY = a, this.b.Ka = !0)
    };
    f.prototype.iA = function() {
        this.Fw(this.scrollX);
        this.Gw(this.scrollY)
    };
    f.prototype.Xr = function(a, b, c, d) {
        var e = c ? c.Ma : b ? b.Ma : this.Ma,
            h = 1,
            r = 0,
            n = 0,
            u = 0,
            f = this.b.W,
            m = this.b.V;
        c ? (h = c.n.wd(), r = c.n.Eb(), n = c.n.La, u = c.n.Ra, f = c.n.ab, m = c.n.$a) : b && (h = b.wd(), r = b.Eb(), n = b.La, u = b.Ra, f = b.ab,
            m = b.$a);
        var w = this.b.mq,
            k, t, p, x, K = 0,
            Y = 1,
            D, X, T = this.b.W,
            Q = this.b.V,
            L = T / 2,
            v = Q / 2,
            F = b ? b.ah : this.ah,
            C = b ? b.Wr : this.Wr,
            R = 0,
            G = 0,
            I = 0,
            M = 0,
            V = T,
            ka = T,
            P = Q,
            Ia = Q,
            Ca = p = 0;
        x = c ? c.n.Eb() : 0;
        if (c) {
            k = 0;
            for (t = e.length; k < t; k++) p += a.cC(e[k].Ub), Ca += a.dC(e[k].Ub);
            M = c.gb;
            R = b.ob(M.left, M.top, !0, !0);
            I = b.ob(M.left, M.top, !1, !0);
            V = b.ob(M.right, M.bottom, !0, !0);
            P = b.ob(M.right, M.bottom, !1, !0);
            0 !== x && (k = b.ob(M.right, M.top, !0, !0), t = b.ob(M.right, M.top, !1, !0), G = b.ob(M.left, M.bottom, !0, !0), M = b.ob(M.left, M.bottom, !1, !0), x = Math.min(R, V, k, G),
                V = Math.max(R, V, k, G), R = x, x = Math.min(I, P, t, M), P = Math.max(I, P, t, M), I = x);
            R -= p;
            I -= Ca;
            V += p;
            P += Ca;
            C.left = R / T;
            C.top = 1 - I / Q;
            C.right = V / T;
            C.bottom = 1 - P / Q;
            G = R = Ha(R);
            M = I = Ha(I);
            ka = V = Ja(V);
            Ia = P = Ja(P);
            G -= p;
            M -= Ca;
            ka += p;
            Ia += Ca;
            0 > R && (R = 0);
            0 > I && (I = 0);
            V > T && (V = T);
            P > Q && (P = Q);
            0 > G && (G = 0);
            0 > M && (M = 0);
            ka > T && (ka = T);
            Ia > Q && (Ia = Q);
            F.left = R / T;
            F.top = 1 - I / Q;
            F.right = V / T;
            F.bottom = 1 - P / Q
        } else F.left = C.left = 0, F.top = C.top = 0, F.right = C.right = 1, F.bottom = C.bottom = 1;
        Ca = c && (a.Al(e[0].Ub) || 0 !== p || 0 !== Ca || 1 !== c.opacity || c.type.Ja.Iv) || b && !c && 1 !== b.opacity;
        a.Iw();
        if (Ca) {
            w[K] || (w[K] = a.Id(T, Q, this.b.jb));
            if (w[K].uh !== T || w[K].sh !== Q) a.deleteTexture(w[K]), w[K] = a.Id(T, Q, this.b.jb);
            a.nd(0);
            a.ve(w[K]);
            X = Ia - M;
            a.clearRect(G, Q - M - X, ka - G, X);
            c ? c.Tc(a) : (a.md(this.b.ac), a.eh(b.opacity), a.ue(), a.translate(-L, -v), a.$d(), a.Qe(R, P, V, P, V, I, R, I, F));
            C.left = C.top = 0;
            C.right = C.bottom = 1;
            c && (x = F.top, F.top = F.bottom, F.bottom = x);
            K = 1;
            Y = 0
        }
        a.eh(1);
        p = e.length - 1;
        var oa = a.Rr(e[p].Ub) || !b && !c && !this.b.Jd;
        k = x = 0;
        for (t = e.length; k < t; k++) {
            w[K] || (w[K] = a.Id(T, Q, this.b.jb));
            if (w[K].uh !== T || w[K].sh !==
                Q) a.deleteTexture(w[K]), w[K] = a.Id(T, Q, this.b.jb);
            a.nd(e[k].Ub);
            x = e[k].index;
            a.wo(e[k].Ub) && (this.b.Ka = !0);
            0 != k || Ca ? (a.Bj(d, 1 / T, 1 / Q, C.left, C.top, C.right, C.bottom, h, r, n, u, (n + f) / 2, (u + m) / 2, this.b.nc.Fa, c ? c.sb[x] : b ? b.sb[x] : this.sb[x]), a.md(null), k !== p || oa ? (a.ve(w[K]), X = Ia - M, D = Q - M - X, a.clearRect(G, D, ka - G, X)) : (c ? a.dh(c.Oc, c.Hc) : b && a.dh(b.Oc, b.Hc), a.ve(d)), a.md(w[Y]), a.ue(), a.translate(-L, -v), a.$d(), a.Qe(R, P, V, P, V, I, R, I, F), k !== p || oa || a.md(null)) : (a.ve(w[K]), X = Ia - M, D = Q - M - X, a.clearRect(G, D, ka - G, X), c ? (c.uc &&
                c.uc.T ? (D = c.uc.T, Y = 1 / D.width, D = 1 / D.height) : (Y = 1 / c.width, D = 1 / c.height), a.Bj(d, Y, D, C.left, C.top, C.right, C.bottom, h, r, n, u, (n + f) / 2, (u + m) / 2, this.b.nc.Fa, c.sb[x]), c.Tc(a)) : (a.Bj(d, 1 / T, 1 / Q, 0, 0, 1, 1, h, r, n, u, (n + f) / 2, (u + m) / 2, this.b.nc.Fa, b ? b.sb[x] : this.sb[x]), a.md(b ? this.b.ac : this.b.Pb), a.ue(), a.translate(-L, -v), a.$d(), a.Qe(R, P, V, P, V, I, R, I, F)), C.left = C.top = 0, C.right = C.bottom = 1, c && !oa && (x = P, P = I, I = x));
            K = 0 === K ? 1 : 0;
            Y = 0 === K ? 1 : 0
        }
        oa && (a.nd(0), c ? a.dh(c.Oc, c.Hc) : b ? a.dh(b.Oc, b.Hc) : this.b.Jd || (a.ji(this.b.width, this.b.height),
            L = this.b.width / 2, v = this.b.height / 2, I = R = 0, V = this.b.width, P = this.b.height), a.ve(d), a.md(w[Y]), a.ue(), a.translate(-L, -v), a.$d(), c && 1 === e.length && !Ca ? a.Qe(R, I, V, I, V, P, R, P, F) : a.Qe(R, P, V, P, V, I, R, I, F), a.md(null))
    };
    f.prototype.qn = function(a) {
        var b, c;
        b = 0;
        for (c = this.U.length; b < c; b++)
            if (this.U[b].Ea === a) return this.U[b];
        return null
    };
    f.prototype.Nc = function() {
        var a, b, c, d = {
            sx: this.scrollX,
            sy: this.scrollY,
            s: this.scale,
            a: this.k,
            w: this.width,
            h: this.height,
            fv: this.Oi,
            persist: this.Xg,
            fx: [],
            layers: {}
        };
        a = 0;
        for (b = this.ja.length; a <
            b; a++) c = this.ja[a], d.fx.push({
            name: c.name,
            active: c.J,
            params: this.sb[c.index]
        });
        a = 0;
        for (b = this.U.length; a < b; a++) c = this.U[a], d.layers[c.Ea.toString()] = c.Nc();
        return d
    };
    f.prototype.gd = function(a) {
        var b, c, d, e;
        this.scrollX = a.sx;
        this.scrollY = a.sy;
        this.scale = a.s;
        this.k = a.a;
        this.width = a.w;
        this.height = a.h;
        this.Xg = a.persist;
        "undefined" !== typeof a.fv && (this.Oi = a.fv);
        var h = a.fx;
        b = 0;
        for (c = h.length; b < c; b++)
            if (d = this.sq(h[b].name)) d.J = h[b].active, this.sb[d.index] = h[b].params;
        this.We();
        b = a.layers;
        for (e in b) b.hasOwnProperty(e) &&
            (a = this.qn(parseInt(e, 10))) && a.gd(b[e])
    };
    ic = f;
    k.prototype.We = function() {
        y(this.Ma);
        this.Yf = !0;
        var a, b, c;
        a = 0;
        for (b = this.ja.length; a < b; a++) c = this.ja[a], c.J && (this.Ma.push(c), c.Ne || (this.Yf = !1))
    };
    k.prototype.sq = function(a) {
        var b, c, d;
        b = 0;
        for (c = this.ja.length; b < c; b++)
            if (d = this.ja[b], d.name === a) return d;
        return null
    };
    k.prototype.yA = function() {
        var a, b, c, d, e, h;
        b = a = 0;
        for (c = this.Ld.length; a < c; a++) {
            d = this.Ld[a];
            e = this.b.G[d[1]];
            h = this.b.Is(e);
            e = !0;
            if (!h || this.cc.Oi) {
                d = this.b.yg(d, this, !0);
                if (!d) continue;
                t.push(d);
                d.type.global && (e = !1, this.hk.push(d.uid))
            }
            e && (this.Ld[b] = this.Ld[a], b++)
        }
        this.Ld.length = b;
        this.b.Cc();
        !this.b.F && this.ja.length && (this.Dc = this.bB);
        this.fk = Ab(this.Dc);
        this.b.K && Bb(this, this.Dc, this.b.K);
        this.Re = !0
    };
    k.prototype.yj = function(a, b) {
        var c = Ta(this.e, a);
        0 > c || (b && this.ae && a.kd && a.kd.right >= a.kd.left && (a.Ga(), this.Ac.update(a, a.kd, null), a.kd.set(0, 0, -1, -1)), c === this.e.length - 1 ? this.e.pop() : (Oa(this.e, c), this.Pl(c)), this.Re = !0)
    };
    k.prototype.ak = function(a, b) {
        a.Xe = this.e.length;
        this.e.push(a);
        b && this.ae && a.kd && a.H();
        this.Re = !0
    };
    k.prototype.ED = function(a) {
        this.e.unshift(a);
        this.Pl(0)
    };
    k.prototype.fD = function(a, b, c) {
        var d = a.gf();
        b = b.gf();
        Oa(this.e, d);
        d < b && b--;
        c && b++;
        b === this.e.length ? this.e.push(a) : this.e.splice(b, 0, a);
        this.Pl(d < b ? d : b)
    };
    k.prototype.Pl = function(a) {
        -1 === this.ig ? this.ig = a : a < this.ig && (this.ig = a);
        this.Re = this.pi = !0
    };
    k.prototype.Ls = function() {
        if (this.pi) {
            -1 === this.ig && (this.ig = 0);
            var a, b, c;
            if (this.ae)
                for (a = this.ig, b = this.e.length; a < b; ++a) c = this.e[a], c.Xe = a, this.Ac.cD(c.kd);
            else
                for (a =
                    this.ig, b = this.e.length; a < b; ++a) this.e[a].Xe = a;
            this.pi = !1;
            this.ig = -1
        }
    };
    k.prototype.wd = function(a) {
        return this.$B() * (this.b.Jd || a ? this.b.bk : 1)
    };
    k.prototype.$B = function() {
        return (this.scale * this.cc.scale - 1) * this.Ye + 1
    };
    k.prototype.Eb = function() {
        return this.Gf ? 0 : ab(this.cc.k + this.k)
    };
    var d = [],
        b = [],
        h = [];
    k.prototype.xq = function() {
        this.Ls();
        this.Ac.zo(this.La, this.Ra, this.ab, this.$a, h);
        if (!h.length) return p();
        if (1 === h.length) {
            var a = p();
            Ra(a, h[0]);
            y(h);
            return a
        }
        for (var d = !0; 1 < h.length;) {
            for (var a = h, e = void 0,
                    l = void 0, f = void 0, m = void 0, r = void 0, e = 0, l = a.length; e < l - 1; e += 2) {
                var f = a[e],
                    m = a[e + 1],
                    r = p(),
                    n = f,
                    u = m,
                    k = r,
                    t = 0,
                    w = 0,
                    H = 0,
                    E = n.length,
                    z = u.length,
                    x = void 0,
                    K = void 0;
                for (k.length = E + z; t < E && w < z; ++H) x = n[t], K = u[w], x.Xe < K.Xe ? (k[H] = x, ++t) : (k[H] = K, ++w);
                for (; t < E; ++t, ++H) k[H] = n[t];
                for (; w < z; ++w, ++H) k[H] = u[w];
                d || (c(f), c(m));
                b.push(r)
            }
            1 === l % 2 && (d ? (f = p(), Ra(f, a[l - 1]), b.push(f)) : b.push(a[l - 1]));
            Ra(a, b);
            y(b);
            d = !1
        }
        a = h[0];
        y(h);
        return a
    };
    k.prototype.ke = function(a) {
        this.pf = this.kn || 1 !== this.opacity || 0 !== this.Dc;
        var b = this.b.canvas,
            d = a,
            e = !1;
        this.pf && (this.b.Nn || (this.b.Nn = document.createElement("canvas"), b = this.b.Nn, b.width = this.b.W, b.height = this.b.V, this.b.cv = b.getContext("2d"), e = !0), b = this.b.Nn, d = this.b.cv, b.width !== this.b.W && (b.width = this.b.W, e = !0), b.height !== this.b.V && (b.height = this.b.V, e = !0), e && this.b.Ho(d, this.b.jb), this.Ve && d.clearRect(0, 0, this.b.W, this.b.V));
        d.globalAlpha = 1;
        d.globalCompositeOperation = "source-over";
        this.Ve || (d.fillStyle = "rgb(" + this.Ce[0] + "," + this.Ce[1] + "," + this.Ce[2] + ")", d.fillRect(0, 0, this.b.W, this.b.V));
        d.save();
        this.Gf = !0;
        var e = this.tc(0, 0, !0, !0),
            h = this.tc(0, 0, !1, !0);
        this.Gf = !1;
        this.b.Sd && (e = Math.round(e), h = Math.round(h));
        this.Co(e, h, d);
        var f = this.wd();
        d.scale(f, f);
        d.translate(-e, -h);
        this.ae ? (this.vc.left = this.Ac.$c(this.La), this.vc.top = this.Ac.ad(this.Ra), this.vc.right = this.Ac.$c(this.ab), this.vc.bottom = this.Ac.ad(this.$a), this.Re || !this.vc.pk(this.gj) ? (c(this.Rf), e = this.xq(), this.Re = !1, this.gj.Fi(this.vc)) : e = this.Rf) : e = this.e;
        for (var r, n = null, h = 0, f = e.length; h < f; ++h) r = e[h], r !== n && (this.WA(r, d),
            n = r);
        this.ae && (this.Rf = e);
        d.restore();
        this.pf && (a.globalCompositeOperation = this.fk, a.globalAlpha = this.opacity, a.drawImage(b, 0, 0))
    };
    k.prototype.WA = function(a, b) {
        if (a.visible && 0 !== a.width && 0 !== a.height) {
            a.Ga();
            var c = a.gb;
            c.right < this.La || c.bottom < this.Ra || c.left > this.ab || c.top > this.$a || (b.globalCompositeOperation = a.fk, a.ke(b))
        }
    };
    k.prototype.ip = function() {
        this.Gf = !0;
        var a = this.tc(0, 0, !0, !0),
            b = this.tc(0, 0, !1, !0);
        this.Gf = !1;
        this.b.Sd && (a = Math.round(a), b = Math.round(b));
        this.Co(a, b, null)
    };
    k.prototype.Co =
        function(a, b, c) {
            var d = this.wd();
            this.La = a;
            this.Ra = b;
            this.ab = a + 1 / d * this.b.W;
            this.$a = b + 1 / d * this.b.V;
            this.La > this.ab && (a = this.La, this.La = this.ab, this.ab = a);
            this.Ra > this.$a && (a = this.Ra, this.Ra = this.$a, this.$a = a);
            a = this.Eb();
            0 !== a && (c && (c.translate(this.b.W / 2, this.b.V / 2), c.rotate(-a), c.translate(this.b.W / -2, this.b.V / -2)), this.eg.set(this.La, this.Ra, this.ab, this.$a), this.eg.offset((this.La + this.ab) / -2, (this.Ra + this.$a) / -2), this.qx.Uw(this.eg, a), this.qx.Jt(this.eg), this.eg.offset((this.La + this.ab) / 2, (this.Ra +
                this.$a) / 2), this.La = this.eg.left, this.Ra = this.eg.top, this.ab = this.eg.right, this.$a = this.eg.bottom)
        };
    k.prototype.yh = function(a) {
        if (this.pf = this.kn) {
            this.b.ac || (this.b.ac = a.Id(this.b.W, this.b.V, this.b.jb));
            if (this.b.ac.uh !== this.b.W || this.b.ac.sh !== this.b.V) a.deleteTexture(this.b.ac), this.b.ac = a.Id(this.b.W, this.b.V, this.b.jb);
            a.ve(this.b.ac)
        }
        this.Gf = !0;
        var b = this.tc(0, 0, !0, !0),
            d = this.tc(0, 0, !1, !0);
        this.Gf = !1;
        this.b.Sd && (b = Math.round(b), d = Math.round(d));
        this.Co(b, d, null);
        b = this.wd();
        a.ue();
        a.scale(b,
            b);
        a.Do(-this.Eb());
        a.translate((this.La + this.ab) / -2, (this.Ra + this.$a) / -2);
        a.$d();
        this.ae ? (this.vc.left = this.Ac.$c(this.La), this.vc.top = this.Ac.ad(this.Ra), this.vc.right = this.Ac.$c(this.ab), this.vc.bottom = this.Ac.ad(this.$a), this.Re || !this.vc.pk(this.gj) ? (c(this.Rf), b = this.xq(), this.Re = !1, this.gj.Fi(this.vc)) : b = this.Rf) : b = this.e;
        for (var e, h = null, d = b.length - 1; 0 <= d; --d) e = b[d], e !== h && (this.YA(b[d], a), h = e);
        this.ae && (this.Rf = b);
        this.Ve || (this.Mp = this.b.Ah++, a.Io(this.Mp), a.Lw(1, 1, 1), a.nu(), a.YD())
    };
    k.prototype.Tc =
        function(a) {
            var b = 0,
                d = 0;
            if (this.pf = this.kn || 1 !== this.opacity || 0 < this.Ma.length || 0 !== this.Dc) {
                this.b.ac || (this.b.ac = a.Id(this.b.W, this.b.V, this.b.jb));
                if (this.b.ac.uh !== this.b.W || this.b.ac.sh !== this.b.V) a.deleteTexture(this.b.ac), this.b.ac = a.Id(this.b.W, this.b.V, this.b.jb);
                a.ve(this.b.ac);
                this.Ve && a.clear(0, 0, 0, 0)
            }
            this.Ve || (this.b.ib ? (a.Io(this.Mp), a.Lw(this.Ce[0] / 255, this.Ce[1] / 255, this.Ce[2] / 255), a.nu(), a.oE()) : a.clear(this.Ce[0] / 255, this.Ce[1] / 255, this.Ce[2] / 255, 1));
            this.Gf = !0;
            var e = this.tc(0, 0, !0, !0),
                b = this.tc(0, 0, !1, !0);
            this.Gf = !1;
            this.b.Sd && (e = Math.round(e), b = Math.round(b));
            this.Co(e, b, null);
            e = this.wd();
            a.ue();
            a.scale(e, e);
            a.Do(-this.Eb());
            a.translate((this.La + this.ab) / -2, (this.Ra + this.$a) / -2);
            a.$d();
            this.ae ? (this.vc.left = this.Ac.$c(this.La), this.vc.top = this.Ac.ad(this.Ra), this.vc.right = this.Ac.$c(this.ab), this.vc.bottom = this.Ac.ad(this.$a), this.Re || !this.vc.pk(this.gj) ? (c(this.Rf), b = this.xq(), this.Re = !1, this.gj.Fi(this.vc)) : b = this.Rf) : b = this.e;
            var h, f, r = null,
                d = 0;
            for (h = b.length; d < h; ++d) f =
                b[d], f !== r && (this.XA(b[d], a), r = f);
            this.ae && (this.Rf = b);
            this.pf && (b = this.Ma.length ? this.Ma[0].Ub : 0, d = this.Ma.length ? this.Ma[0].index : 0, 0 === this.Ma.length || 1 === this.Ma.length && !a.Rr(b) && 1 === this.opacity ? (1 === this.Ma.length ? (a.nd(b), a.Bj(this.cc.wk(), 1 / this.b.W, 1 / this.b.V, 0, 0, 1, 1, e, this.Eb(), this.La, this.Ra, (this.La + this.ab) / 2, (this.Ra + this.$a) / 2, this.b.nc.Fa, this.sb[d]), a.wo(b) && (this.b.Ka = !0)) : a.nd(0), a.ve(this.cc.wk()), a.eh(this.opacity), a.md(this.b.ac), a.dh(this.Oc, this.Hc), a.ue(), a.$d(), e = this.b.W /
                2, b = this.b.V / 2, a.El(-e, b, e, b, e, -b, -e, -b), a.md(null)) : this.cc.Xr(a, this, null, this.cc.wk()))
        };
    k.prototype.XA = function(a, b) {
        if (a.visible && 0 !== a.width && 0 !== a.height) {
            a.Ga();
            var c = a.gb;
            c.right < this.La || c.bottom < this.Ra || c.left > this.ab || c.top > this.$a || (b.Io(a.Ah), a.Fx ? this.ZA(a, b) : (b.nd(0), b.dh(a.Oc, a.Hc), a.Tc(b)))
        }
    };
    k.prototype.YA = function(a, b) {
        if (a.visible && 0 !== a.width && 0 !== a.height) {
            a.Ga();
            var c = a.gb;
            c.right < this.La || c.bottom < this.Ra || c.left > this.ab || c.top > this.$a || (a.Ah = this.b.Ah++, 0 === a.Dc && 1 === a.opacity &&
                a.Yf && a.yh && (b.Io(a.Ah), a.yh(b)))
        }
    };
    k.prototype.ZA = function(a, b) {
        var c = a.Ma[0].Ub,
            d = a.Ma[0].index,
            e = this.wd();
        if (1 !== a.Ma.length || b.Rr(c) || b.HD(c) || (a.k || a.n.Eb()) && b.Al(c) || 1 !== a.opacity || a.type.Ja.Iv) this.cc.Xr(b, this, a, this.pf ? this.b.ac : this.cc.wk()), b.ue(), b.scale(e, e), b.Do(-this.Eb()), b.translate((this.La + this.ab) / -2, (this.Ra + this.$a) / -2), b.$d();
        else {
            b.nd(c);
            b.dh(a.Oc, a.Hc);
            b.wo(c) && (this.b.Ka = !0);
            var h = 0,
                f = 0,
                n = 0,
                u = 0;
            b.Al(c) && (u = a.gb, h = this.ob(u.left, u.top, !0, !0), f = this.ob(u.left, u.top, !1, !0),
                n = this.ob(u.right, u.bottom, !0, !0), u = this.ob(u.right, u.bottom, !1, !0), h = h / windowWidth, f = 1 - f / windowHeight, n = n / windowWidth, u = 1 - u / windowHeight);
            var m;
            a.uc && a.uc.T ? (m = a.uc.T, c = 1 / m.width, m = 1 / m.height) : (c = 1 / a.width, m = 1 / a.height);
            b.Bj(this.pf ? this.b.ac : this.cc.wk(), c, m, h, f, n, u, e, this.Eb(), this.La, this.Ra, (this.La + this.ab) / 2, (this.Ra + this.$a) / 2, this.b.nc.Fa, a.sb[d]);
            a.Tc(b)
        }
    };
    k.prototype.tc = function(a, b, c, d) {
        var e = this.b.devicePixelRatio;
        this.b.Oh && (a *= e, b *= e);
        var e = this.b.hw,
            h = this.b.iw,
            e = (this.cc.scrollX -
                e) * this.re + e,
            h = (this.cc.scrollY - h) * this.se + h,
            f = e,
            n = h,
            u = 1 / this.wd(!d);
        d ? (f -= this.b.W * u / 2, n -= this.b.V * u / 2) : (f -= this.b.width * u / 2, n -= this.b.height * u / 2);
        f += a * u;
        n += b * u;
        b = this.Eb();
        0 !== b && (f -= e, n -= h, a = Math.cos(b), b = Math.sin(b), d = f * a - n * b, n = n * a + f * b, f = d + e, n += h);
        return c ? f : n
    };
    k.prototype.ob = function(a, b, c, d) {
        var e = this.b.hw,
            h = this.b.iw,
            f = (this.cc.scrollX - e) * this.re + e,
            n = (this.cc.scrollY - h) * this.se + h,
            h = f,
            e = n,
            u = this.Eb();
        if (0 !== u) {
            a -= f;
            b -= n;
            var m = Math.cos(-u),
                u = Math.sin(-u),
                k = a * m - b * u;
            b = b * m + a * u;
            a = k + f;
            b += n
        }
        f = 1 / this.wd(!d);
        d ? (h -= this.b.W * f / 2, e -= this.b.V * f / 2) : (h -= this.b.width * f / 2, e -= this.b.height * f / 2);
        h = (a - h) / f;
        e = (b - e) / f;
        a = this.b.devicePixelRatio;
        this.b.Oh && !d && (h /= a, e /= a);
        return c ? h : e
    };
    k.prototype.Nc = function() {
        var a, b, c, d = {
            s: this.scale,
            a: this.k,
            vl: this.La,
            vt: this.Ra,
            vr: this.ab,
            vb: this.$a,
            v: this.visible,
            bc: this.Ce,
            t: this.Ve,
            px: this.re,
            py: this.se,
            o: this.opacity,
            zr: this.Ye,
            fx: [],
            cg: this.hk,
            instances: []
        };
        a = 0;
        for (b = this.ja.length; a < b; a++) c = this.ja[a], d.fx.push({
            name: c.name,
            active: c.J,
            params: this.sb[c.index]
        });
        return d
    };
    k.prototype.gd = function(a) {
        var b, c, d;
        this.scale = a.s;
        this.k = a.a;
        this.La = a.vl;
        this.Ra = a.vt;
        this.ab = a.vr;
        this.$a = a.vb;
        this.visible = a.v;
        this.Ce = a.bc;
        this.Ve = a.t;
        this.re = a.px;
        this.se = a.py;
        this.opacity = a.o;
        this.Ye = a.zr;
        this.hk = a.cg || [];
        Ra(this.Ld, this.bx);
        var e = new ma;
        b = 0;
        for (d = this.hk.length; b < d; ++b) e.add(this.hk[b]);
        c = b = 0;
        for (d = this.Ld.length; b < d; ++b) e.contains(this.Ld[b][2]) || (this.Ld[c] = this.Ld[b], ++c);
        Pa(this.Ld, c);
        c = a.fx;
        b = 0;
        for (d = c.length; b < d; b++)
            if (a = this.sq(c[b].name)) a.J = c[b].active, this.sb[a.index] =
                c[b].params;
        this.We();
        this.e.sort(m);
        this.pi = !0
    };
    Bc = k
})();
(function() {
    function f(a, b) {
        var c, d = a.length;
        switch (d) {
            case 0:
                return !0;
            case 1:
                return a[0] === b[0];
            case 2:
                return a[0] === b[0] && a[1] === b[1];
            default:
                for (c = 0; c < d; c++)
                    if (a[c] !== b[c]) return !1;
                return !0
        }
    }

    function m(a, b) {
        return a.index - b.index
    }

    function k(a) {
        var b, c, d, e;
        2 === a.length ? a[0].index > a[1].index && (b = a[0], a[0] = a[1], a[1] = b) : 2 < a.length && a.sort(m);
        a.length >= N.length && (N.length = a.length + 1);
        N[a.length] || (N[a.length] = []);
        e = N[a.length];
        b = 0;
        for (c = e.length; b < c; b++)
            if (d = e[b], f(a, d)) return d;
        e.push(a);
        return a
    }

    function p(a, b) {
        this.b = a;
        this.tx = {};
        this.hu = {};
        this.Fq = !1;
        this.Gu = new ma;
        this.Wp = [];
        this.yp = [];
        this.name = b[0];
        var c = b[1];
        this.Cg = [];
        var d, e;
        d = 0;
        for (e = c.length; d < e; d++) this.Iu(c[d], null, this.Cg)
    }

    function c(a) {
        this.type = a;
        this.e = [];
        this.ra = [];
        this.ta = !0
    }

    function t(a, b, c) {
        this.sheet = a;
        this.parent = b;
        this.b = a.b;
        this.Za = [];
        this.fh = [];
        this.Eu = this.Zo = this.Ds = this.Mq = this.group = this.ts = !1;
        this.Wb = [];
        this.be = [];
        this.we = [];
        this.yk = "";
        this.Si = this.Mq = this.group = !1;
        this.Lm = null;
        c[1] && (this.yk = c[1][1].toLowerCase(),
            this.group = !0, this.Mq = !!c[1][0], this.Lm = [], this.Si = this.Mq, this.b.xi.push(this), this.b.zk[this.yk] = this);
        this.Rd = c[2];
        this.Ea = c[4];
        this.group || (this.b.Ht[this.Ea.toString()] = this);
        var d = c[5];
        a = 0;
        for (b = d.length; a < b; a++) {
            var e = new Cc(this, d[a]);
            e.index = a;
            this.Wb.push(e);
            this.At(e.type)
        }
        d = c[6];
        a = 0;
        for (b = d.length; a < b; a++) e = new Dc(this, d[a]), e.index = a, this.be.push(e);
        if (8 === c.length)
            for (c = c[7], a = 0, b = c.length; a < b; a++) this.sheet.Iu(c[a], this, this.we);
        this.Fn = !1;
        this.Wb.length && (this.Fn = null == this.Wb[0].type &&
            this.Wb[0].wc == U.prototype.j.Ws)
    }

    function e(a, b) {
        var c, d, e;
        if (a && (-1 === b.indexOf(a) && b.push(a), a.Lc))
            for (c = 0, d = a.vd.length; c < d; c++) e = a.vd[c], a !== e && -1 === b.indexOf(e) && b.push(e)
    }

    function d(a, b) {
        this.Hd = a;
        this.sheet = a.sheet;
        this.b = a.b;
        this.xa = [];
        this.xb = [];
        this.M = {};
        this.index = -1;
        this.Zj = !1;
        this.wc = this.b.lg(b[1]);
        this.trigger = 0 < b[3];
        this.gu = 2 === b[3];
        this.kf = b[4];
        this.un = b[5];
        this.UC = b[6];
        this.Ea = b[7];
        this.b.wg[this.Ea.toString()] = this; - 1 === b[0] ? (this.type = null, this.Tb = this.cs, this.rh = null, this.De = -1) : (this.type = this.b.G[b[0]], this.Tb = this.UC ? this.eE : this.bs, b[2] ? (this.rh = this.type.nn(b[2]), this.De = this.type.pq(b[2])) : (this.rh = null, this.De = -1), this.Hd.parent && this.Hd.parent.Mo());
        this.gu && (this.Tb = this.fE);
        if (10 === b.length) {
            var c, d, e = b[9];
            c = 0;
            for (d = e.length; c < d; c++) {
                var g = new Ec(this, e[c]);
                this.xa.push(g)
            }
            this.xb.length = e.length
        }
    }

    function b(a, b) {
        this.Hd = a;
        this.sheet = a.sheet;
        this.b = a.b;
        this.xa = [];
        this.xb = [];
        this.M = {};
        this.index = -1;
        this.Zj = !1;
        this.wc = this.b.lg(b[1]); - 1 === b[0] ? (this.type = null,
            this.Tb = this.cs, this.rh = null, this.De = -1) : (this.type = this.b.G[b[0]], this.Tb = this.bs, b[2] ? (this.rh = this.type.nn(b[2]), this.De = this.type.pq(b[2])) : (this.rh = null, this.De = -1));
        this.Ea = b[3];
        this.b.ng[this.Ea.toString()] = this;
        if (6 === b.length) {
            var c, d, e = b[5];
            c = 0;
            for (d = e.length; c < d; c++) {
                var g = new Ec(this, e[c]);
                this.xa.push(g)
            }
            this.xb.length = e.length
        }
    }

    function h() {
        r++;
        O.length === r && O.push(new Fc);
        return O[r]
    }

    function a(a, b) {
        this.qe = a;
        this.Hd = a.Hd;
        this.sheet = a.sheet;
        this.b = a.b;
        this.type = b[0];
        this.ef = null;
        this.Zf =
            0;
        this.get = null;
        this.Tt = 0;
        this.cc = null;
        this.key = 0;
        this.object = null;
        this.index = 0;
        this.em = this.li = this.em = this.li = this.ku = this.Dh = this.fm = null;
        this.ye = !1;
        var c, d, e;
        switch (b[0]) {
            case 0:
            case 7:
                this.ef = new Gc(this, b[1]);
                this.Zf = 0;
                this.get = this.jC;
                break;
            case 1:
                this.ef = new Gc(this, b[1]);
                this.Zf = 0;
                this.get = this.kC;
                break;
            case 5:
                this.ef = new Gc(this, b[1]);
                this.Zf = 0;
                this.get = this.oC;
                break;
            case 3:
            case 8:
                this.Tt = b[1];
                this.get = this.hC;
                break;
            case 6:
                this.cc = this.b.gr[b[1]];
                this.get = this.pC;
                break;
            case 9:
                this.key = b[1];
                this.get = this.nC;
                break;
            case 4:
                this.object = this.b.G[b[1]];
                this.get = this.qC;
                this.Hd.At(this.object);
                this.qe instanceof Dc ? this.Hd.Mo() : this.Hd.parent && this.Hd.parent.Mo();
                break;
            case 10:
                this.index = b[1];
                a.type && a.type.R ? (this.get = this.lC, this.ye = !0) : this.get = this.mC;
                break;
            case 11:
                this.fm = b[1];
                this.Dh = null;
                this.get = this.iC;
                break;
            case 2:
            case 12:
                this.ku = b[1];
                this.get = this.gC;
                break;
            case 13:
                for (this.get = this.rC, this.li = [], this.em = [], c = 1, d = b.length; c < d; c++) e = new Ec(this.qe, b[c]), this.li.push(e), this.em.push(0)
        }
    }

    function g(a, b, c) {
        this.sheet = a;
        this.parent = b;
        this.b = a.b;
        this.Za = [];
        this.name = c[1];
        this.gm = c[2];
        this.A = c[3];
        this.Ok = !!c[4];
        this.En = !!c[5];
        this.Ea = c[6];
        this.b.Uj[this.Ea.toString()] = this;
        this.data = this.A;
        this.parent ? (this.$h = this.Ok || this.En ? -1 : this.b.tE++, this.b.aA.push(this)) : (this.$h = -1, this.b.$z.push(this))
    }

    function q(a, b, c) {
        this.sheet = a;
        this.parent = b;
        this.b = a.b;
        this.Za = [];
        this.Bk = null;
        this.CC = c[1];
        this.J = !0
    }

    function l() {
        this.lx = [];
        this.reset(null)
    }
    var N = [];
    p.prototype.toString = function() {
        return this.name
    };
    p.prototype.Iu = function(a, b, c) {
        switch (a[0]) {
            case 0:
                a = new Hc(this, b, a);
                if (a.Rd)
                    for (c.push(a), c = 0, b = a.Wb.length; c < b; c++) a.Wb[c].trigger && this.Ju(a, c);
                else a.Ru() ? this.Ju(a, 0) : c.push(a);
                break;
            case 1:
                a = new yc(this, b, a);
                c.push(a);
                break;
            case 2:
                a = new Ic(this, b, a), c.push(a)
        }
    };
    p.prototype.Gb = function() {
        var a, b;
        a = 0;
        for (b = this.Cg.length; a < b; a++) this.Cg[a].Gb(a < b - 1 && this.Cg[a + 1].Fn)
    };
    p.prototype.Js = function() {
        y(this.Wp);
        y(this.yp);
        this.yt(this);
        y(this.yp)
    };
    p.prototype.yt = function(a) {
        var b, c, d, e, g = a.Wp,
            h = a.yp,
            l = this.Gu.jh();
        b = 0;
        for (c = l.length; b < c; ++b) d = l[b], e = d.Bk, !d.J || a === e || -1 < h.indexOf(e) || (h.push(e), e.yt(a), g.push(e))
    };
    p.prototype.Tb = function(a) {
        this.b.vH || (this.Fq = !0, a || (this.b.Tq = !0));
        var b, c;
        b = 0;
        for (c = this.Cg.length; b < c; b++) {
            var d = this.Cg[b];
            d.Tb();
            this.b.Lp(d.Za);
            this.b.Hg && this.b.Cc()
        }
        a || (this.b.Tq = !1)
    };
    p.prototype.Ju = function(a, b) {
        a.Rd || this.b.bp.push(a);
        var c, d, e = a.Wb[b],
            g;
        e.type ? g = e.type.name : g = "system";
        var h = (c = e.gu) ? this.hu : this.tx;
        h[g] || (h[g] = []);
        g = h[g];
        h = e.wc;
        if (c) {
            if (e.xa.length && (e =
                    e.xa[0], 1 === e.type && 2 === e.ef.type)) {
                e = e.ef.value.toLowerCase();
                c = 0;
                for (d = g.length; c < d; c++)
                    if (g[c].method == h) {
                        c = g[c].qk;
                        c[e] ? c[e].push([a, b]) : c[e] = [
                            [a, b]
                        ];
                        return
                    }
                c = {};
                c[e] = [
                    [a, b]
                ];
                g.push({
                    method: h,
                    qk: c
                })
            }
        } else {
            c = 0;
            for (d = g.length; c < d; c++)
                if (g[c].method == h) {
                    g[c].qk.push([a, b]);
                    return
                }
            Xc && h === Xc.prototype.j.ti ? g.unshift({
                method: h,
                qk: [
                    [a, b]
                ]
            }) : g.push({
                method: h,
                qk: [
                    [a, b]
                ]
            })
        }
    };
    jc = p;
    c.prototype.Eq = function() {
        return this.ta ? this.type.e.length : this.e.length
    };
    c.prototype.ed = function() {
        return this.ta ? this.type.e :
            this.e
    };
    c.prototype.xl = function(a) {
        a && (a.b.Fb().Mb.Rd ? (this.ta && (y(this.e), Ra(this.ra, a.type.e), this.ta = !1), a = this.ra.indexOf(a), -1 !== a && (this.e.push(this.ra[a]), this.ra.splice(a, 1))) : (this.ta = !1, y(this.e), this.e[0] = a))
    };
    Hb = c;
    window._c2hh_ = "E8D4EF6B20D81CAD7C3B3932B134BCD4B42AB538";
    t.prototype.Gb = function(a) {
        var b, c = this.parent;
        if (this.group)
            for (this.Zo = !0; c;) {
                if (!c.group) {
                    this.Zo = !1;
                    break
                }
                c = c.parent
            }
        this.Ds = !this.Ru() && (!this.parent || this.parent.group && this.parent.Zo);
        this.Eu = !!a;
        this.fh = this.Za.slice(0);
        for (c = this.parent; c;) {
            a = 0;
            for (b = c.Za.length; a < b; a++) this.Zz(c.Za[a]);
            c = c.parent
        }
        this.Za = k(this.Za);
        this.fh = k(this.fh);
        a = 0;
        for (b = this.Wb.length; a < b; a++) this.Wb[a].Gb();
        a = 0;
        for (b = this.be.length; a < b; a++) this.be[a].Gb();
        a = 0;
        for (b = this.we.length; a < b; a++) this.we[a].Gb(a < b - 1 && this.we[a + 1].Fn)
    };
    t.prototype.jE = function(a) {
        if (this.Si !== !!a) {
            this.Si = !!a;
            var b;
            a = 0;
            for (b = this.Lm.length; a < b; ++a) this.Lm[a].zx();
            0 < b && this.b.eb.Ch && this.b.eb.Ch.Js()
        }
    };
    t.prototype.At = function(a) {
        e(a, this.Za)
    };
    t.prototype.Zz = function(a) {
        e(a,
            this.fh)
    };
    t.prototype.Mo = function() {
        this.ts = !0;
        this.parent && this.parent.Mo()
    };
    t.prototype.Ru = function() {
        return this.Wb.length ? this.Wb[0].trigger : !1
    };
    t.prototype.Tb = function() {
        var a, b, c = !1,
            d = this.b,
            e = this.b.Fb();
        e.Mb = this;
        var g = this.Wb;
        this.Fn || (e.$p = !1);
        if (this.Rd) {
            0 === g.length && (c = !0);
            e.Lb = 0;
            for (a = g.length; e.Lb < a; e.Lb++) b = g[e.Lb], b.trigger || (b = b.Tb()) && (c = !0);
            (e.Uh = c) && this.Eo()
        } else {
            e.Lb = 0;
            for (a = g.length; e.Lb < a; e.Lb++)
                if (b = g[e.Lb].Tb(), !b) {
                    e.Uh = !1;
                    this.Ds && d.Hg && d.Cc();
                    return
                }
            e.Uh = !0;
            this.Eo()
        }
        this.dB(e)
    };
    t.prototype.dB = function(a) {
        a.Uh && this.Eu && (a.$p = !0);
        this.Ds && this.b.Hg && this.b.Cc()
    };
    t.prototype.cE = function(a) {
        this.b.Fb().Mb = this;
        this.Wb[a].Tb() && (this.Eo(), this.b.Fb().Uh = !0)
    };
    t.prototype.Eo = function() {
        var a = this.b.Fb(),
            b;
        a.bd = 0;
        for (b = this.be.length; a.bd < b; a.bd++)
            if (this.be[a.bd].Tb()) return;
        this.Ew()
    };
    t.prototype.$D = function() {
        var a = this.b.Fb(),
            b;
        for (b = this.be.length; a.bd < b; a.bd++)
            if (this.be[a.bd].Tb()) return;
        this.Ew()
    };
    t.prototype.Ew = function() {
        if (this.we.length) {
            var a, b, c, d, e = this.we.length -
                1;
            this.b.yo(this);
            if (this.ts)
                for (a = 0, b = this.we.length; a < b; a++) c = this.we[a], (d = !this.Zo || !this.group && a < e) && this.b.Dl(c.Za), c.Tb(), d ? this.b.Zg(c.Za) : this.b.Lp(c.Za);
            else
                for (a = 0, b = this.we.length; a < b; a++) this.we[a].Tb();
            this.b.qo()
        }
    };
    t.prototype.dE = function() {
        var a = this.b.Fb();
        a.Mb = this;
        var b = !1,
            c;
        a.Lb = 0;
        for (c = this.Wb.length; a.Lb < c; a.Lb++)
            if (this.Wb[a.Lb].Tb()) b = !0;
            else if (!this.Rd) return !1;
        return this.Rd ? b : !0
    };
    t.prototype.$r = function() {
        this.b.Eh++;
        var a = this.b.Fb().Lb,
            b = this.b.yo(this);
        if (!this.Rd)
            for (b.Lb =
                a + 1, a = this.Wb.length; b.Lb < a; b.Lb++)
                if (!this.Wb[b.Lb].Tb()) {
                    this.b.qo();
                    return
                }
        this.Eo();
        this.b.qo()
    };
    t.prototype.LC = function(a) {
        var b = a.index;
        if (0 === b) return !0;
        for (--b; 0 <= b; --b)
            if (this.Wb[b].type === a.type) return !1;
        return !0
    };
    Hc = t;
    d.prototype.Gb = function() {
        var a, b, c;
        a = 0;
        for (b = this.xa.length; a < b; a++) c = this.xa[a], c.Gb(), c.ye && (this.Zj = !0)
    };
    d.prototype.fE = function() {
        return !0
    };
    d.prototype.cs = function() {
        var a, b;
        a = 0;
        for (b = this.xa.length; a < b; a++) this.xb[a] = this.xa[a].get();
        return kb(this.wc.apply(this.b.rf,
            this.xb), this.un)
    };
    d.prototype.eE = function() {
        var a, b;
        a = 0;
        for (b = this.xa.length; a < b; a++) this.xb[a] = this.xa[a].get();
        a = this.wc.apply(this.rh ? this.rh : this.type, this.xb);
        this.type.ee();
        return a
    };
    d.prototype.bs = function() {
        var a, b, c, d, e, g, h, l, f = this.type,
            q = f.ba(),
            r = this.Hd.Rd && !this.trigger;
        b = 0;
        var m = f.Lc,
            k = f.R,
            t = f.If,
            p = this.De,
            N = -1 < p,
            O = this.Zj,
            F = this.xa,
            C = this.xb,
            R = this.un,
            G = this.wc,
            I;
        if (O)
            for (b = 0, e = F.length; b < e; ++b) g = F[b], g.ye || (C[b] = g.get(0));
        else
            for (b = 0, e = F.length; b < e; ++b) C[b] = F[b].get(0);
        if (q.ta) {
            y(q.e);
            y(q.ra);
            I = f.e;
            a = 0;
            for (d = I.length; a < d; ++a) {
                l = I[a];
                if (O)
                    for (b = 0, e = F.length; b < e; ++b) g = F[b], g.ye && (C[b] = g.get(a));
                N ? (b = 0, k && (b = l.type.Ni[t]), b = G.apply(l.fa[p + b], C)) : b = G.apply(l, C);
                (h = kb(b, R)) ? q.e.push(l): r && q.ra.push(l)
            }
            f.finish && f.finish(!0);
            q.ta = !1;
            f.ee();
            return q.Eq()
        }
        c = 0;
        I = (h = r && !this.Hd.LC(this)) ? q.ra : q.e;
        var M = !1;
        a = 0;
        for (d = I.length; a < d; ++a) {
            l = I[a];
            if (O)
                for (b = 0, e = F.length; b < e; ++b) g = F[b], g.ye && (C[b] = g.get(a));
            N ? (b = 0, k && (b = l.type.Ni[t]), b = G.apply(l.fa[p + b], C)) : b = G.apply(l, C);
            if (kb(b, R))
                if (M = !0, h) {
                    if (q.e.push(l),
                        m)
                        for (b = 0, e = l.siblings.length; b < e; b++) g = l.siblings[b], g.type.ba().e.push(g)
                } else {
                    I[c] = l;
                    if (m)
                        for (b = 0, e = l.siblings.length; b < e; b++) g = l.siblings[b], g.type.ba().e[c] = g;
                    c++
                }
            else if (h) {
                I[c] = l;
                if (m)
                    for (b = 0, e = l.siblings.length; b < e; b++) g = l.siblings[b], g.type.ba().ra[c] = g;
                c++
            } else if (r && (q.ra.push(l), m))
                for (b = 0, e = l.siblings.length; b < e; b++) g = l.siblings[b], g.type.ba().ra.push(g)
        }
        Pa(I, c);
        if (m)
            for (k = f.vd, a = 0, d = k.length; a < d; a++) l = k[a].ba(), h ? Pa(l.ra, c) : Pa(l.e, c);
        c = M;
        if (h && !M)
            for (a = 0, d = q.e.length; a < d; a++) {
                l = q.e[a];
                if (O)
                    for (b = 0, e = F.length; b < e; b++) g = F[b], g.ye && (C[b] = g.get(a));
                b = N ? G.apply(l.fa[p], C) : G.apply(l, C);
                if (kb(b, R)) {
                    M = !0;
                    break
                }
            }
        f.finish && f.finish(c || r);
        return r ? M : q.Eq()
    };
    Cc = d;
    b.prototype.Gb = function() {
        var a, b, c;
        a = 0;
        for (b = this.xa.length; a < b; a++) c = this.xa[a], c.Gb(), c.ye && (this.Zj = !0)
    };
    b.prototype.cs = function() {
        var a = this.b,
            b, c, d = this.xa,
            e = this.xb;
        b = 0;
        for (c = d.length; b < c; ++b) e[b] = d[b].get();
        return this.wc.apply(a.rf, e)
    };
    b.prototype.bs = function() {
        var a = this.type,
            b = this.De,
            c = a.If,
            d = this.Zj,
            e = this.xa,
            g = this.xb,
            h = this.wc,
            l = a.ba().ed(),
            a = a.R,
            f = -1 < b,
            q, r, m, k, t, p;
        if (d)
            for (r = 0, k = e.length; r < k; ++r) t = e[r], t.ye || (g[r] = t.get(0));
        else
            for (r = 0, k = e.length; r < k; ++r) g[r] = e[r].get(0);
        q = 0;
        for (m = l.length; q < m; ++q) {
            p = l[q];
            if (d)
                for (r = 0, k = e.length; r < k; ++r) t = e[r], t.ye && (g[r] = t.get(q));
            f ? (r = 0, a && (r = p.type.Ni[c]), h.apply(p.fa[b + r], g)) : h.apply(p, g)
        }
        return !1
    };
    Dc = b;
    var O = [],
        r = -1;
    a.prototype.Gb = function() {
        var a, b;
        if (11 === this.type) this.Dh = this.b.vu(this.fm, this.Hd.parent);
        else if (13 === this.type)
            for (a = 0, b = this.li.length; a < b; a++) this.li[a].Gb();
        this.ef && this.ef.Gb()
    };
    a.prototype.eD = function(a) {
        this.ye || !a || a.Ja.Oo || (this.ye = !0)
    };
    a.prototype.Rw = function() {
        this.ye = !0
    };
    a.prototype.jC = function(a) {
        this.Zf = a || 0;
        a = h();
        this.ef.get(a);
        r--;
        return a.data
    };
    a.prototype.kC = function(a) {
        this.Zf = a || 0;
        a = h();
        this.ef.get(a);
        r--;
        return wa(a.data) ? a.data : ""
    };
    a.prototype.qC = function() {
        return this.object
    };
    a.prototype.hC = function() {
        return this.Tt
    };
    a.prototype.oC = function(a) {
        this.Zf = a || 0;
        a = h();
        this.ef.get(a);
        r--;
        return a.lc() ? this.b.Qi(a.data) : this.b.pn(a.data)
    };
    a.prototype.pC = function() {
        return this.cc
    };
    a.prototype.nC = function() {
        return this.key
    };
    a.prototype.mC = function() {
        return this.index
    };
    a.prototype.lC = function(a) {
        a = a || 0;
        var b = this.qe.type,
            c = null,
            c = b.ba(),
            d = c.ed();
        if (d.length) c = d[a % d.length].type;
        else if (c.ra.length) c = c.ra[a % c.ra.length].type;
        else if (b.e.length) c = b.e[a % b.e.length].type;
        else return 0;
        return this.index + c.an[b.If]
    };
    a.prototype.iC = function() {
        return this.Dh
    };
    a.prototype.gC = function() {
        return this.ku
    };
    a.prototype.rC = function() {
        var a, b;
        a = 0;
        for (b =
            this.li.length; a < b; a++) this.em[a] = this.li[a].get();
        return this.em
    };
    Ec = a;
    g.prototype.Gb = function() {
        this.Za = k(this.Za)
    };
    g.prototype.Xf = function(a) {
        var b = this.b.uu();
        this.parent && !this.Ok && b ? (this.$h >= b.length && (b.length = this.$h + 1), b[this.$h] = a) : this.data = a
    };
    g.prototype.Hh = function() {
        var a = this.b.uu();
        return !this.parent || this.Ok || !a || this.En ? this.data : this.$h >= a.length || "undefined" === typeof a[this.$h] ? this.A : a[this.$h]
    };
    g.prototype.Tb = function() {
        !this.parent || this.Ok || this.En || this.Xf(this.A)
    };
    yc = g;
    q.prototype.toString = function() {
        return "include:" + this.Bk.toString()
    };
    q.prototype.Gb = function() {
        this.Bk = this.b.cq[this.CC];
        this.sheet.Gu.add(this);
        this.Za = k(this.Za);
        for (var a = this.parent; a;) a.group && a.Lm.push(this), a = a.parent;
        this.zx()
    };
    q.prototype.Tb = function() {
        this.parent && this.b.Cl(this.b.G);
        this.Bk.Fq || this.Bk.Tb(!0);
        this.parent && this.b.Zg(this.b.G)
    };
    q.prototype.zx = function() {
        for (var a = this.parent; a;) {
            if (a.group && !a.Si) {
                this.J = !1;
                return
            }
            a = a.parent
        }
        this.J = !0
    };
    Ic = q;
    l.prototype.reset = function(a) {
        this.Mb =
            a;
        this.bd = this.Lb = 0;
        y(this.lx);
        this.$p = this.Uh = !1
    };
    l.prototype.NC = function() {
        return this.Mb.ts ? !0 : this.Lb < this.Mb.Wb.length - 1 ? !!this.Mb.Za.length : !1
    };
    xc = l
})();
(function() {
    function f(c, d) {
        this.qe = c;
        this.b = c.b;
        this.type = d[0];
        this.get = [this.vB, this.rB, this.EB, this.IB, this.gB, this.GB, this.zB, this.oB, this.yB, this.DB, this.hB, this.CB, this.pB, this.AB, this.wB, this.xB, this.sB, this.tB, this.nB, this.HB, this.BB, this.uB, this.mB, this.qB][this.type];
        var b = null;
        this.Sf = this.xa = this.xb = this.wc = this.Xo = this.second = this.first = this.value = null;
        this.De = -1;
        this.Ie = null;
        this.Hx = -1;
        this.Dh = this.fm = null;
        this.Aj = !1;
        switch (this.type) {
            case 0:
            case 1:
            case 2:
                this.value = d[1];
                break;
            case 3:
                this.first =
                    new Gc(c, d[1]);
                break;
            case 18:
                this.first = new Gc(c, d[1]);
                this.second = new Gc(c, d[2]);
                this.Xo = new Gc(c, d[3]);
                break;
            case 19:
                this.wc = this.b.lg(d[1]);
                this.wc !== U.prototype.Xa.random && this.wc !== U.prototype.Xa.Pt || this.qe.Rw();
                this.xb = [];
                this.xa = [];
                3 === d.length ? (b = d[2], this.xb.length = b.length + 1) : this.xb.length = 1;
                break;
            case 20:
                this.Sf = this.b.G[d[1]];
                this.De = -1;
                this.wc = this.b.lg(d[2]);
                this.Aj = d[3];
                Yc && this.wc === Yc.prototype.Xa.Px && this.qe.Rw();
                d[4] ? this.Ie = new Gc(c, d[4]) : this.Ie = null;
                this.xb = [];
                this.xa = [];
                6 ===
                    d.length ? (b = d[5], this.xb.length = b.length + 1) : this.xb.length = 1;
                break;
            case 21:
                this.Sf = this.b.G[d[1]];
                this.Aj = d[2];
                d[3] ? this.Ie = new Gc(c, d[3]) : this.Ie = null;
                this.Hx = d[4];
                break;
            case 22:
                this.Sf = this.b.G[d[1]];
                this.Sf.nn(d[2]);
                this.De = this.Sf.pq(d[2]);
                this.wc = this.b.lg(d[3]);
                this.Aj = d[4];
                d[5] ? this.Ie = new Gc(c, d[5]) : this.Ie = null;
                this.xb = [];
                this.xa = [];
                7 === d.length ? (b = d[6], this.xb.length = b.length + 1) : this.xb.length = 1;
                break;
            case 23:
                this.fm = d[1], this.Dh = null
        }
        this.qe.eD(this.Sf);
        4 <= this.type && 17 >= this.type && (this.first =
            new Gc(c, d[1]), this.second = new Gc(c, d[2]));
        if (b) {
            var h, a;
            h = 0;
            for (a = b.length; h < a; h++) this.xa.push(new Gc(c, b[h]))
        }
    }

    function m() {
        ++t;
        c.length === t && c.push(new Fc);
        return c[t]
    }

    function k(c, d, b) {
        var h, a;
        h = 0;
        for (a = c.length; h < a; ++h) c[h].get(b), d[h + 1] = b.data
    }

    function p(c, d) {
        this.type = c || Jc.ri;
        this.data = d || 0;
        this.di = null;
        this.type == Jc.ri && (this.data = Math.floor(this.data))
    }
    f.prototype.Gb = function() {
        23 === this.type && (this.Dh = this.qe.b.vu(this.fm, this.qe.Hd.parent));
        this.first && this.first.Gb();
        this.second && this.second.Gb();
        this.Xo && this.Xo.Gb();
        this.Ie && this.Ie.Gb();
        if (this.xa) {
            var c, d;
            c = 0;
            for (d = this.xa.length; c < d; c++) this.xa[c].Gb()
        }
    };
    var c = [],
        t = -1;
    f.prototype.HB = function(c) {
        var d = this.xa,
            b = this.xb;
        b[0] = c;
        c = m();
        k(d, b, c);
        --t;
        this.wc.apply(this.b.rf, b)
    };
    f.prototype.BB = function(c) {
        var d = this.Sf,
            b = this.xb,
            h = this.xa,
            a = this.Ie,
            g = this.wc,
            f = this.qe.Zf,
            l = d.ba(),
            p = l.ed();
        if (!p.length)
            if (l.ra.length) p = l.ra;
            else {
                this.Aj ? c.qc("") : c.bb(0);
                return
            }
        b[0] = c;
        c.di = d;
        c = m();
        k(h, b, c);
        a && (a.get(c), c.lc() && (f = c.data, p = d.e));
        --t;
        d = p.length;
        if (f >= d || f <= -d) f %= d;
        0 > f && (f += d);
        g.apply(p[f], b)
    };
    f.prototype.mB = function(c) {
        var d = this.Sf,
            b = this.xb,
            h = this.xa,
            a = this.Ie,
            g = this.De,
            f = this.wc,
            l = this.qe.Zf,
            p = d.ba(),
            O = p.ed();
        if (!O.length)
            if (p.ra.length) O = p.ra;
            else {
                this.Aj ? c.qc("") : c.bb(0);
                return
            }
        b[0] = c;
        c.di = d;
        c = m();
        k(h, b, c);
        a && (a.get(c), c.lc() && (l = c.data, O = d.e));
        --t;
        h = O.length;
        if (l >= h || l <= -h) l %= h;
        0 > l && (l += h);
        l = O[l];
        O = 0;
        d.R && (O = l.type.Ni[d.If]);
        f.apply(l.fa[g + O], b)
    };
    f.prototype.uB = function(c) {
        var d = this.Ie,
            b = this.Sf,
            h = this.Hx,
            a = this.qe.Zf,
            g = b.ba(),
            f =
            g.ed();
        if (!f.length)
            if (g.ra.length) f = g.ra;
            else {
                this.Aj ? c.qc("") : c.bb(0);
                return
            }
        if (d) {
            g = m();
            d.get(g);
            if (g.lc()) {
                a = g.data;
                f = b.e;
                0 !== f.length && (a %= f.length, 0 > a && (a += f.length));
                a = b.vq(a);
                b = a.$b[h];
                wa(b) ? c.qc(b) : c.B(b);
                --t;
                return
            }--t
        }
        d = f.length;
        if (a >= d || a <= -d) a %= d;
        0 > a && (a += d);
        a = f[a];
        f = 0;
        b.R && (f = a.type.an[b.If]);
        b = a.$b[h + f];
        wa(b) ? c.qc(b) : c.B(b)
    };
    f.prototype.vB = function(c) {
        c.type = Jc.ri;
        c.data = this.value
    };
    f.prototype.rB = function(c) {
        c.type = Jc.qi;
        c.data = this.value
    };
    f.prototype.EB = function(c) {
        c.type = Jc.String;
        c.data = this.value
    };
    f.prototype.IB = function(c) {
        this.first.get(c);
        c.lc() && (c.data = -c.data)
    };
    f.prototype.gB = function(c) {
        this.first.get(c);
        var d = m();
        this.second.get(d);
        c.lc() && d.lc() && (c.data += d.data, d.Wi() && c.lj());
        --t
    };
    f.prototype.GB = function(c) {
        this.first.get(c);
        var d = m();
        this.second.get(d);
        c.lc() && d.lc() && (c.data -= d.data, d.Wi() && c.lj());
        --t
    };
    f.prototype.zB = function(c) {
        this.first.get(c);
        var d = m();
        this.second.get(d);
        c.lc() && d.lc() && (c.data *= d.data, d.Wi() && c.lj());
        --t
    };
    f.prototype.oB = function(c) {
        this.first.get(c);
        var d = m();
        this.second.get(d);
        c.lc() && d.lc() && (c.data /= d.data, c.lj());
        --t
    };
    f.prototype.yB = function(c) {
        this.first.get(c);
        var d = m();
        this.second.get(d);
        c.lc() && d.lc() && (c.data %= d.data, d.Wi() && c.lj());
        --t
    };
    f.prototype.DB = function(c) {
        this.first.get(c);
        var d = m();
        this.second.get(d);
        c.lc() && d.lc() && (c.data = Math.pow(c.data, d.data), d.Wi() && c.lj());
        --t
    };
    f.prototype.hB = function(c) {
        this.first.get(c);
        var d = m();
        this.second.get(d);
        d.Zi() || c.Zi() ? this.jB(c, d) : this.iB(c, d);
        --t
    };
    f.prototype.jB = function(c, d) {
        c.Zi() &&
            d.Zi() ? this.lB(c, d) : this.kB(c, d)
    };
    f.prototype.lB = function(c, d) {
        c.data += d.data
    };
    f.prototype.kB = function(c, d) {
        c.Zi() ? c.data += (Math.round(1E10 * d.data) / 1E10).toString() : c.qc(c.data.toString() + d.data)
    };
    f.prototype.iB = function(c, d) {
        c.bb(c.data && d.data ? 1 : 0)
    };
    f.prototype.CB = function(c) {
        this.first.get(c);
        var d = m();
        this.second.get(d);
        c.lc() && d.lc() && (c.data || d.data ? c.bb(1) : c.bb(0));
        --t
    };
    f.prototype.nB = function(c) {
        this.first.get(c);
        c.data ? this.second.get(c) : this.Xo.get(c)
    };
    f.prototype.pB = function(c) {
        this.first.get(c);
        var d = m();
        this.second.get(d);
        c.bb(c.data === d.data ? 1 : 0);
        --t
    };
    f.prototype.AB = function(c) {
        this.first.get(c);
        var d = m();
        this.second.get(d);
        c.bb(c.data !== d.data ? 1 : 0);
        --t
    };
    f.prototype.wB = function(c) {
        this.first.get(c);
        var d = m();
        this.second.get(d);
        c.bb(c.data < d.data ? 1 : 0);
        --t
    };
    f.prototype.xB = function(c) {
        this.first.get(c);
        var d = m();
        this.second.get(d);
        c.bb(c.data <= d.data ? 1 : 0);
        --t
    };
    f.prototype.sB = function(c) {
        this.first.get(c);
        var d = m();
        this.second.get(d);
        c.bb(c.data > d.data ? 1 : 0);
        --t
    };
    f.prototype.tB = function(c) {
        this.first.get(c);
        var d = m();
        this.second.get(d);
        c.bb(c.data >= d.data ? 1 : 0);
        --t
    };
    f.prototype.qB = function(c) {
        var d = this.Dh.Hh();
        ua(d) ? c.B(d) : c.qc(d)
    };
    Gc = f;
    p.prototype.Wi = function() {
        return this.type === Jc.qi
    };
    p.prototype.lc = function() {
        return this.type === Jc.ri || this.type === Jc.qi
    };
    p.prototype.Zi = function() {
        return this.type === Jc.String
    };
    p.prototype.lj = function() {
        this.Wi() || (this.Zi() && (this.data = parseFloat(this.data)), this.type = Jc.qi)
    };
    p.prototype.bb = function(c) {
        this.type = Jc.ri;
        this.data = Math.floor(c)
    };
    p.prototype.B = function(c) {
        this.type =
            Jc.qi;
        this.data = c
    };
    p.prototype.qc = function(c) {
        this.type = Jc.String;
        this.data = c
    };
    p.prototype.Sw = function(c) {
        ua(c) ? (this.type = Jc.qi, this.data = c) : wa(c) ? (this.type = Jc.String, this.data = c.toString()) : (this.type = Jc.ri, this.data = 0)
    };
    Fc = p;
    Jc = {
        ri: 0,
        qi: 1,
        String: 2
    }
})();

function U(f) {
    this.b = f;
    this.sd = []
}
U.prototype.Nc = function() {
    var f = {},
        m, k, p, c, t, e, d, b;
    f.waits = [];
    var h = f.waits,
        a;
    m = 0;
    for (k = this.sd.length; m < k; m++) {
        e = this.sd[m];
        a = {
            t: e.time,
            st: e.Zw,
            s: e.os,
            ev: e.Li.Ea,
            sm: [],
            sols: {}
        };
        e.Li.be[e.bd] && (a.act = e.Li.be[e.bd].Ea);
        p = 0;
        for (c = e.Za.length; p < c; p++) a.sm.push(e.Za[p].Ea);
        for (t in e.Xc)
            if (e.Xc.hasOwnProperty(t)) {
                d = this.b.G[parseInt(t, 10)];
                b = {
                    sa: e.Xc[t].Fo,
                    insts: []
                };
                p = 0;
                for (c = e.Xc[t].Mf.length; p < c; p++) b.insts.push(e.Xc[t].Mf[p].uid);
                a.sols[d.Ea.toString()] = b
            }
        h.push(a)
    }
    return f
};
U.prototype.gd = function(f) {
    f = f.waits;
    var m, k, p, c, t, e, d, b, h, a, g;
    y(this.sd);
    m = 0;
    for (k = f.length; m < k; m++)
        if (e = f[m], b = this.b.Ht[e.ev.toString()]) {
            h = -1;
            p = 0;
            for (c = b.be.length; p < c; p++)
                if (b.be[p].Ea === e.act) {
                    h = p;
                    break
                }
            if (-1 !== h) {
                d = {
                    Xc: {},
                    Za: [],
                    Xp: !1
                };
                d.time = e.t;
                d.Zw = e.st || "";
                d.os = !!e.s;
                d.Li = b;
                d.bd = h;
                p = 0;
                for (c = e.sm.length; p < c; p++)(b = this.b.rn(e.sm[p])) && d.Za.push(b);
                for (t in e.sols)
                    if (e.sols.hasOwnProperty(t) && (b = this.b.rn(parseInt(t, 10)))) {
                        h = e.sols[t];
                        a = {
                            Fo: h.sa,
                            Mf: []
                        };
                        p = 0;
                        for (c = h.insts.length; p < c; p++)(g =
                            this.b.Gg(h.insts[p])) && a.Mf.push(g);
                        d.Xc[b.index.toString()] = a
                    }
                this.sd.push(d)
            }
        }
};
(function() {
    function f() {}

    function m() {}

    function k() {}
    var p = U.prototype;
    f.prototype.Ys = function() {
        return !0
    };
    f.prototype.Ty = function() {
        return !0
    };
    f.prototype.Tx = function(b, c, a) {
        return Kc(b, c, a)
    };
    f.prototype.uy = function(b) {
        return b ? b.visible : !1
    };
    var c = [],
        t = -1;
    f.prototype.ay = function(b) {
        var d = b.ba();
        t++;
        c.length === t && c.push([]);
        var a = c[t];
        Ra(a, d.ed());
        var e = this.b.Fb(),
            f = e.Mb,
            l = e.NC(),
            e = this.b.JD(),
            m, k, r, n, p, S, B = b.Lc;
        if (l)
            for (l = 0, m = a.length; l < m && !e.rc; l++) {
                this.b.Dl(f.Za);
                n = a[l];
                d = b.ba();
                d.ta = !1;
                y(d.e);
                d.e[0] = n;
                if (B)
                    for (k = 0, r = n.siblings.length; k < r; k++) p = n.siblings[k], S = p.type.ba(), S.ta = !1, y(S.e), S.e[0] = p;
                e.index = l;
                f.$r();
                this.b.Zg(f.Za)
            } else
                for (d.ta = !1, y(d.e), l = 0, m = a.length; l < m && !e.rc; l++) {
                    n = a[l];
                    d.e[0] = n;
                    if (B)
                        for (k = 0, r = n.siblings.length; k < r; k++) p = n.siblings[k], S = p.type.ba(), S.ta = !1, y(S.e), S.e[0] = p;
                    e.index = l;
                    f.$r()
                }
        y(a);
        this.b.AD();
        t--;
        return !1
    };
    f.prototype.Qz = function() {
        var b = this.b.uk().M;
        "undefined" === typeof b.TriggerOnce_lastTick && (b.TriggerOnce_lastTick = -1);
        var c = b.TriggerOnce_lastTick,
            a =
            this.b.Xd;
        b.TriggerOnce_lastTick = a;
        return this.b.fr || c !== a - 1
    };
    f.prototype.$x = function(b) {
        var c = this.b.uk(),
            a = c.M.Every_lastTime || 0,
            d = this.b.nc.Fa;
        "undefined" === typeof c.M.Every_seconds && (c.M.Every_seconds = b);
        var e = c.M.Every_seconds;
        if (d >= a + e) return c.M.Every_lastTime = a + e, d >= c.M.Every_lastTime + .04 && (c.M.Every_lastTime = d), c.M.Every_seconds = b, !0;
        d < a - .1 && (c.M.Every_lastTime = d);
        return !1
    };
    f.prototype.Wx = function(b, c, a) {
        return Kc(b.Hh(), c, a)
    };
    f.prototype.iy = function(b) {
        return (b = this.b.zk[b.toLowerCase()]) &&
            b.Si
    };
    f.prototype.Ws = function() {
        var b = this.b.Fb();
        return b.$p ? !1 : !b.Uh
    };
    f.prototype.Zs = function() {
        return !0
    };
    f.prototype.By = function() {
        return !0
    };
    f.prototype.op = function() {
        return !0
    };
    f.prototype.dt = function() {
        return !0
    };
    f.prototype.Uy = function() {
        return !0
    };
    f.prototype.nm = function() {
        return !0
    };
    f.prototype.my = function(b) {
        var c = this.b;
        switch (b) {
            case 0:
                return !c.wb && !c.Pu && !c.Uc && !c.An && !c.Lg && !c.yn && !c.vn;
            case 1:
                return c.Nd;
            case 2:
                return c.Je;
            case 3:
                return c.Cn;
            case 4:
                return c.Lg;
            case 5:
                return c.yn;
            case 6:
                return c.Uq;
            case 7:
                return c.yd;
            case 8:
                return c.Uc;
            case 9:
                return c.IC;
            case 10:
                return c.Pu;
            case 11:
                return c.Fk;
            case 12:
                return c.vn;
            case 13:
                return c.Bn;
            default:
                return !1
        }
    };
    f.prototype.Mx = function(b, c, a) {
        return fb(Ya(b), Ya(a)) <= Ya(c)
    };
    f.prototype.hy = function(b, c) {
        return hb(Ya(b), Ya(c))
    };
    f.prototype.fy = function(b, c, a) {
        b = db(b);
        c = db(c);
        a = db(a);
        return hb(a, c) ? hb(b, c) && !hb(b, a) : !(!hb(b, c) && hb(b, a))
    };
    p.j = new f;
    m.prototype.Yx = function(b, c, a, d) {
        if (c && b && (c = this.b.Sp(b, c, a, d))) {
            this.b.Md++;
            var e;
            this.b.trigger(Object.getPrototypeOf(b.Ja).j.si,
                c);
            if (c.Lc)
                for (a = 0, d = c.siblings.length; a < d; a++) e = c.siblings[a], this.b.trigger(Object.getPrototypeOf(e.type.Ja).j.si, e);
            this.b.Md--;
            b = b.ba();
            b.ta = !1;
            y(b.e);
            b.e[0] = c;
            if (c.Lc)
                for (a = 0, d = c.siblings.length; a < d; a++) e = c.siblings[a], b = e.type.ba(), b.ta = !1, y(b.e), b.e[0] = e
        }
    };
    m.prototype.Az = function(b, c) {
        b && b.visible !== c && (b.visible = c, this.b.Ka = !0)
    };
    m.prototype.zz = function(b, c) {
        b && (c = Xa(c / 100, 0, 1), b.opacity !== c && (b.opacity = c, this.b.Ka = !0))
    };
    m.prototype.Ez = function(b, c) {
        0 === b.gm ? ua(c) ? b.Xf(c) : b.Xf(parseFloat(c)) :
            1 === b.gm && b.Xf(c.toString())
    };
    m.prototype.Lx = function(b, c) {
        0 === b.gm ? ua(c) ? b.Xf(b.Hh() + c) : b.Xf(b.Hh() + parseFloat(c)) : 1 === b.gm && b.Xf(b.Hh() + c.toString())
    };
    m.prototype.Oz = function(b, c) {
        0 === b.gm && (ua(c) ? b.Xf(b.Hh() - c) : b.Xf(b.Hh() - parseFloat(c)))
    };
    var e = [],
        d = [];
    m.prototype.Sz = function(b) {
        if (!(0 > b)) {
            var c, a, g, f = this.b.Fb(),
                l;
            e.length ? l = e.pop() : l = {
                Xc: {},
                Za: []
            };
            l.Xp = !1;
            l.time = this.b.nc.Fa + b;
            l.Zw = "";
            l.os = !1;
            l.Li = f.Mb;
            l.bd = f.bd + 1;
            b = 0;
            for (c = this.b.G.length; b < c; b++) g = this.b.G[b], a = g.ba(), a.ta && -1 === f.Mb.Za.indexOf(g) ||
                (l.Za.push(g), g = void 0, d.length ? g = d.pop() : g = {
                    Mf: []
                }, g.Fo = !1, g.Fo = a.ta, Ra(g.Mf, a.e), l.Xc[b.toString()] = g);
            this.sd.push(l);
            return !0
        }
    };
    p.C = new m;
    k.prototype["int"] = function(b, c) {
        wa(c) ? (b.bb(parseInt(c, 10)), isNaN(b.data) && (b.data = 0)) : b.bb(c)
    };
    k.prototype["float"] = function(b, c) {
        wa(c) ? (b.B(parseFloat(c)), isNaN(b.data) && (b.data = 0)) : b.B(c)
    };
    k.prototype.random = function(b, c, a) {
        void 0 === a ? b.B(Math.random() * c) : b.B(Math.random() * (a - c) + c)
    };
    k.prototype.sqrt = function(b, c) {
        b.B(Math.sqrt(c))
    };
    k.prototype.abs = function(b,
        c) {
        b.B(Math.abs(c))
    };
    k.prototype.round = function(b, c) {
        b.bb(Math.round(c))
    };
    k.prototype.floor = function(b, c) {
        b.bb(Math.floor(c))
    };
    k.prototype.ceil = function(b, c) {
        b.bb(Math.ceil(c))
    };
    k.prototype.sin = function(b, c) {
        b.B(Math.sin(Ya(c)))
    };
    k.prototype.cos = function(b, c) {
        b.B(Math.cos(Ya(c)))
    };
    k.prototype.tan = function(b, c) {
        b.B(Math.tan(Ya(c)))
    };
    k.prototype.asin = function(b, c) {
        b.B(Za(Math.asin(c)))
    };
    k.prototype.acos = function(b, c) {
        b.B(Za(Math.acos(c)))
    };
    k.prototype.atan = function(b, c) {
        b.B(Za(Math.atan(c)))
    };
    k.prototype.exp =
        function(b, c) {
            b.B(Math.exp(c))
        };
    k.prototype.log10 = function(b, c) {
        b.B(Math.log(c) / Math.LN10)
    };
    k.prototype.max = function(b) {
        var c = arguments[1];
        "number" !== typeof c && (c = 0);
        var a, d, e;
        a = 2;
        for (d = arguments.length; a < d; a++) e = arguments[a], "number" === typeof e && c < e && (c = e);
        b.B(c)
    };
    k.prototype.min = function(b) {
        var c = arguments[1];
        "number" !== typeof c && (c = 0);
        var a, d, e;
        a = 2;
        for (d = arguments.length; a < d; a++) e = arguments[a], "number" === typeof e && c > e && (c = e);
        b.B(c)
    };
    k.prototype.Ag = function(b) {
        b.B(this.b.Ag)
    };
    k.prototype.ni = function(b) {
        b.B(this.b.ni)
    };
    k.prototype.time = function(b) {
        b.B(this.b.nc.Fa)
    };
    k.prototype.Xd = function(b) {
        b.bb(this.b.Xd)
    };
    k.prototype.co = function(b) {
        b.bb(this.b.co)
    };
    k.prototype.kq = function(b) {
        b.bb(this.b.kq)
    };
    k.prototype.k = function(b, c, a, d, e) {
        b.B(Za(eb(c, a, d, e)))
    };
    k.prototype.Ci = function(b, c, a, d) {
        c < a ? b.B(a) : c > d ? b.B(d) : b.B(c)
    };
    k.prototype.left = function(b, c, a) {
        b.qc(wa(c) ? c.substr(0, a) : "")
    };
    k.prototype.right = function(b, c, a) {
        b.qc(wa(c) ? c.substr(c.length - a) : "")
    };
    k.prototype.replace = function(b, c, a, d) {
        wa(c) && wa(a) && wa(d) ? b.qc(c.replace(new RegExp(sb(a),
            "gi"), d)) : b.qc(wa(c) ? c : "")
    };
    k.prototype.trim = function(b, c) {
        b.qc(wa(c) ? c.trim() : "")
    };
    k.prototype.Pt = function(b) {
        var c = Ha(Math.random() * (arguments.length - 1));
        b.Sw(arguments[c + 1])
    };
    k.prototype.Rp = function(b) {
        b.B(this.b.Rp / 1E3)
    };
    k.prototype.QE = function(b, c) {
        var a = this.b.ZB(c);
        b.B(a ? a.La : 0)
    };
    k.prototype.ij = function(b) {
        b.B(this.b.ij)
    };
    p.Xa = new k;
    p.bE = function() {
        var b, c, a, g, f, l, m = this.b.Fb();
        b = 0;
        for (a = this.sd.length; b < a; b++) {
            g = this.sd[b];
            if (-1 === g.time) {
                if (!g.os) continue
            } else if (g.time > this.b.nc.Fa) continue;
            m.Mb = g.Li;
            m.bd = g.bd;
            m.Lb = 0;
            for (c in g.Xc) g.Xc.hasOwnProperty(c) && (f = this.b.G[parseInt(c, 10)].ba(), l = g.Xc[c], f.ta = l.Fo, Ra(f.e, l.Mf), f = l, y(f.Mf), d.push(f));
            g.Li.$D();
            this.b.Lp(g.Za);
            g.Xp = !0
        }
        c = b = 0;
        for (a = this.sd.length; b < a; b++) g = this.sd[b], this.sd[c] = g, g.Xp ? (mb(g.Xc), y(g.Za), e.push(g)) : c++;
        Pa(this.sd, c)
    }
})();
(function() {
    Gb = function(f, k) {
        var p = f[1],
            c = f[3],
            t = f[4],
            e = f[5],
            d = f[6],
            b = f[7],
            h = f[8];
        k.j || (k.j = {});
        k.C || (k.C = {});
        k.Xa || (k.Xa = {});
        var a = k.j,
            g = k.C,
            q = k.Xa;
        c && (a.Xx = function(a, b) {
                return Kc(this.x, a, b)
            }, a.iF = function(a, b) {
                return Kc(this.y, a, b)
            }, a.zF = function() {
                var a = this.n;
                this.Ga();
                var b = this.gb;
                return !(b.right < a.La || b.bottom < a.Ra || b.left > a.ab || b.top > a.$a)
            }, a.AF = function() {
                this.Ga();
                var a = this.gb,
                    b = this.b.eb;
                return 0 > a.right || 0 > a.bottom || a.left > b.width || a.top > b.height
            }, a.UF = function(a, b, c) {
                var d = this.ba(),
                    e = d.ed();
                if (!e.length) return !1;
                var g = e[0],
                    f = g,
                    h = jb(g.x, g.y, b, c),
                    q, m, k;
                q = 1;
                for (m = e.length; q < m; q++)
                    if (g = e[q], k = jb(g.x, g.y, b, c), 0 === a && k < h || 1 === a && k > h) h = k, f = g;
                d.xl(f);
                return !0
            }, g.tp = function(a) {
                this.x !== a && (this.x = a, this.H())
            }, g.Iz = function(a) {
                this.y !== a && (this.y = a, this.H())
            }, g.Cz = function(a, b) {
                if (this.x !== a || this.y !== b) this.x = a, this.y = b, this.H()
            }, g.vG = function(a, b) {
                var c = a.aC(this);
                if (c) {
                    var d;
                    c.Fg ? (d = c.Fg(b, !0), c = c.Fg(b, !1)) : (d = c.x, c = c.y);
                    if (this.x !== d || this.y !== c) this.x = d, this.y = c, this.H()
                }
            }, g.IF =
            function(a) {
                0 !== a && (this.x += Math.cos(this.k) * a, this.y += Math.sin(this.k) * a, this.H())
            }, g.HF = function(a, b) {
                0 !== b && (this.x += Math.cos(Ya(a)) * b, this.y += Math.sin(Ya(a)) * b, this.H())
            }, q.qm = function(a) {
                a.B(this.x)
            }, q.ot = function(a) {
                a.B(this.y)
            }, q.Ag = function(a) {
                a.B(this.b.vk(this))
            });
        t && (a.hF = function(a, b) {
            return Kc(this.width, a, b)
        }, a.eF = function(a, b) {
            return Kc(this.height, a, b)
        }, g.Hz = function(a) {
            this.width !== a && (this.width = a, this.H())
        }, g.qG = function(a) {
            this.height !== a && (this.height = a, this.H())
        }, g.wG = function(a,
            b) {
            if (this.width !== a || this.height !== b) this.width = a, this.height = b, this.H()
        }, q.QG = function(a) {
            a.B(this.width)
        }, q.uF = function(a) {
            a.B(this.height)
        }, q.YE = function(a) {
            this.Ga();
            a.B(this.gb.left)
        }, q.$E = function(a) {
            this.Ga();
            a.B(this.gb.top)
        }, q.ZE = function(a) {
            this.Ga();
            a.B(this.gb.right)
        }, q.XE = function(a) {
            this.Ga();
            a.B(this.gb.bottom)
        });
        e && (a.Mx = function(a, b) {
            return fb(this.k, Ya(b)) <= Ya(a)
        }, a.hy = function(a) {
            return hb(this.k, Ya(a))
        }, a.fy = function(a, b) {
            var c = db(a),
                d = db(b),
                e = ab(this.k);
            return hb(d, c) ? hb(e, c) &&
                !hb(e, d) : !(!hb(e, c) && hb(e, d))
        }, g.sz = function(a) {
            a = Ya($a(a));
            isNaN(a) || this.k === a || (this.k = a, this.H())
        }, g.gG = function(a) {
            0 === a || isNaN(a) || (this.k += Ya(a), this.k = ab(this.k), this.H())
        }, g.hG = function(a) {
            0 === a || isNaN(a) || (this.k -= Ya(a), this.k = ab(this.k), this.H())
        }, g.iG = function(a, b) {
            var c = gb(this.k, Ya(b), Ya(a));
            isNaN(c) || this.k === c || (this.k = c, this.H())
        }, g.jG = function(a, b, c) {
            a = gb(this.k, Math.atan2(c - this.y, b - this.x), Ya(a));
            isNaN(a) || this.k === a || (this.k = a, this.H())
        }, g.AG = function(a, b) {
            var c = Math.atan2(b -
                this.y, a - this.x);
            isNaN(c) || this.k === c || (this.k = c, this.H())
        }, q.VE = function(a) {
            a.B(cb(this.k))
        });
        p || (a.Ux = function(a, b, c) {
            return Kc(this.$b[a], b, c)
        }, a.gy = function(a) {
            return this.$b[a]
        }, a.VF = function(a, b) {
            var c = this.ba(),
                d = c.ed();
            if (!d.length) return !1;
            var e = d[0],
                g = e,
                f = e.$b[b],
                h, q, m;
            h = 1;
            for (q = d.length; h < q; h++)
                if (e = d[h], m = e.$b[b], 0 === a && m < f || 1 === a && m > f) f = m, g = e;
            c.xl(g);
            return !0
        }, a.ht = function(a) {
            var b, c, d, e, g;
            if (this.b.uk().un) {
                g = this.ba();
                if (g.ta)
                    for (g.ta = !1, y(g.e), y(g.ra), d = this.e, b = 0, c = d.length; b < c; b++) e =
                        d[b], e.uid === a ? g.ra.push(e) : g.e.push(e);
                else {
                    d = b = 0;
                    for (c = g.e.length; b < c; b++) e = g.e[b], g.e[d] = e, e.uid === a ? g.ra.push(e) : d++;
                    Pa(g.e, d)
                }
                this.ee();
                return !!g.e.length
            }
            e = this.b.Gg(a);
            if (!e) return !1;
            g = this.ba();
            if (!g.ta && -1 === g.e.indexOf(e)) return !1;
            if (this.R)
                for (a = e.type.nb, b = 0, c = a.length; b < c; b++) {
                    if (a[b] === this) return g.xl(e), this.ee(), !0
                } else if (e.type === this) return g.xl(e), this.ee(), !0;
            return !1
        }, a.si = function() {
            return !0
        }, a.Ey = function() {
            return !0
        }, g.sG = function(a, b) {
            var c = this.$b;
            ua(c[a]) ? c[a] = ua(b) ? b :
                parseFloat(b) : wa(c[a]) && (c[a] = wa(b) ? b : b.toString())
        }, g.UE = function(a, b) {
            var c = this.$b;
            ua(c[a]) ? c[a] = ua(b) ? c[a] + b : c[a] + parseFloat(b) : wa(c[a]) && (c[a] = wa(b) ? c[a] + b : c[a] + b.toString())
        }, g.JG = function(a, b) {
            var c = this.$b;
            ua(c[a]) && (c[a] = ua(b) ? c[a] - b : c[a] - parseFloat(b))
        }, g.wz = function(a, b) {
            this.$b[a] = b ? 1 : 0
        }, g.MG = function(a) {
            this.$b[a] = 1 - this.$b[a]
        }, g.Vs = function() {
            this.b.kg(this)
        }, g.vy || (g.vy = function(a) {
            var b, c;
            try {
                b = JSON.parse(a)
            } catch (d) {
                return
            }
            this.b.Qn(this, b, !0);
            this.ze && this.ze();
            if (this.fa)
                for (a =
                    0, b = this.fa.length; a < b; ++a) c = this.fa[a], c.ze && c.ze()
        }), q.lF = function(a) {
            var b = a.di.e.length,
                c, d, e;
            c = 0;
            for (d = this.b.Fe.length; c < d; c++) e = this.b.Fe[c], a.di.R ? 0 <= e.type.nb.indexOf(a.di) && b++ : e.type === a.di && b++;
            a.bb(b)
        }, q.XF = function(a) {
            a.bb(a.di.ba().ed().length)
        }, q.NG = function(a) {
            a.bb(this.uid)
        }, q.wF = function(a) {
            a.bb(this.xk())
        }, q.Ts || (q.Ts = function(a) {
            a.qc(JSON.stringify(this.b.ds(this, !0)))
        }));
        d && (a.ry = function() {
            return this.visible
        }, g.sp = function(a) {
            !a !== !this.visible && (this.visible = !!a, this.b.Ka = !0)
        }, a.fF = function(a, b) {
            return Kc(Cb(100 * this.opacity), a, b)
        }, g.lt = function(a) {
            a = a / 100;
            0 > a ? a = 0 : 1 < a && (a = 1);
            a !== this.opacity && (this.opacity = a, this.b.Ka = !0)
        }, q.Opacity = function(a) {
            a.B(Cb(100 * this.opacity))
        });
        b && (a.Xs = function(a) {
                return a ? this.n === a : !1
            }, a.WF = function(a) {
                var b = this.ba(),
                    c = b.ed();
                if (!c.length) return !1;
                var d = c[0],
                    e = d,
                    g, f;
                g = 1;
                for (f = c.length; g < f; g++)
                    if (d = c[g], 0 === a) {
                        if (d.n.index > e.n.index || d.n.index === e.n.index && d.gf() > e.gf()) e = d
                    } else if (d.n.index < e.n.index || d.n.index === e.n.index && d.gf() < e.gf()) e =
                    d;
                b.xl(e);
                return !0
            }, g.LF = function() {
                var a = this.n,
                    b = a.e;
                b.length && b[b.length - 1] === this || (a.yj(this, !1), a.ak(this, !1), this.b.Ka = !0)
            }, g.JF = function() {
                var a = this.n,
                    b = a.e;
                b.length && b[0] === this || (a.yj(this, !1), a.ED(this), this.b.Ka = !0)
            }, g.KF = function(a) {
                a && a != this.n && (this.n.yj(this, !0), this.n = a, a.ak(this, !0), this.b.Ka = !0)
            }, g.Tz = function(a, b) {
                var c = 0 === a;
                if (b) {
                    var d = b.uq(this);
                    d && d.uid !== this.uid && (this.n.index !== d.n.index && (this.n.yj(this, !0), this.n = d.n, d.n.ak(this, !0)), this.n.fD(this, d, c), this.b.Ka = !0)
                }
            },
            q.FF = function(a) {
                a.bb(this.n.Nv)
            }, q.EF = function(a) {
                a.qc(this.n.name)
            }, q.RG = function(a) {
                a.bb(this.gf())
            });
        h && (g.oG = function(a, b) {
            if (this.b.F) {
                var c = this.type.tq(b);
                if (!(0 > c)) {
                    var d = 1 === a;
                    this.mg[c] !== d && (this.mg[c] = d, this.We(), this.b.Ka = !0)
                }
            }
        }, g.pG = function(a, b, c) {
            if (this.b.F) {
                var d = this.type.tq(a);
                0 > d || (a = this.type.ja[d], d = this.sb[d], b = Math.floor(b), 0 > b || b >= d.length || (1 === this.b.F.eC(a.Ub, b) && (c /= 100), d[b] !== c && (d[b] = c, a.J && (this.b.Ka = !0))))
            }
        })
    };
    kc = function() {
        this.Gp = this.Cp = !0;
        this.type.vm = !0;
        this.b.Ka = !0;
        var f, k, p = this.Dp;
        f = 0;
        for (k = p.length; f < k; ++f) p[f](this);
        this.n.ae && this.Ga()
    };
    qc = function(f) {
        f && this.Dp.push(f)
    };
    sc = function() {
        if (this.Cp) {
            var f = this.gb,
                k = this.Ec;
            f.set(this.x, this.y, this.x + this.width, this.y + this.height);
            f.offset(-this.jc * this.width, -this.kc * this.height);
            this.k ? (f.offset(-this.x, -this.y), k.Uw(f, this.k), k.offset(this.x, this.y), k.Jt(f)) : k.Ql(f);
            f.normalize();
            this.Cp = !1;
            this.JE()
        }
    };
    var f = new La(0, 0, 0, 0);
    tc = function() {
        if (this.n.ae) {
            var m = this.n.Ac,
                k = this.gb;
            f.set(m.$c(k.left), m.ad(k.top),
                m.$c(k.right), m.ad(k.bottom));
            this.kd.pk(f) || (this.kd.right < this.kd.left ? m.update(this, null, f) : m.update(this, this.kd, f), this.kd.Fi(f), this.n.Re = !0)
        }
    };
    uc = function() {
        if (this.Gp && this.Cf) {
            this.Ga();
            var m = this.type.Km,
                k = this.gb;
            f.set(m.$c(k.left), m.ad(k.top), m.$c(k.right), m.ad(k.bottom));
            this.xg.pk(f) || (this.xg.right < this.xg.left ? m.update(this, null, f) : m.update(this, this.xg, f), this.xg.Fi(f), this.Gp = !1)
        }
    };
    rc = function(f, k) {
        return this.gb.Fc(f, k) && this.Ec.Fc(f, k) ? this.Ca && !this.Ca.Ph() ? (this.Ca.vh(this.width,
            this.height, this.k), this.Ca.Fc(f - this.x, k - this.y)) : !0 : !1
    };
    gc = function() {
        this.type.gp();
        return this.Kh
    };
    vc = function() {
        this.n.Ls();
        return this.Xe
    };
    wc = function() {
        y(this.Ma);
        var f, k, p, c = !0;
        f = 0;
        for (k = this.mg.length; f < k; f++) this.mg[f] && (p = this.type.ja[f], this.Ma.push(p), p.Ne || (c = !1));
        this.Fx = !!this.Ma.length;
        this.Yf = c
    };
    hc = function() {
        return "Inst" + this.sw
    };
    Jb = function(f) {
        if (f && f.Lc && f.type != this) {
            var k, p, c;
            k = 0;
            for (p = f.siblings.length; k < p; k++)
                if (c = f.siblings[k], c.type == this) return c
        }
        f = this.ba().ed();
        return f.length ?
            f[0] : null
    };
    Kb = function(f) {
        var k = this.ba().ed();
        return k.length ? k[f.xk() % k.length] : null
    };
    Ib = function() {
        if (this.Ej && !this.R) {
            var f, k;
            f = 0;
            for (k = this.e.length; f < k; f++) this.e[f].Kh = f;
            var p = f,
                c = this.b.Fe;
            f = 0;
            for (k = c.length; f < k; ++f) c[f].type === this && (c[f].Kh = p++);
            this.Ej = !1
        }
    };
    ec = function(f) {
        if (f < this.e.length) return this.e[f];
        f -= this.e.length;
        var k = this.b.Fe,
            p, c;
        p = 0;
        for (c = k.length; p < c; ++p)
            if (k[p].type === this) {
                if (0 === f) return k[p];
                --f
            }
        return null
    };
    Lb = function() {
        return this.$f[this.df]
    };
    Mb = function() {
        this.df++;
        this.df === this.$f.length ? this.$f.push(new Hb(this)) : (this.$f[this.df].ta = !0, y(this.$f[this.df].ra))
    };
    Nb = function() {
        this.df++;
        this.df === this.$f.length && this.$f.push(new Hb(this));
        var f = this.$f[this.df],
            k = this.$f[this.df - 1];
        k.ta ? (f.ta = !0, y(f.ra)) : (f.ta = !1, Ra(f.e, k.e), Ra(f.ra, k.ra))
    };
    Pb = function() {
        this.df--
    };
    ac = function(f) {
        var k, p, c, t, e, d = 0;
        if (!this.R)
            for (k = 0, p = this.nb.length; k < p; k++)
                for (e = this.nb[k], c = 0, t = e.qb.length; c < t; c++) {
                    if (f === e.qb[c].name) return this.M.lastBehIndex = d, e.qb[c];
                    d++
                }
        k = 0;
        for (p = this.qb.length; k <
            p; k++) {
            if (f === this.qb[k].name) return this.M.lastBehIndex = d, this.qb[k];
            d++
        }
        return null
    };
    bc = function(f) {
        return this.nn(f) ? this.M.lastBehIndex : -1
    };
    cc = function(f) {
        var k, p;
        k = 0;
        for (p = this.ja.length; k < p; k++)
            if (this.ja[k].name === f) return k;
        return -1
    };
    dc = function() {
        if (this.Lc && !this.R) {
            var f, k, p, c, t, e, d;
            this.gp();
            e = this.ba();
            var b = e.ta,
                h = (f = this.b.Fb()) && f.Mb && f.Mb.Rd;
            f = 0;
            for (k = this.vd.length; f < k; f++)
                if (t = this.vd[f], t !== this && (t.gp(), d = t.ba(), d.ta = b, !b)) {
                    y(d.e);
                    p = 0;
                    for (c = e.e.length; p < c; ++p) d.e[p] = t.vq(e.e[p].Kh);
                    if (h)
                        for (y(d.ra), p = 0, c = e.ra.length; p < c; ++p) d.ra[p] = t.vq(e.ra[p].Kh)
                }
        }
    };
    fc = function() {
        return "Type" + this.Ea
    };
    Kc = function(f, k, p) {
        if ("undefined" === typeof f || "undefined" === typeof p) return !1;
        switch (k) {
            case 0:
                return f === p;
            case 1:
                return f !== p;
            case 2:
                return f < p;
            case 3:
                return f <= p;
            case 4:
                return f > p;
            case 5:
                return f >= p;
            default:
                return !1
        }
    }
})();
var Uc = {};

function Zc(f) {
    this.b = f
}
(function() {
    function f() {}

    function m() {}
    var k = Zc.prototype;
    k.Ba = function(c) {
        this.Ja = c;
        this.b = c.b
    };
    k.Ba.prototype.S = function() {};
    k.na = function(c) {
        this.type = c;
        this.b = c.b
    };
    var p;
    k.na.prototype.S = function() {
        (this.b.Je || this.b.Nd) && "undefined" != typeof Cocoon && (p = this)
    };
    f.prototype.pD = function() {
        return !0
    };
    f.prototype.qD = function() {
        return !0
    };
    k.j = new f;
    m.prototype.up = function(c, f) {
        window.ne && window.ne.up && Cocoon.up.wH({
            message: c,
            bH: f
        }, function(c, d, b) {
            d ? p.b.trigger(Zc.prototype.j.pD, p) : (p.b.trigger(Zc.prototype.j.qD,
                p), console.log(b))
        })
    };
    k.C = new m
})();

function $c(f) {
    this.b = f
}
(function() {
    function f(a) {
        0 > a && (a = 0);
        1 < a && (a = 1);
        return Math.log(a) / Math.log(10) * 20
    }

    function m(a) {
        a = a.toLowerCase();
        return fa.hasOwnProperty(a) && fa[a].length ? fa[a][0].Kd() : v.destination
    }

    function k() {
        return v.createGain ? v.createGain() : v.createGainNode()
    }

    function p(a) {
        return v.createDelay ? v.createDelay(a) : v.createDelayNode(a)
    }

    function c(a, b) {
        a.start ? a.start(b || 0) : a.noteOn(b || 0)
    }

    function t(a, b, c, d) {
        a.start ? a.start(d || 0, b) : a.noteGrainOn(d || 0, b, c - b)
    }

    function e(a) {
        try {
            a.stop ? a.stop(0) : a.noteOff(0)
        } catch (b) {}
    }

    function d(a, b, c, d, e, g) {
        this.type = "filter";
        this.zc = [a, b, c, d, e, g];
        this.Ha = k();
        this.ea = k();
        this.ea.gain.value = g;
        this.aa = k();
        this.aa.gain.value = 1 - g;
        this.Nb = v.createBiquadFilter();
        this.Nb.type = "number" === typeof this.Nb.type ? a : ba[a];
        this.Nb.frequency.value = b;
        this.Nb.detune && (this.Nb.detune.value = c);
        this.Nb.Q.value = d;
        this.Nb.gain.value = e;
        this.Ha.connect(this.Nb);
        this.Ha.connect(this.aa);
        this.Nb.connect(this.ea)
    }

    function b(a, b, c) {
        this.type = "delay";
        this.zc = [a, b, c];
        this.Ha = k();
        this.ea = k();
        this.ea.gain.value =
            c;
        this.aa = k();
        this.aa.gain.value = 1 - c;
        this.gl = k();
        this.je = p(a);
        this.je.delayTime.value = a;
        this.Tm = k();
        this.Tm.gain.value = b;
        this.Ha.connect(this.gl);
        this.Ha.connect(this.aa);
        this.gl.connect(this.ea);
        this.gl.connect(this.je);
        this.je.connect(this.Tm);
        this.Tm.connect(this.gl)
    }

    function h(a, b, c, d) {
        this.type = "convolve";
        this.zc = [b, c, d];
        this.Ha = k();
        this.ea = k();
        this.ea.gain.value = c;
        this.aa = k();
        this.aa.gain.value = 1 - c;
        this.wh = v.createConvolver();
        a && (this.wh.normalize = b, this.wh.buffer = a);
        this.Ha.connect(this.wh);
        this.Ha.connect(this.aa);
        this.wh.connect(this.ea)
    }

    function a(a, b, d, e, g) {
        this.type = "flanger";
        this.zc = [a, b, d, e, g];
        this.Ha = k();
        this.aa = k();
        this.aa.gain.value = 1 - g / 2;
        this.ea = k();
        this.ea.gain.value = g / 2;
        this.bn = k();
        this.bn.gain.value = e;
        this.je = p(a + b);
        this.je.delayTime.value = a;
        this.pc = v.createOscillator();
        this.pc.frequency.value = d;
        this.Ed = k();
        this.Ed.gain.value = b;
        this.Ha.connect(this.je);
        this.Ha.connect(this.aa);
        this.je.connect(this.ea);
        this.je.connect(this.bn);
        this.bn.connect(this.je);
        this.pc.connect(this.Ed);
        this.Ed.connect(this.je.delayTime);
        c(this.pc)
    }

    function g(a, b, d, e, g, f) {
        this.type = "phaser";
        this.zc = [a, b, d, e, g, f];
        this.Ha = k();
        this.aa = k();
        this.aa.gain.value = 1 - f / 2;
        this.ea = k();
        this.ea.gain.value = f / 2;
        this.Nb = v.createBiquadFilter();
        this.Nb.type = "number" === typeof this.Nb.type ? 7 : "allpass";
        this.Nb.frequency.value = a;
        this.Nb.detune && (this.Nb.detune.value = b);
        this.Nb.Q.value = d;
        this.pc = v.createOscillator();
        this.pc.frequency.value = g;
        this.Ed = k();
        this.Ed.gain.value = e;
        this.Ha.connect(this.Nb);
        this.Ha.connect(this.aa);
        this.Nb.connect(this.ea);
        this.pc.connect(this.Ed);
        this.Ed.connect(this.Nb.frequency);
        c(this.pc)
    }

    function q(a) {
        this.type = "gain";
        this.zc = [a];
        this.Ia = k();
        this.Ia.gain.value = a
    }

    function l(a, b) {
        this.type = "tremolo";
        this.zc = [a, b];
        this.Ia = k();
        this.Ia.gain.value = 1 - b / 2;
        this.pc = v.createOscillator();
        this.pc.frequency.value = a;
        this.Ed = k();
        this.Ed.gain.value = b / 2;
        this.pc.connect(this.Ed);
        this.Ed.connect(this.Ia.gain);
        c(this.pc)
    }

    function N(a, b) {
        this.type = "ringmod";
        this.zc = [a, b];
        this.Ha = k();
        this.ea = k();
        this.ea.gain.value =
            b;
        this.aa = k();
        this.aa.gain.value = 1 - b;
        this.Kl = k();
        this.Kl.gain.value = 0;
        this.pc = v.createOscillator();
        this.pc.frequency.value = a;
        this.pc.connect(this.Kl.gain);
        c(this.pc);
        this.Ha.connect(this.Kl);
        this.Ha.connect(this.aa);
        this.Kl.connect(this.ea)
    }

    function O(a, b, c, d, e) {
        this.type = "distortion";
        this.zc = [a, b, c, d, e];
        this.Ha = k();
        this.to = k();
        this.ro = k();
        this.iE(c, Math.pow(10, d / 20));
        this.ea = k();
        this.ea.gain.value = e;
        this.aa = k();
        this.aa.gain.value = 1 - e;
        this.lp = v.createWaveShaper();
        this.Rm = new Float32Array(65536);
        this.QB(a,
            b);
        this.lp.Rm = this.Rm;
        this.Ha.connect(this.to);
        this.Ha.connect(this.aa);
        this.to.connect(this.lp);
        this.lp.connect(this.ro);
        this.ro.connect(this.ea)
    }

    function r(a, b, c, d, e) {
        this.type = "compressor";
        this.zc = [a, b, c, d, e];
        this.Ia = v.createDynamicsCompressor();
        try {
            this.Ia.threshold.value = a, this.Ia.knee.value = b, this.Ia.ratio.value = c, this.Ia.attack.value = d, this.Ia.release.value = e
        } catch (g) {}
    }

    function n(a, b) {
        this.type = "analyser";
        this.zc = [a, b];
        this.Ia = v.createAnalyser();
        this.Ia.fftSize = a;
        this.Ia.smoothingTimeConstant =
            b;
        this.OB = new Float32Array(this.Ia.frequencyBinCount);
        this.Xw = new Uint8Array(a);
        this.wl = 0
    }

    function u() {
        this.ca = null;
        this.Rn = 0
    }

    function S(a, b) {
        this.src = a;
        this.Aa = L;
        this.me = b;
        this.um = !1;
        var c = this;
        this.ur = this.Kr = null;
        this.xj = [];
        this.Go = 0;
        this.Rs = this.$m = this.hx = this.ko = !1;
        1 === L && b && !ca && (this.Aa = 0, this.Kr = k());
        this.zf = this.Pa = null;
        var d;
        switch (this.Aa) {
            case 0:
                this.Pa = new Audio;
                this.Pa.crossOrigin = "anonymous";
                this.Pa.addEventListener("canplaythrough", function() {
                    c.Rs = !0
                });
                1 === L && v.createMediaElementSource &&
                    !/wiiu/i.test(navigator.userAgent) && (this.hx = !0, this.Pa.addEventListener("canplay", function() {
                        c.ur || (c.ur = v.createMediaElementSource(c.Pa), c.ur.connect(c.Kr))
                    }));
                this.Pa.autoplay = !1;
                this.Pa.pH = "auto";
                this.Pa.src = a;
                break;
            case 1:
                D.Mk ? D.ju(a, function(a) {
                    c.zf = a;
                    c.au()
                }, function() {
                    c.$m = !0
                }) : (d = new XMLHttpRequest, d.open("GET", a, !0), d.responseType = "arraybuffer", d.onload = function() {
                    c.zf = d.response;
                    c.au()
                }, d.onerror = function() {
                    c.$m = !0
                }, d.send());
                break;
            case 2:
                this.Pa = !0;
                break;
            case 3:
                this.Pa = !0
        }
    }

    function B(a,
        b) {
        var c = this;
        this.tag = b;
        this.rc = this.ff = !0;
        this.src = a.src;
        this.buffer = a;
        this.Aa = L;
        this.me = a.me;
        this.playbackRate = 1;
        this.Ti = !0;
        this.zd = this.Ud = !1;
        this.ld = 0;
        this.Nk = this.Xi = this.kf = !1;
        this.volume = 1;
        this.Ir = function(a) {
            if (!c.zd && !c.Ud) {
                var b = this;
                b || (b = a.target);
                b === c.rm && (c.Ti = !0, c.rc = !0, T = c.tag, D.trigger($c.prototype.j.lm, X))
            }
        };
        this.rm = null;
        this.Vi = 1 === I && !this.me || 2 === I;
        this.oj = 1;
        this.startTime = this.Vi ? D.nc.Fa : D.hg.Fa;
        this.Qb = this.Zb = null;
        this.nf = !1;
        this.xc = null;
        this.ew = this.dw = this.bw = this.aw = this.gw =
            this.fw = 0;
        this.p = null;
        var d = !1;
        1 !== this.Aa || 0 !== this.buffer.Aa || this.buffer.hx || (this.Aa = 0);
        switch (this.Aa) {
            case 0:
                this.me ? (this.p = a.Pa, d = !a.um, a.um = !0) : (this.p = new Audio, this.p.crossOrigin = "anonymous", this.p.autoplay = !1, this.p.src = a.Pa.src, d = !0);
                d && this.p.addEventListener("ended", function() {
                    T = c.tag;
                    c.rc = !0;
                    D.trigger($c.prototype.j.lm, X)
                });
                break;
            case 1:
                this.Zb = k();
                this.Zb.connect(m(b));
                1 === this.buffer.Aa ? a.Pa && (this.p = v.createBufferSource(), this.p.buffer = a.Pa, this.p.connect(this.Zb)) : (this.p = this.buffer.Pa,
                    this.buffer.Kr.connect(this.Zb), this.buffer.um || (this.buffer.um = !0, this.buffer.Pa.addEventListener("ended", function() {
                        T = c.tag;
                        c.rc = !0;
                        D.trigger($c.prototype.j.lm, X)
                    })));
                break;
            case 2:
                this.p = new window.Media(Q + this.src, null, null, function(a) {
                    a === window.Media.MEDIA_STOPPED && (c.Ti = !0, c.rc = !0, T = c.tag, D.trigger($c.prototype.j.lm, X))
                });
                break;
            case 3:
                this.p = !0
        }
    }

    function w(a, b) {
        var c = a.Nh() ? 1 : 0,
            d = b.Nh() ? 1 : 0;
        return c === d ? 0 : c < d ? 1 : -1
    }

    function H(a, b) {
        y(va);
        if (a.length) {
            var c, d, e;
            c = 0;
            for (d = C.length; c < d; c++) e = C[c],
                Db(a, e.tag) && va.push(e);
            b && va.sort(w)
        } else R && !R.Jh() && (y(va), va[0] = R)
    }

    function E(a, b) {
        fa.hasOwnProperty(a) ? fa[a].push(b) : fa[a] = [b];
        var c, d, e, g, f = v.destination;
        if (fa.hasOwnProperty(a) && (e = fa[a], e.length))
            for (f = e[0].Kd(), c = 0, d = e.length; c < d; c++) g = e[c], c + 1 === d ? g.fe(v.destination) : g.fe(e[c + 1].Kd());
        H(a);
        c = 0;
        for (d = va.length; c < d; c++) va[c].OD(f);
        ha && yb === a && (ha.disconnect(), ha.connect(f))
    }

    function z() {}

    function x() {}

    function K() {}
    var Y = $c.prototype;
    Y.Ba = function(a) {
        this.Ja = a;
        this.b = a.b
    };
    Y.Ba.prototype.S =
        function() {};
    var D = null,
        X = null,
        T = "",
        Q = "",
        L = 0,
        v = null,
        F = [],
        C = [],
        R = null,
        G = !1,
        I = 0,
        M = !1,
        V = 1,
        ka = 0,
        P = 0,
        Ia = !1,
        Ca = 1,
        oa = 1,
        W = 10,
        A = 1E4,
        la = 1,
        ha = null,
        yb = "",
        J = !1,
        pa = [],
        ca = !1,
        fa = {},
        ba = "lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");
    d.prototype.fe = function(a) {
        this.ea.disconnect();
        this.ea.connect(a);
        this.aa.disconnect();
        this.aa.connect(a)
    };
    d.prototype.remove = function() {
        this.Ha.disconnect();
        this.Nb.disconnect();
        this.ea.disconnect();
        this.aa.disconnect()
    };
    d.prototype.Kd = function() {
        return this.Ha
    };
    b.prototype.fe = function(a) {
        this.ea.disconnect();
        this.ea.connect(a);
        this.aa.disconnect();
        this.aa.connect(a)
    };
    b.prototype.remove = function() {
        this.Ha.disconnect();
        this.gl.disconnect();
        this.je.disconnect();
        this.Tm.disconnect();
        this.ea.disconnect();
        this.aa.disconnect()
    };
    b.prototype.Kd = function() {
        return this.Ha
    };
    h.prototype.fe = function(a) {
        this.ea.disconnect();
        this.ea.connect(a);
        this.aa.disconnect();
        this.aa.connect(a)
    };
    h.prototype.remove = function() {
        this.Ha.disconnect();
        this.wh.disconnect();
        this.ea.disconnect();
        this.aa.disconnect()
    };
    h.prototype.Kd = function() {
        return this.Ha
    };
    a.prototype.fe = function(a) {
        this.aa.disconnect();
        this.aa.connect(a);
        this.ea.disconnect();
        this.ea.connect(a)
    };
    a.prototype.remove = function() {
        this.Ha.disconnect();
        this.je.disconnect();
        this.pc.disconnect();
        this.Ed.disconnect();
        this.aa.disconnect();
        this.ea.disconnect();
        this.bn.disconnect()
    };
    a.prototype.Kd = function() {
        return this.Ha
    };
    g.prototype.fe = function(a) {
        this.aa.disconnect();
        this.aa.connect(a);
        this.ea.disconnect();
        this.ea.connect(a)
    };
    g.prototype.remove =
        function() {
            this.Ha.disconnect();
            this.Nb.disconnect();
            this.pc.disconnect();
            this.Ed.disconnect();
            this.aa.disconnect();
            this.ea.disconnect()
        };
    g.prototype.Kd = function() {
        return this.Ha
    };
    q.prototype.fe = function(a) {
        this.Ia.disconnect();
        this.Ia.connect(a)
    };
    q.prototype.remove = function() {
        this.Ia.disconnect()
    };
    q.prototype.Kd = function() {
        return this.Ia
    };
    l.prototype.fe = function(a) {
        this.Ia.disconnect();
        this.Ia.connect(a)
    };
    l.prototype.remove = function() {
        this.pc.disconnect();
        this.Ed.disconnect();
        this.Ia.disconnect()
    };
    l.prototype.Kd = function() {
        return this.Ia
    };
    N.prototype.fe = function(a) {
        this.ea.disconnect();
        this.ea.connect(a);
        this.aa.disconnect();
        this.aa.connect(a)
    };
    N.prototype.remove = function() {
        this.pc.disconnect();
        this.Kl.disconnect();
        this.Ha.disconnect();
        this.ea.disconnect();
        this.aa.disconnect()
    };
    N.prototype.Kd = function() {
        return this.Ha
    };
    O.prototype.iE = function(a, b) {
        .01 > a && (a = .01);
        this.to.gain.value = a;
        this.ro.gain.value = Math.pow(1 / a, .6) * b
    };
    O.prototype.shape = function(a, b, c) {
        var d = 1.05 * c * b - b;
        c = 0 > a ? -1 : 1;
        a = 0 > a ? -a :
            a;
        b = a < b ? a : b + d * (1 - Math.exp(-(1 / d) * (a - b)));
        return b * c
    };
    O.prototype.QB = function(a, b) {
        for (var c = Math.pow(10, a / 20), d = Math.pow(10, b / 20), e = 0, g = 0; 32768 > g; ++g) e = g / 32768, e = this.shape(e, c, d), this.Rm[32768 + g] = e, this.Rm[32768 - g - 1] = -e
    };
    O.prototype.fe = function(a) {
        this.ea.disconnect();
        this.ea.connect(a);
        this.aa.disconnect();
        this.aa.connect(a)
    };
    O.prototype.remove = function() {
        this.Ha.disconnect();
        this.to.disconnect();
        this.lp.disconnect();
        this.ro.disconnect();
        this.ea.disconnect();
        this.aa.disconnect()
    };
    O.prototype.Kd =
        function() {
            return this.Ha
        };
    r.prototype.fe = function(a) {
        this.Ia.disconnect();
        this.Ia.connect(a)
    };
    r.prototype.remove = function() {
        this.Ia.disconnect()
    };
    r.prototype.Kd = function() {
        return this.Ia
    };
    n.prototype.zb = function() {
        this.Ia.getFloatFrequencyData(this.OB);
        this.Ia.getByteTimeDomainData(this.Xw);
        for (var a = this.Ia.fftSize, b = 0, c = this.wl = 0, d = 0; b < a; b++) d = (this.Xw[b] - 128) / 128, 0 > d && (d = -d), this.wl < d && (this.wl = d), c += d * d;
        this.wl = f(this.wl);
        f(Math.sqrt(c / a))
    };
    n.prototype.fe = function(a) {
        this.Ia.disconnect();
        this.Ia.connect(a)
    };
    n.prototype.remove = function() {
        this.Ia.disconnect()
    };
    n.prototype.Kd = function() {
        return this.Ia
    };
    u.prototype.Ol = function(a) {
        this.ca = a
    };
    u.prototype.sn = function() {
        return !!this.ca
    };
    u.prototype.zb = function() {};
    var da = !1;
    S.prototype.RD = function() {
        var a, b, c, d;
        c = a = 0;
        for (b = C.length; a < b; ++a) d = C[a], C[c] = d, d.buffer === this ? d.stop() : ++c;
        C.length = c;
        this.zf = this.Pa = null
    };
    S.prototype.au = function() {
        if (!this.Pa && this.zf) {
            var a = this;
            if (v.decodeAudioData) v.decodeAudioData(this.zf, function(b) {
                a.Pa = b;
                a.zf = null;
                var c, d, e;
                if (ta(a.mo) || M) ta(a.Nm) || (c = a.Nm.wh, c.normalize = a.Mv, c.buffer = b);
                else if (a.xj.length) {
                    c = 0;
                    for (d = a.xj.length; c < d; c++) {
                        b = a.xj[c];
                        e = new B(a, b.nx);
                        e.ls(!0);
                        if ("undefined" !== typeof b.Ov && (b.ca = D.Gg(b.Ov), !b.ca)) continue;
                        if (b.ca) {
                            var g = ib(b.ca.x, b.ca.y, -b.ca.n.Eb(), ka, P, !0),
                                f = ib(b.ca.x, b.ca.y, -b.ca.n.Eb(), ka, P, !1);
                            e.ks(g, f, Za(b.ca.k - b.ca.n.Eb()), b.Hq, b.Dr, b.Gr);
                            e.Ol(b.ca)
                        } else e.ks(b.x, b.y, b.u, b.Hq, b.Dr, b.Gr);
                        e.play(a.qr, a.Os, a.Go);
                        a.ko && e.pause();
                        C.push(e)
                    }
                    y(a.xj)
                } else e = new B(a, a.mo || ""), e.play(a.qr,
                    a.Os, a.Go), a.ko && e.pause(), C.push(e)
            }, function() {
                a.$m = !0
            });
            else if (this.Pa = v.createBuffer(this.zf, !1), this.zf = null, ta(this.mo) || M) ta(this.Nm) || (b = this.Nm.wh, b.normalize = this.Mv, b.buffer = this.Pa);
            else {
                var b = new B(this, this.mo);
                b.play(this.qr, this.Os, this.Go);
                this.ko && b.pause();
                C.push(b)
            }
        }
    };
    S.prototype.Ou = function() {
        switch (this.Aa) {
            case 0:
                var a = 4 <= this.Pa.readyState;
                a && (this.Rs = !0);
                return a || this.Rs;
            case 1:
                return !!this.zf || !!this.Pa;
            case 2:
                return !0;
            case 3:
                return !0
        }
        return !1
    };
    S.prototype.MC = function() {
        switch (this.Aa) {
            case 0:
                return this.Ou();
            case 1:
                return !!this.Pa;
            case 2:
                return !0;
            case 3:
                return !0
        }
        return !1
    };
    S.prototype.AC = function() {
        switch (this.Aa) {
            case 0:
                return !!this.Pa.error;
            case 1:
                return this.$m
        }
        return !1
    };
    B.prototype.Jh = function() {
        switch (this.Aa) {
            case 0:
                return this.p.ended;
            case 1:
                return 1 === this.buffer.Aa ? !this.ff && !this.rc && this.p.loop || this.zd ? !1 : this.Ti : this.p.ended;
            case 2:
                return this.Ti;
            case 3:
                !0
        }
        return !0
    };
    B.prototype.kA = function() {
        return this.ff || this.rc ? !0 : this.Jh()
    };
    B.prototype.ls = function(a) {
        1 === L && (!this.nf && a ? this.Zb && (this.Qb ||
            (this.Qb = v.createPanner(), this.Qb.panningModel = "number" === typeof this.Qb.panningModel ? Ca : ["equalpower", "HRTF", "soundfield"][Ca], this.Qb.distanceModel = "number" === typeof this.Qb.distanceModel ? oa : ["linear", "inverse", "exponential"][oa], this.Qb.refDistance = W, this.Qb.maxDistance = A, this.Qb.rolloffFactor = la), this.Zb.disconnect(), this.Zb.connect(this.Qb), this.Qb.connect(m(this.tag)), this.nf = !0) : this.nf && !a && this.Zb && (this.Qb.disconnect(), this.Zb.disconnect(), this.Zb.connect(m(this.tag)), this.nf = !1))
    };
    B.prototype.ks =
        function(a, b, c, d, e, g) {
            this.nf && 1 === L && (this.Qb.setPosition(a, b, 0), this.Qb.setOrientation(Math.cos(Ya(c)), Math.sin(Ya(c)), 0), this.Qb.coneInnerAngle = d, this.Qb.coneOuterAngle = e, this.Qb.coneOuterGain = g, this.fw = a, this.gw = b, this.aw = c, this.bw = d, this.dw = e, this.ew = g)
        };
    B.prototype.Ol = function(a) {
        this.nf && 1 === L && (this.xc || (this.xc = new u), this.xc.Ol(a))
    };
    B.prototype.zb = function(a) {
        if (this.nf && 1 === L && this.xc && this.xc.sn() && this.Nh()) {
            this.xc.zb(a);
            a = this.xc.ca;
            var b = ib(a.x, a.y, -a.n.Eb(), ka, P, !0),
                c = ib(a.x, a.y, -a.n.Eb(), ka, P, !1);
            this.Qb.setPosition(b, c, 0);
            b = 0;
            "undefined" !== typeof this.xc.ca.k && (b = a.k - a.n.Eb(), this.Qb.setOrientation(Math.cos(b), Math.sin(b), 0))
        }
    };
    B.prototype.play = function(a, b, d, e) {
        var g = this.p;
        this.kf = a;
        this.volume = b;
        d = d || 0;
        e = e || 0;
        switch (this.Aa) {
            case 0:
                1 !== g.playbackRate && (g.playbackRate = 1);
                g.volume !== b * V && (g.volume = b * V);
                g.loop !== a && (g.loop = a);
                g.muted && (g.muted = !1);
                if (g.currentTime !== d) try {
                    g.currentTime = d
                } catch (f) {}
                if (this.me && J && !D.jf) pa.push(this);
                else try {
                    this.p.play()
                } catch (h) {
                    console &&
                        console.log && console.log("[C2] WARNING: exception trying to play audio '" + this.buffer.src + "': ", h)
                }
                break;
            case 1:
                this.muted = !1;
                this.oj = 1;
                if (1 === this.buffer.Aa) this.Zb.gain.value = b * V, this.ff || (this.p = v.createBufferSource(), this.p.buffer = this.buffer.Pa, this.p.connect(this.Zb)), this.p.onended = this.Ir, this.rm = this.p, this.p.loop = a, this.Ti = !1, 0 === d ? c(this.p, e) : t(this.p, d, this.Eg(), e);
                else {
                    1 !== g.playbackRate && (g.playbackRate = 1);
                    g.loop !== a && (g.loop = a);
                    g.volume = b * V;
                    if (g.currentTime !== d) try {
                        g.currentTime = d
                    } catch (l) {}
                    this.me &&
                        J && !D.jf ? pa.push(this) : g.play()
                }
                break;
            case 2:
                (!this.ff && this.rc || 0 !== d) && g.seekTo(d);
                g.play();
                this.Ti = !1;
                break;
            case 3:
                D.Kc ? AppMobi.context.playSound(this.src, a) : AppMobi.player.playSound(this.src, a)
        }
        this.playbackRate = 1;
        this.startTime = (this.Vi ? D.nc.Fa : D.hg.Fa) - d;
        this.zd = this.rc = this.ff = !1
    };
    B.prototype.stop = function() {
        switch (this.Aa) {
            case 0:
                this.p.paused || this.p.pause();
                break;
            case 1:
                1 === this.buffer.Aa ? e(this.p) : this.p.paused || this.p.pause();
                break;
            case 2:
                this.p.stop();
                break;
            case 3:
                D.Kc && AppMobi.context.stopSound(this.src)
        }
        this.rc = !0;
        this.zd = !1
    };
    B.prototype.pause = function() {
        if (!(this.ff || this.rc || this.Jh() || this.zd)) {
            switch (this.Aa) {
                case 0:
                    this.p.paused || this.p.pause();
                    break;
                case 1:
                    1 === this.buffer.Aa ? (this.ld = this.wq(!0), this.kf && (this.ld = this.ld % this.Eg()), this.zd = !0, e(this.p)) : this.p.paused || this.p.pause();
                    break;
                case 2:
                    this.p.pause();
                    break;
                case 3:
                    D.Kc && AppMobi.context.stopSound(this.src)
            }
            this.zd = !0
        }
    };
    B.prototype.ZD = function() {
        if (!(this.ff || this.rc || this.Jh()) && this.zd) {
            switch (this.Aa) {
                case 0:
                    this.p.play();
                    break;
                case 1:
                    1 ===
                        this.buffer.Aa ? (this.p = v.createBufferSource(), this.p.buffer = this.buffer.Pa, this.p.connect(this.Zb), this.p.onended = this.Ir, this.rm = this.p, this.p.loop = this.kf, this.Zb.gain.value = V * this.volume * this.oj, this.dm(), this.startTime = (this.Vi ? D.nc.Fa : D.hg.Fa) - this.ld / (this.playbackRate || .001), t(this.p, this.ld, this.Eg())) : this.p.play();
                    break;
                case 2:
                    this.p.play();
                    break;
                case 3:
                    D.Kc && AppMobi.context.resumeSound(this.src)
            }
            this.zd = !1
        }
    };
    B.prototype.seek = function(a) {
        if (!(this.ff || this.rc || this.Jh())) switch (this.Aa) {
            case 0:
                try {
                    this.p.currentTime =
                        a
                } catch (b) {}
                break;
            case 1:
                if (1 === this.buffer.Aa) this.zd ? this.ld = a : (this.pause(), this.ld = a, this.ZD());
                else try {
                    this.p.currentTime = a
                } catch (c) {}
                break;
            case 3:
                D.Kc && AppMobi.context.seekSound(this.src, a)
        }
    };
    B.prototype.OD = function(a) {
        1 === this.Aa && (this.nf ? (this.Qb.disconnect(), this.Qb.connect(a)) : (this.Zb.disconnect(), this.Zb.connect(a)))
    };
    B.prototype.Eg = function() {
        var a = 0;
        switch (this.Aa) {
            case 0:
                "undefined" !== typeof this.p.duration && (a = this.p.duration);
                break;
            case 1:
                a = this.buffer.Pa.duration;
                break;
            case 2:
                a =
                    this.p.getDuration();
                break;
            case 3:
                D.Kc && (a = AppMobi.context.getDurationSound(this.src))
        }
        return a
    };
    B.prototype.wq = function(a) {
        var b = this.Eg(),
            c = 0;
        switch (this.Aa) {
            case 0:
                "undefined" !== typeof this.p.currentTime && (c = this.p.currentTime);
                break;
            case 1:
                if (1 === this.buffer.Aa) {
                    if (this.zd) return this.ld;
                    c = (this.Vi ? D.nc.Fa : D.hg.Fa) - this.startTime
                } else "undefined" !== typeof this.p.currentTime && (c = this.p.currentTime);
                break;
            case 3:
                D.Kc && (c = AppMobi.context.getPlaybackTimeSound(this.src))
        }
        a && (c *= this.playbackRate);
        !this.kf &&
            c > b && (c = b);
        return c
    };
    B.prototype.Nh = function() {
        return !this.zd && !this.ff && !this.rc && !this.Jh()
    };
    B.prototype.qE = function() {
        return !this.ff && !this.rc && !this.Jh()
    };
    B.prototype.HE = function() {
        var a = this.volume * V;
        isFinite(a) || (a = 0);
        switch (this.Aa) {
            case 0:
                "undefined" !== typeof this.p.volume && this.p.volume !== a && (this.p.volume = a);
                break;
            case 1:
                1 === this.buffer.Aa ? this.Zb.gain.value = a * this.oj : "undefined" !== typeof this.p.volume && this.p.volume !== a && (this.p.volume = a)
        }
    };
    B.prototype.Wm = function(a) {
        switch (this.Aa) {
            case 0:
                this.p.muted !==
                    !!a && (this.p.muted = !!a);
                break;
            case 1:
                1 === this.buffer.Aa ? (this.oj = a ? 0 : 1, this.Zb.gain.value = V * this.volume * this.oj) : this.p.muted !== !!a && (this.p.muted = !!a)
        }
    };
    B.prototype.kE = function() {
        this.Xi = !0;
        this.Wm(this.Xi || this.Nk)
    };
    B.prototype.Qw = function(a) {
        this.Nk = !!a;
        this.Wm(this.Xi || this.Nk)
    };
    B.prototype.lE = function(a) {
        this.playbackRate = a;
        this.dm()
    };
    B.prototype.dm = function() {
        var a = this.playbackRate;
        this.Vi && (a *= D.ni);
        switch (this.Aa) {
            case 0:
                this.p.playbackRate !== a && (this.p.playbackRate = a);
                break;
            case 1:
                1 === this.buffer.Aa ?
                    this.p.playbackRate.value !== a && (this.p.playbackRate.value = a) : this.p.playbackRate !== a && (this.p.playbackRate = a)
        }
    };
    B.prototype.nE = function(a) {
        switch (this.Aa) {
            case 0:
                a ? this.Nh() ? (this.Ud = !0, this.p.pause()) : this.Ud = !1 : this.Ud && (this.p.play(), this.Ud = !1);
                break;
            case 1:
                a ? this.Nh() ? (this.Ud = !0, 1 === this.buffer.Aa ? (this.ld = this.wq(!0), this.kf && (this.ld = this.ld % this.Eg()), e(this.p)) : this.p.pause()) : this.Ud = !1 : this.Ud && (1 === this.buffer.Aa ? (this.p = v.createBufferSource(), this.p.buffer = this.buffer.Pa, this.p.connect(this.Zb),
                    this.p.onended = this.Ir, this.rm = this.p, this.p.loop = this.kf, this.Zb.gain.value = V * this.volume * this.oj, this.dm(), this.startTime = (this.Vi ? D.nc.Fa : D.hg.Fa) - this.ld / (this.playbackRate || .001), t(this.p, this.ld, this.Eg())) : this.p.play(), this.Ud = !1);
                break;
            case 2:
                a ? this.Nh() ? (this.p.pause(), this.Ud = !0) : this.Ud = !1 : this.Ud && (this.Ud = !1, this.p.play())
        }
    };
    Y.na = function(a) {
        function b() {
            if (!Ia && v.createBuffer) {
                var a = v.createBuffer(1, 220, 22050),
                    d = v.createBufferSource();
                d.buffer = a;
                d.connect(v.destination);
                c(d)
            }
        }
        this.type =
            a;
        D = this.b = a.b;
        X = this;
        this.Bd = null;
        this.Yk = -600;
        this.b.Mk && (ca = !0);
        !(this.b.Nd || this.b.Je && (this.b.Ek || this.b.wn)) || this.b.Fk || this.b.wb || this.b.vn || ca || (J = !0);
        v = null;
        "undefined" !== typeof AudioContext ? (L = 1, v = new AudioContext) : "undefined" !== typeof webkitAudioContext && (L = 1, v = new webkitAudioContext);
        this.b.Nd && v && (v.close && v.close(), "undefined" !== typeof AudioContext ? v = new AudioContext : "undefined" !== typeof webkitAudioContext && (v = new webkitAudioContext));
        J ? document.addEventListener("touchend", function() {
            !da &&
                v && (b(), da = !0);
            var a, c, d;
            if (J) {
                if (!M)
                    for (a = 0, c = pa.length; a < c; ++a) d = pa[a], d.rc || d.zd || d.p.play();
                y(pa)
            }
        }, !0) : ca && document.addEventListener("touchend", function() {
            !da && v && (b(), da = !0)
        }, !0);
        1 !== L && (this.b.Uc && "undefined" !== typeof window.Media ? L = 2 : this.b.Nu && (L = 3));
        2 === L && (Q = location.href, a = Q.lastIndexOf("/"), -1 < a && (Q = Q.substr(0, a + 1)), Q = Q.replace("file://", ""));
        if (this.b.OC && this.b.PC && "undefined" === typeof Audio) alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),
            this.b.kg(this);
        else {
            if (this.b.Kc) G = this.b.Je;
            else try {
                G = !!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')
            } catch (d) {
                G = !1
            }
            this.b.$l(this)
        }
    };
    var qa = Y.na.prototype;
    qa.S = function() {
        this.b.Ai = this;
        I = this.r[0];
        this.Wf = this.r[1];
        this.yD = 0 !== this.r[2];
        this.Kv = 0;
        Ca = this.r[3];
        oa = this.r[4];
        this.Yk = -this.r[5];
        W = this.r[6];
        A = this.r[7];
        la = this.r[8];
        this.Bd = new u;
        var a = this.b.W || this.b.width,
            b = this.b.V || this.b.height;
        1 === L && (v.listener.setPosition(a / 2, b / 2, this.Yk), v.listener.setOrientation(0, 0, 1, 0, -1, 0), window.c2OnAudioMicStream =
            function(a, b) {
                ha && ha.disconnect();
                yb = b.toLowerCase();
                ha = v.createMediaStreamSource(a);
                ha.connect(m(yb))
            });
        this.b.Ct(function(a) {
            X.sD(a)
        });
        var c = this;
        this.b.tm(function(a) {
            c.ql(a)
        })
    };
    qa.ql = function(a) {
        var b, c, d;
        b = 0;
        for (c = C.length; b < c; b++) d = C[b], d.xc && d.xc.ca === a && (d.xc.ca = null, d.nf && d.Nh() && d.kf && d.stop());
        this.Bd.ca === a && (this.Bd.ca = null)
    };
    qa.Nc = function() {
        var a = {
                silent: M,
                masterVolume: V,
                listenerZ: this.Yk,
                listenerUid: this.Bd.sn() ? this.Bd.ca.uid : -1,
                playing: [],
                effects: {}
            },
            b = a.playing,
            c, d, e, g, f, h;
        c = 0;
        for (d = C.length; c < d; c++) e = C[c], !e.qE() || 3 === this.Wf || e.me && 1 === this.Wf || !e.me && 2 === this.Wf || (g = e.wq(), e.kf && (g = g % e.Eg()), g = {
            tag: e.tag,
            buffersrc: e.buffer.src,
            is_music: e.me,
            playbackTime: g,
            volume: e.volume,
            looping: e.kf,
            muted: e.Xi,
            playbackRate: e.playbackRate,
            paused: e.zd,
            resume_position: e.ld
        }, e.nf && (g.pan = {}, h = g.pan, e.xc && e.xc.sn() ? h.objUid = e.xc.ca.uid : (h.x = e.fw, h.y = e.gw, h.a = e.aw), h.ia = e.bw, h.oa = e.dw, h.og = e.ew), b.push(g));
        b = a.effects;
        for (f in fa)
            if (fa.hasOwnProperty(f)) {
                e = [];
                c = 0;
                for (d = fa[f].length; c < d; c++) e.push({
                    type: fa[f][c].type,
                    params: fa[f][c].zc
                });
                b[f] = e
            }
        return a
    };
    var Z = [];
    qa.gd = function(c) {
        var e = c.silent;
        V = c.masterVolume;
        this.Yk = c.listenerZ;
        this.Bd.Ol(null);
        var f = c.listenerUid; - 1 !== f && (this.Bd.Rn = f, Z.push(this.Bd));
        var f = c.playing,
            k, m, p, t, w, H, v, B, z, x, K;
        if (3 !== this.Wf)
            for (k = 0, m = C.length; k < m; k++) z = C[k], z.me && 1 === this.Wf || (z.me || 2 !== this.Wf) && z.stop();
        for (w in fa)
            if (fa.hasOwnProperty(w))
                for (k = 0, m = fa[w].length; k < m; k++) fa[w][k].remove();
        mb(fa);
        for (w in c.effects)
            if (c.effects.hasOwnProperty(w))
                for (H = c.effects[w], k = 0, m = H.length; k <
                    m; k++) switch (p = H[k].type, x = H[k].params, p) {
                    case "filter":
                        E(w, new d(x[0], x[1], x[2], x[3], x[4], x[5]));
                        break;
                    case "delay":
                        E(w, new b(x[0], x[1], x[2]));
                        break;
                    case "convolve":
                        p = x[2];
                        z = this.mn(p, !1);
                        z.Pa ? p = new h(z.Pa, x[0], x[1], p) : (p = new h(null, x[0], x[1], p), z.Mv = x[0], z.Nm = p);
                        E(w, p);
                        break;
                    case "flanger":
                        E(w, new a(x[0], x[1], x[2], x[3], x[4]));
                        break;
                    case "phaser":
                        E(w, new g(x[0], x[1], x[2], x[3], x[4], x[5]));
                        break;
                    case "gain":
                        E(w, new q(x[0]));
                        break;
                    case "tremolo":
                        E(w, new l(x[0], x[1]));
                        break;
                    case "ringmod":
                        E(w, new N(x[0],
                            x[1]));
                        break;
                    case "distortion":
                        E(w, new O(x[0], x[1], x[2], x[3], x[4]));
                        break;
                    case "compressor":
                        E(w, new r(x[0], x[1], x[2], x[3], x[4]));
                        break;
                    case "analyser":
                        E(w, new n(x[0], x[1]))
                }
        k = 0;
        for (m = f.length; k < m; k++) 3 === this.Wf || (c = f[k], p = c.buffersrc, t = c.is_music, w = c.tag, H = c.playbackTime, v = c.looping, B = c.volume, K = (x = c.pan) && x.hasOwnProperty("objUid") ? x.objUid : -1, t && 1 === this.Wf) || !t && 2 === this.Wf || ((z = this.ru(p, w, t, v, B)) ? (z.ld = c.resume_position, z.ls(!!x), z.play(v, B, H), z.dm(), z.HE(), z.Wm(z.Xi || z.Nk), c.paused && z.pause(),
            c.muted && z.kE(), z.Wm(z.Xi || z.Nk), x && (-1 !== K ? (z.xc = z.xc || new u, z.xc.Rn = K, Z.push(z.xc)) : z.ks(x.x, x.y, x.a, x.ia, x.oa, x.og))) : (z = this.mn(p, t), z.Go = H, z.ko = c.paused, x && (-1 !== K ? z.xj.push({
            Ov: K,
            Hq: x.ia,
            Dr: x.oa,
            Gr: x.og,
            nx: w
        }) : z.xj.push({
            x: x.x,
            y: x.y,
            u: x.a,
            Hq: x.ia,
            Dr: x.oa,
            Gr: x.og,
            nx: w
        }))));
        if (e && !M) {
            k = 0;
            for (m = C.length; k < m; k++) C[k].Qw(!0);
            M = !0
        } else if (!e && M) {
            k = 0;
            for (m = C.length; k < m; k++) C[k].Qw(!1);
            M = !1
        }
    };
    qa.ze = function() {
        var a, b, c, d;
        a = 0;
        for (b = Z.length; a < b; a++) c = Z[a], d = this.b.Gg(c.Rn), c.Ol(d), c.Rn = -1, d && (ka = d.x,
            P = d.y);
        y(Z)
    };
    qa.sD = function(a) {
        if (!this.yD) {
            !a && v && v.resume && (v.resume(), Ia = !1);
            var b, c;
            b = 0;
            for (c = C.length; b < c; b++) C[b].nE(a);
            a && v && v.suspend && (v.suspend(), Ia = !0)
        }
    };
    qa.zb = function() {
        var a = this.b.Ag,
            b, c, d;
        b = 0;
        for (c = C.length; b < c; b++) d = C[b], d.zb(a), 0 !== I && d.dm();
        var e, g;
        for (e in fa)
            if (fa.hasOwnProperty(e))
                for (d = fa[e], b = 0, c = d.length; b < c; b++) g = d[b], g.zb && g.zb();
        1 === L && this.Bd.sn() && (this.Bd.zb(a), ka = this.Bd.ca.x, P = this.Bd.ca.y, v.listener.setPosition(this.Bd.ca.x, this.Bd.ca.y, this.Yk))
    };
    var Da = [];
    qa.mE =
        function(a) {
            var b, c, d, e, g, f = 0;
            b = 0;
            for (c = a.length; b < c; ++b)
                if (d = a[b], e = d[0], d = 2 * d[1], (g = 4 < e.length && ".ogg" === e.substr(e.length - 4)) && G || !g && !G) Da.push({
                    filename: e,
                    size: d,
                    ca: null
                }), f += d;
            return f
        };
    qa.uE = function() {
        var a, b, c, d;
        a = 0;
        for (b = Da.length; a < b; ++a) c = Da[a], d = this.b.hq + c.filename, c.ca = this.mn(d, !1)
    };
    qa.bC = function() {
        var a = 0,
            b, c, d;
        b = 0;
        for (c = Da.length; b < c; ++b) d = Da[b], d.ca.MC() || d.ca.AC() || this.b.wb || this.b.wn ? a += d.size : d.ca.Ou() && (a += Math.floor(d.size / 2));
        return a
    };
    qa.SD = function() {
        var a, b, c, d;
        c = a = 0;
        for (b = F.length; a < b; ++a) d = F[a], F[c] = d, d.me ? d.RD() : ++c;
        F.length = c
    };
    qa.mn = function(a, b) {
        var c, d, e, g = null;
        c = 0;
        for (d = F.length; c < d; c++)
            if (e = F[c], e.src === a) {
                g = e;
                break
            }
        g || (ca && b && this.SD(), g = new S(a, b), F.push(g));
        return g
    };
    qa.ru = function(a, b, c, d, e) {
        var g, f, h;
        g = 0;
        for (f = C.length; g < f; g++)
            if (h = C[g], h.src === a && (h.kA() || c)) return h.tag = b, h;
        a = this.mn(a, c);
        if (!a.Pa) return "<preload>" !== b && (a.mo = b, a.qr = d, a.Os = e), null;
        h = new B(a, b);
        C.push(h);
        return h
    };
    var va = [];
    z.prototype.lm = function(a) {
        return Db(T, a)
    };
    Y.j = new z;
    x.prototype.Play =
        function(a, b, c, d) {
            !M && (c = Math.pow(10, c / 20), isFinite(c) || (c = 0), 0 > c && (c = 0), 1 < c && (c = 1), R = this.ru(this.b.hq + a[0] + (G ? ".ogg" : ".m4a"), d, a[1], 0 !== b, c)) && (R.ls(!1), R.play(0 !== b, c, 0, this.Kv), this.Kv = 0)
        };
    x.prototype.Bz = function(a, b) {
        H(a);
        0 > b && (b = 0);
        var c, d;
        c = 0;
        for (d = va.length; c < d; c++) va[c].lE(b)
    };
    x.prototype.pm = function(a) {
        H(a);
        var b;
        a = 0;
        for (b = va.length; a < b; a++) va[a].stop()
    };
    Y.C = new x;
    K.prototype.Zx = function(a, b) {
        H(b, !0);
        va.length ? a.B(va[0].Eg()) : a.B(0)
    };
    Y.Xa = new K
})();

function ad(f) {
    this.b = f
}
(function() {
    function f() {
        t && e && window.OfflineClientInfo && window.OfflineClientInfo.SetMessageCallback(function(b) {
            d.oD(b)
        })
    }

    function m() {}

    function k() {}
    var p = ad.prototype;
    p.Ba = function(b) {
        this.Ja = b;
        this.b = b.b
    };
    var c = p.Ba.prototype;
    c.S = function() {};
    var t = !1,
        e = !1;
    document.addEventListener("DOMContentLoaded", function() {
        if (window.C2_RegisterSW && navigator.ne) {
            var b = document.createElement("script");
            b.onload = function() {
                t = !0;
                f()
            };
            b.src = "offlineClient.js";
            document.head.appendChild(b)
        }
    });
    var d = null;
    c.Sv = function() {
        e = !0;
        f()
    };
    p.na = function(b) {
        this.type = b;
        this.b = b.b
    };
    c = p.na.prototype;
    c.S = function() {
        var b = this;
        window.addEventListener("resize", function() {
            b.b.trigger(ad.prototype.j.fz, b)
        });
        d = this;
        "undefined" !== typeof navigator.onLine && (window.addEventListener("online", function() {
            b.b.trigger(ad.prototype.j.$y, b)
        }), window.addEventListener("offline", function() {
            b.b.trigger(ad.prototype.j.Yy, b)
        }));
        "undefined" !== typeof window.applicationCache && (window.applicationCache.addEventListener("updateready", function() {
            b.b.ij = 1;
            b.b.trigger(ad.prototype.j.om,
                b)
        }), window.applicationCache.addEventListener("progress", function(c) {
            b.b.ij = c.loaded / c.total || 0
        }));
        this.b.Kc || (document.addEventListener("appMobi.device.update.available", function() {
            b.b.trigger(ad.prototype.j.om, b)
        }), document.addEventListener("backbutton", function() {
            b.b.trigger(ad.prototype.j.km, b)
        }), document.addEventListener("menubutton", function() {
            b.b.trigger(ad.prototype.j.$s, b)
        }), document.addEventListener("searchbutton", function() {
            b.b.trigger(ad.prototype.j.gz, b)
        }), document.addEventListener("tizenhwkey",
            function(c) {
                var a;
                switch (c.keyName) {
                    case "back":
                        a = b.b.trigger(ad.prototype.j.km, b);
                        !a && window.tizen && window.tizen.application.getCurrentApplication().exit();
                        break;
                    case "menu":
                        (a = b.b.trigger(ad.prototype.j.$s, b)) || c.preventDefault()
                }
            }));
        this.b.Bn && "undefined" !== typeof Windows ? Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested", function(c) {
            b.b.trigger(ad.prototype.j.km, b) && (c.$G = !0)
        }) : this.b.An && WinJS.Application && (WinJS.Application.onbackclick = function() {
            return !!b.b.trigger(ad.prototype.j.km,
                b)
        });
        this.b.Ct(function(c) {
            c ? b.b.trigger(ad.prototype.j.az, b) : b.b.trigger(ad.prototype.j.bz, b)
        });
        this.SC = "undefined" !== typeof window.is_scirra_arcade
    };
    c.oD = function(b) {
        b = b.data.type;
        "downloading-update" === b ? this.b.trigger(ad.prototype.j.oz, this) : "update-ready" === b || "update-pending" === b ? this.b.trigger(ad.prototype.j.om, this) : "offline-ready" === b && this.b.trigger(ad.prototype.j.Zy, this)
    };
    m.prototype.$y = function() {
        return !0
    };
    m.prototype.Yy = function() {
        return !0
    };
    m.prototype.om = function() {
        return !0
    };
    m.prototype.bz =
        function() {
            return !0
        };
    m.prototype.az = function() {
        return !0
    };
    m.prototype.fz = function() {
        return !0
    };
    m.prototype.km = function() {
        return !0
    };
    m.prototype.$s = function() {
        return !0
    };
    m.prototype.gz = function() {
        return !0
    };
    m.prototype.oz = function() {
        return !0
    };
    m.prototype.om = function() {
        return !0
    };
    m.prototype.Zy = function() {
        return !0
    };
    p.j = new m;
    k.prototype.ey = function(b, c) {
        this.b.yd ? CocoonJS.App.openURL(b) : this.b.le ? ejecta.openURL(b) : this.b.An ? Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(b)) : navigator.app &&
            navigator.app.loadUrl ? navigator.app.loadUrl(b, {
                openExternal: !0
            }) : this.b.Uc ? window.open(b, "_system") : this.SC || this.b.wb || window.open(b, c)
    };
    p.C = new k;
    p.Xa = new function() {}
})();

function Yc(f) {
    this.b = f
}
(function() {
    function f() {
        this.name = "";
        this.Il = 0;
        this.zc = []
    }

    function m() {
        d++;
        d === e.length && e.push(new f);
        return e[d]
    }

    function k() {}

    function p() {}

    function c() {}
    var t = Yc.prototype;
    t.Ba = function(b) {
        this.Ja = b;
        this.b = b.b
    };
    t.Ba.prototype.S = function() {};
    t.na = function(b) {
        this.type = b;
        this.b = b.b
    };
    var e = [],
        d = -1;
    t.na.prototype.S = function() {
        var b = this;
        window.c2_callFunction = function(c, a) {
            var e, f, l, k = m();
            k.name = c.toLowerCase();
            k.Il = 0;
            if (a)
                for (k.zc.length = a.length, e = 0, f = a.length; e < f; ++e) l = a[e], k.zc[e] = "number" ===
                    typeof l || "string" === typeof l ? l : "boolean" === typeof l ? l ? 1 : 0 : 0;
            else y(k.zc);
            b.b.trigger(Yc.prototype.j.mm, b, k.name);
            d--;
            return k.Il
        }
    };
    k.prototype.mm = function(b) {
        var c = 0 > d ? null : e[d];
        return c ? Db(b, c.name) : !1
    };
    t.j = new k;
    p.prototype.CallFunction = function(b, c) {
        var a = m();
        a.name = b.toLowerCase();
        a.Il = 0;
        Ra(a.zc, c);
        this.b.trigger(Yc.prototype.j.mm, this, a.name);
        d--
    };
    t.C = new p;
    c.prototype.Px = function(b, c) {
        var a = m();
        a.name = c.toLowerCase();
        a.Il = 0;
        y(a.zc);
        var e, f;
        e = 2;
        for (f = arguments.length; e < f; e++) a.zc.push(arguments[e]);
        this.b.trigger(Yc.prototype.j.mm, this, a.name);
        d--;
        b.Sw(a.Il)
    };
    t.Xa = new c
})();

function Xc(f) {
    this.b = f
}
(function() {
    function f() {
        if (0 === this.Vp.length) {
            var a = document.createElement("canvas");
            a.width = this.width;
            a.height = this.height;
            var b = a.getContext("2d");
            this.Dj ? b.drawImage(this.T, this.qj, this.rj, this.width, this.height, 0, 0, this.width, this.height) : b.drawImage(this.T, 0, 0, this.width, this.height);
            this.Vp = a.toDataURL("image/png")
        }
        return this.Vp
    }

    function m() {}

    function k(a) {
        a[0] = 0;
        a[1] = 0;
        a[2] = 0;
        l.push(a)
    }

    function p(a, b) {
        return a < b ? "" + a + "," + b : "" + b + "," + a
    }

    function c(a, b, c, d) {
        b = b.uid;
        c = c.uid;
        var e = p(b, c);
        if (a.hasOwnProperty(e)) a[e][2] =
            d;
        else {
            var g = l.length ? l.pop() : [0, 0, 0];
            g[0] = b;
            g[1] = c;
            g[2] = d;
            a[e] = g
        }
    }

    function t(a, b, c) {
        b = p(b.uid, c.uid);
        a.hasOwnProperty(b) && (k(a[b]), delete a[b])
    }

    function e(a, b, c) {
        b = p(b.uid, c.uid);
        if (a.hasOwnProperty(b)) return N = a[b][2], !0;
        N = -2;
        return !1
    }

    function d(a, b, c) {
        if (!a) return !1;
        var d = 0 !== b || 0 !== c,
            e, g, f = !1,
            h, l = this.b.uk(),
            q = l.type,
            l = l.un,
            k = a.ba();
        h = this.b.Fb().Mb.Rd;
        k.ta ? (this.Ga(), B.Fi(this.gb), B.offset(b, c), this.b.rq(this.n, a, B, S), k = S) : k = h ? this.b.JC() && !k.ra.length && k.e.length ? k.e : k.ra : k.e;
        r = a;
        u = q !== a && !l;
        d && (e = this.x, g = this.y, this.x += b, this.y += c, this.H());
        b = 0;
        for (c = k.length; b < c; b++)
            if (h = k[b], this.b.qd(this, h)) {
                f = !0;
                if (l) break;
                q !== a && n.add(h)
            }
        d && (this.x = e, this.y = g, this.H());
        y(S);
        return f
    }

    function b() {}
    var h = Xc.prototype;
    h.Ba = function(a) {
        this.Ja = a;
        this.b = a.b
    };
    var a = h.Ba.prototype;
    a.S = function() {
        if (!this.R) {
            var a, b, c, d, e, g, h, l, q;
            this.Ae = [];
            this.Ak = !1;
            a = 0;
            for (b = this.td.length; a < b; a++) {
                e = this.td[a];
                h = {};
                h.name = e[0];
                h.speed = e[1];
                h.loop = e[2];
                h.Yr = e[3];
                h.Zr = e[4];
                h.jw = e[5];
                h.Ea = e[6];
                h.frames = [];
                c = 0;
                for (d =
                    e[7].length; c < d; c++) g = e[7][c], l = {}, l.Vo = g[0], l.Bs = g[1], l.qj = g[2], l.rj = g[3], l.width = g[4], l.height = g[5], l.duration = g[6], l.jc = g[7], l.kc = g[8], l.Kq = g[9], l.no = g[10], l.kw = g[11], l.Dj = 0 !== l.width, l.Vp = "", l.ZG = f, q = {
                    left: 0,
                    top: 0,
                    right: 1,
                    bottom: 1
                }, l.ns = q, l.ma = null, (q = this.b.MB(g[0])) ? l.T = q : (l.T = new Image, l.T.wA = g[0], l.T.Xt = g[1], l.T.jA = null, this.b.Qs(l.T, g[0])), h.frames.push(l), this.Ae.push(l);
                this.td[a] = h
            }
        }
    };
    a.Bx = function() {
        var a, b, c;
        a = 0;
        for (b = this.e.length; a < b; a++) c = this.e[a], c.Pm = c.uc.ma
    };
    a.sl = function() {
        if (!this.R) {
            var a,
                b, c;
            a = 0;
            for (b = this.Ae.length; a < b; ++a) c = this.Ae[a], c.T.jA = null, c.ma = null;
            this.Ak = !1;
            this.Bx()
        }
    };
    a.fo = function() {
        if (!this.R && this.e.length) {
            var a, b, c;
            a = 0;
            for (b = this.Ae.length; a < b; ++a) c = this.Ae[a], c.ma = this.b.F.hj(c.T, !1, this.b.jb, c.kw);
            this.Bx()
        }
    };
    a.lr = function() {
        if (!this.R && !this.Ak && this.b.F) {
            var a, b, c;
            a = 0;
            for (b = this.Ae.length; a < b; ++a) c = this.Ae[a], c.ma = this.b.F.hj(c.T, !1, this.b.jb, c.kw);
            this.Ak = !0
        }
    };
    a.ep = function() {
        if (!this.R && !this.e.length && this.Ak) {
            var a, b, c;
            a = 0;
            for (b = this.Ae.length; a < b; ++a) c =
                this.Ae[a], this.b.F.deleteTexture(c.ma), c.ma = null;
            this.Ak = !1
        }
    };
    var g = [];
    a.vo = function(a) {
        var b, c, d;
        y(g);
        b = 0;
        for (c = this.Ae.length; b < c; ++b) d = this.Ae[b].T, -1 === g.indexOf(d) && (a.drawImage(d, 0, 0), g.push(d))
    };
    h.na = function(a) {
        this.type = a;
        this.b = a.b;
        a = this.type.td[0].frames[0].no;
        this.jd ? this.Ca.Rl(a) : this.Ca = new tb(a)
    };
    var q = h.na.prototype;
    q.S = function() {
        this.visible = 0 === this.r[0];
        this.tn = this.Lk = !1;
        this.Cf = 0 !== this.r[3];
        this.fb = this.qu(this.r[1]) || this.type.td[0];
        this.N = this.r[2];
        0 > this.N && (this.N = 0);
        this.N >= this.fb.frames.length && (this.N = this.fb.frames.length - 1);
        var a = this.fb.frames[this.N];
        this.Ca.Rl(a.no);
        this.jc = a.jc;
        this.kc = a.kc;
        this.Gi = this.fb.speed;
        this.zg = this.fb.Zr;
        1 === this.type.td.length && 1 === this.type.td[0].frames.length || 0 === this.Gi || (this.b.$l(this), this.Lk = !0);
        this.jd ? this.Ze.reset() : this.Ze = new rb;
        this.Jf = this.Ze.Fa;
        this.ph = !0;
        this.yf = 0;
        this.oh = !0;
        this.Gm = this.Dt = "";
        this.Ot = 0;
        this.Fm = -1;
        this.type.lr();
        var b, c, d, e, g, f, h, a = 0;
        for (b = this.type.td.length; a < b; a++)
            for (e = this.type.td[a],
                c = 0, d = e.frames.length; c < d; c++) g = e.frames[c], 0 === g.width && (g.width = g.T.width, g.height = g.T.height), g.Dj && (h = g.T, f = g.ns, f.left = g.qj / h.width, f.top = g.rj / h.height, f.right = (g.qj + g.width) / h.width, f.bottom = (g.rj + g.height) / h.height, 0 === g.qj && 0 === g.rj && g.width === h.width && g.height === h.height && (g.Dj = !1));
        this.uc = this.fb.frames[this.N];
        this.Pm = this.uc.ma
    };
    q.Nc = function() {
        var a = {
            a: this.fb.Ea,
            f: this.N,
            cas: this.Gi,
            fs: this.Jf,
            ar: this.yf,
            at: this.Ze.Fa,
            rt: this.zg
        };
        this.ph || (a.ap = this.ph);
        this.oh || (a.af = this.oh);
        return a
    };
    q.gd = function(a) {
        var b = this.RB(a.a);
        b && (this.fb = b);
        this.N = a.f;
        0 > this.N && (this.N = 0);
        this.N >= this.fb.frames.length && (this.N = this.fb.frames.length - 1);
        this.Gi = a.cas;
        this.Jf = a.fs;
        this.yf = a.ar;
        this.Ze.reset();
        this.Ze.Fa = a.at;
        this.ph = a.hasOwnProperty("ap") ? a.ap : !0;
        this.oh = a.hasOwnProperty("af") ? a.af : !0;
        a.hasOwnProperty("rt") ? this.zg = a.rt : this.zg = this.fb.Zr;
        this.uc = this.fb.frames[this.N];
        this.Pm = this.uc.ma;
        this.Ca.Rl(this.uc.no);
        this.jc = this.uc.jc;
        this.kc = this.uc.kc
    };
    q.zp = function(a) {
        this.N = a ? 0 : this.fb.frames.length -
            1;
        this.ph = !1;
        this.Dt = this.fb.name;
        this.tn = !0;
        this.b.trigger(Xc.prototype.j.Ay, this);
        this.b.trigger(Xc.prototype.j.zy, this);
        this.tn = !1;
        this.yf = 0
    };
    q.ne = function() {
        return this.Ze.Fa
    };
    q.zb = function() {
        this.Ze.add(this.b.vk(this));
        this.Gm.length && this.bu();
        0 <= this.Fm && this.cu();
        var a = this.Ze.Fa,
            b = this.fb,
            c = b.frames[this.N],
            d = c.duration / this.Gi;
        this.ph && a >= this.Jf + d && (this.oh ? this.N++ : this.N--, this.Jf += d, this.N >= b.frames.length && (b.jw ? (this.oh = !1, this.N = b.frames.length - 2) : b.loop ? this.N = this.zg : (this.yf++,
            this.yf >= b.Yr ? this.zp(!1) : this.N = this.zg)), 0 > this.N && (b.jw ? (this.N = 1, this.oh = !0, b.loop || (this.yf++, this.yf >= b.Yr && this.zp(!0))) : b.loop ? this.N = this.zg : (this.yf++, this.yf >= b.Yr ? this.zp(!0) : this.N = this.zg)), 0 > this.N ? this.N = 0 : this.N >= b.frames.length && (this.N = b.frames.length - 1), a > this.Jf + b.frames[this.N].duration / this.Gi && (this.Jf = a), a = b.frames[this.N], this.ti(c, a), this.b.Ka = !0)
    };
    q.qu = function(a) {
        var b, c, d;
        b = 0;
        for (c = this.type.td.length; b < c; b++)
            if (d = this.type.td[b], Db(d.name, a)) return d;
        return null
    };
    q.RB =
        function(a) {
            var b, c, d;
            b = 0;
            for (c = this.type.td.length; b < c; b++)
                if (d = this.type.td[b], d.Ea === a) return d;
            return null
        };
    q.bu = function() {
        var a = this.fb.frames[this.N],
            b = this.qu(this.Gm);
        this.Gm = "";
        !b || Db(b.name, this.fb.name) && this.ph || (this.fb = b, this.Gi = b.speed, this.zg = b.Zr, 0 > this.N && (this.N = 0), this.N >= this.fb.frames.length && (this.N = this.fb.frames.length - 1), 1 === this.Ot && (this.N = 0), this.ph = !0, this.Jf = this.Ze.Fa, this.oh = !0, this.ti(a, this.fb.frames[this.N]), this.b.Ka = !0)
    };
    q.cu = function() {
        var a = this.fb.frames[this.N],
            b = this.N;
        this.N = Ha(this.Fm);
        0 > this.N && (this.N = 0);
        this.N >= this.fb.frames.length && (this.N = this.fb.frames.length - 1);
        b !== this.N && (this.ti(a, this.fb.frames[this.N]), this.Jf = this.Ze.Fa, this.b.Ka = !0);
        this.Fm = -1
    };
    q.ti = function(a, b) {
        var c = a.width,
            d = a.height,
            e = b.width,
            g = b.height;
        c != e && (this.width *= e / c);
        d != g && (this.height *= g / d);
        this.jc = b.jc;
        this.kc = b.kc;
        this.Ca.Rl(b.no);
        this.H();
        this.uc = b;
        this.Pm = b.ma;
        c = 0;
        for (d = this.fa.length; c < d; c++) e = this.fa[c], e.rD && e.rD(a, b);
        this.b.trigger(Xc.prototype.j.ti, this)
    };
    q.ke =
        function(a) {
            a.globalAlpha = this.opacity;
            var b = this.uc,
                c = b.Dj,
                d = b.T,
                e = this.x,
                g = this.y,
                f = this.width,
                h = this.height;
            if (0 === this.k && 0 <= f && 0 <= h) e -= this.jc * f, g -= this.kc * h, this.b.Sd && (e = Math.round(e), g = Math.round(g)), c ? a.drawImage(d, b.qj, b.rj, b.width, b.height, e, g, f, h) : a.drawImage(d, e, g, f, h);
            else {
                this.b.Sd && (e = Math.round(e), g = Math.round(g));
                a.save();
                var l = 0 < f ? 1 : -1,
                    q = 0 < h ? 1 : -1;
                a.translate(e, g);
                1 === l && 1 === q || a.scale(l, q);
                a.rotate(this.k * l * q);
                e = 0 - this.jc * Aa(f);
                g = 0 - this.kc * Aa(h);
                c ? a.drawImage(d, b.qj, b.rj, b.width,
                    b.height, e, g, Aa(f), Aa(h)) : a.drawImage(d, e, g, Aa(f), Aa(h));
                a.restore()
            }
        };
    q.yh = function(a) {
        this.Tc(a)
    };
    q.Tc = function(a) {
        a.md(this.Pm);
        a.eh(this.opacity);
        var b = this.uc,
            c = this.Ec;
        if (this.b.Sd) {
            var d = Math.round(this.x) - this.x,
                e = Math.round(this.y) - this.y;
            b.Dj ? a.Qe(c.kb + d, c.lb + e, c.Ib + d, c.Jb + e, c.Cb + d, c.Db + e, c.Ab + d, c.Bb + e, b.ns) : a.El(c.kb + d, c.lb + e, c.Ib + d, c.Jb + e, c.Cb + d, c.Db + e, c.Ab + d, c.Bb + e)
        } else b.Dj ? a.Qe(c.kb, c.lb, c.Ib, c.Jb, c.Cb, c.Db, c.Ab, c.Bb, b.ns) : a.El(c.kb, c.lb, c.Ib, c.Jb, c.Cb, c.Db, c.Ab, c.Bb)
    };
    q.WB = function(a) {
        var b =
            this.uc,
            c, d;
        c = 0;
        for (d = b.Kq.length; c < d; c++)
            if (Db(a, b.Kq[c][0])) return c;
        return -1
    };
    q.Fg = function(a, b) {
        var c = this.uc,
            d = c.Kq,
            e;
        wa(a) ? e = this.WB(a) : e = a - 1;
        e = Ha(e);
        if (0 > e || e >= d.length) return b ? this.x : this.y;
        var g = (d[e][1] - c.jc) * this.width,
            d = d[e][2],
            d = (d - c.kc) * this.height,
            c = Math.cos(this.k);
        e = Math.sin(this.k);
        var f = g * c - d * e,
            d = d * c + g * e,
            g = f + this.x,
            d = d + this.y;
        return b ? g : d
    };
    var l = [],
        N = -2,
        O = [];
    m.prototype.Cy = function(a) {
        if (!a) return !1;
        var b = this.b,
            d = b.uk(),
            g = d.type,
            f = null;
        d.M.collmemory ? f = d.M.collmemory : (f = {}, d.M.collmemory =
            f);
        d.M.spriteCreatedDestroyCallback || (d.M.spriteCreatedDestroyCallback = !0, b.tm(function(a) {
            var b = d.M.collmemory;
            a = a.uid;
            var c, e;
            for (c in b) b.hasOwnProperty(c) && (e = b[c], e[0] === a || e[1] === a) && (k(b[c]), delete b[c])
        }));
        var h = g.ba(),
            l = a.ba(),
            h = h.ed(),
            q, n, r, m, p, u, B, S = this.b.Xd,
            R = S - 1,
            G = b.Fb().Mb;
        for (n = 0; n < h.length; n++) {
            r = h[n];
            l.ta ? (r.Ga(), this.b.rq(r.n, a, r.gb, O), q = O) : q = l.ed();
            for (m = 0; m < q.length; m++) p = q[m], b.qd(r, p) || b.mA(r, p) ? (u = e(f, r, p), u = !u || N < R, c(f, r, p, S), u && (b.Dl(G.Za), u = g.ba(), B = a.ba(), u.ta = !1, B.ta = !1, g === a ? (u.e.length = 2, u.e[0] = r, u.e[1] = p, g.ee()) : (u.e.length = 1, B.e.length = 1, u.e[0] = r, B.e[0] = p, g.ee(), a.ee()), G.$r(), b.Zg(G.Za))) : t(f, r, p);
            y(O)
        }
        return !1
    };
    var r = null,
        n = new ma,
        u = !1,
        S = [],
        B = new La(0, 0, 0, 0);
    a.finish = function(a) {
        if (u) {
            if (a) {
                var b = this.b.Fb().Mb.Rd;
                a = r.ba();
                var c = n.jh(),
                    d, e;
                if (a.ta) {
                    a.ta = !1;
                    y(a.e);
                    d = 0;
                    for (e = c.length; d < e; ++d) a.e[d] = c[d];
                    if (b)
                        for (y(a.ra), d = 0, e = r.e.length; d < e; ++d) c = r.e[d], n.contains(c) || a.ra.push(c)
                } else if (b)
                    for (b = a.e.length, d = 0, e = c.length; d < e; ++d) a.e[b + d] = c[d], Wa(a.ra, c[d]);
                else Ra(a.e, c);
                r.ee()
            }
            n.clear();
            u = !1
        }
    };
    m.prototype.ny = function(a) {
        return d.call(this, a, 0, 0)
    };
    m.prototype.oy = function(a, b, c) {
        return d.call(this, a, b, c)
    };
    m.prototype.zy = function(a) {
        return Db(this.Dt, a)
    };
    m.prototype.Ay = function() {
        return !0
    };
    m.prototype.ti = function() {
        return !0
    };
    h.j = new m;
    b.prototype.Lz = function(a, b, c) {
        if (a && b && (b = this.b.Sp(a, b, this.Fg(c, !0), this.Fg(c, !1)))) {
            "undefined" !== typeof b.k && (b.k = this.k, b.H());
            this.b.Md++;
            var d, e, g;
            this.b.trigger(Object.getPrototypeOf(a.Ja).j.si, b);
            if (b.Lc)
                for (d =
                    0, e = b.siblings.length; d < e; d++) g = b.siblings[d], this.b.trigger(Object.getPrototypeOf(g.type.Ja).j.si, g);
            this.b.Md--;
            d = this.b.TB();
            c = !1;
            if (ta(d.M.Spawn_LastExec) || d.M.Spawn_LastExec < this.b.Eh) c = !0, d.M.Spawn_LastExec = this.b.Eh;
            if (a != this.type && (a = a.ba(), a.ta = !1, c ? (y(a.e), a.e[0] = b) : a.e.push(b), b.Lc))
                for (d = 0, e = b.siblings.length; d < e; d++) g = b.siblings[d], a = g.type.ba(), a.ta = !1, c ? (y(a.e), a.e[0] = g) : a.e.push(g)
        }
    };
    b.prototype.uz = function(a, b) {
        this.Gm = a;
        this.Ot = b;
        this.Lk || (this.b.$l(this), this.Lk = !0);
        this.tn || this.bu()
    };
    b.prototype.vz = function(a) {
        this.Fm = a;
        this.Lk || (this.b.$l(this), this.Lk = !0);
        this.tn || this.cu()
    };
    h.C = new b;
    h.Xa = new function() {}
})();

function bd(f) {
    this.b = f
}
(function() {
    function f(a, b) {
        return a.length ? a.pop() : new b
    }

    function m(a, b, c) {
        if (c) {
            var d;
            c = 0;
            for (d = b.length; c < d; c++) a.length < e && a.push(b[c]);
            y(b)
        } else
            for (d in b) Object.prototype.hasOwnProperty.call(b, d) && (a.length < e && a.push(b[d]), delete b[d])
    }

    function k(a, b, c) {
        var e = a.Wc;
        c = c.replace(/\s\s*$/, "");
        b >= e.length && e.push(f(d, Object));
        b = e[b];
        b.text = c;
        b.width = a.tr(c);
        a.dg = Ba(a.dg, b.width)
    }

    function p() {}
    var c = bd.prototype;
    c.S = function() {};
    c.Ba = function(a) {
        this.Ja = a;
        this.b = a.b
    };
    var t = c.Ba.prototype;
    t.S = function() {
        this.R ||
            (this.T = new Image, this.b.Qs(this.T, this.Vo), this.ma = null)
    };
    t.sl = function() {
        this.R || (this.ma = null)
    };
    t.fo = function() {
        if (!this.R && this.e.length) {
            this.ma || (this.ma = this.b.F.hj(this.T, !1, this.b.jb, this.Zl));
            var a, b;
            a = 0;
            for (b = this.e.length; a < b; a++) this.e[a].ma = this.ma
        }
    };
    t.ep = function() {
        this.R || this.e.length || !this.ma || (this.b.F.deleteTexture(this.ma), this.ma = null)
    };
    t.vo = function(a) {
        a.drawImage(this.T, 0, 0)
    };
    c.na = function(a) {
        this.type = a;
        this.b = a.b
    };
    t = c.na.prototype;
    t.Uf = function() {
        m(d, this.Wc, !0);
        m(b, this.Im, !1);
        m(h, this.Jm, !1);
        mb(this.vg)
    };
    t.S = function() {
        this.T = this.type.T;
        this.Hm = this.r[0];
        this.tg = this.r[1];
        this.characterSet = this.r[2];
        this.text = this.r[3];
        this.ug = this.r[4];
        this.visible = 0 === this.r[5];
        this.Lf = this.r[6] / 2;
        this.fg = this.r[7] / 2;
        this.jm = 0 === this.r[9];
        this.Bi = this.r[10];
        this.lineHeight = this.r[11];
        this.uf = this.dg = 0;
        this.jd ? (y(this.Wc), mb(this.Im), mb(this.Jm), mb(this.vg)) : (this.Wc = [], this.Im = {}, this.Jm = {}, this.vg = {});
        this.Wd = !0;
        this.Xh = this.width;
        this.b.F && (this.type.ma || (this.type.ma = this.b.F.hj(this.type.T, !1, this.b.jb, this.type.Zl)), this.ma = this.type.ma);
        this.Mz()
    };
    t.Nc = function() {
        var a = {
                t: this.text,
                csc: this.ug,
                csp: this.Bi,
                lh: this.lineHeight,
                tw: this.dg,
                th: this.uf,
                lrt: this.Wh,
                ha: this.Lf,
                va: this.fg,
                cw: {}
            },
            b;
        for (b in this.vg) a.cw[b] = this.vg[b];
        return a
    };
    t.gd = function(a) {
        this.text = a.t;
        this.ug = a.csc;
        this.Bi = a.csp;
        this.lineHeight = a.lh;
        this.dg = a.tw;
        this.uf = a.th;
        this.Wh = a.lrt;
        a.hasOwnProperty("ha") && (this.Lf = a.ha);
        a.hasOwnProperty("va") && (this.fg = a.va);
        for (var b in a.cw) this.vg[b] = a.cw[b];
        this.Wd = !0;
        this.Xh =
            this.width
    };
    var e = 1E3,
        d = [],
        b = [],
        h = [];
    t.Mz = function() {
        for (var a = this.T, c = a.width, d = a.height, a = this.Hm, e = this.tg, g = a / c, n = e / d, k = this.characterSet, c = Math.floor(c / a), d = Math.floor(d / e), m = 0; m < k.length && !(m >= c * d); m++) {
            var p = m % c,
                t = Math.floor(m / c),
                H = k.charAt(m);
            if (this.b.F) {
                var E = this.Jm,
                    z = p * g,
                    x = t * n,
                    p = (p + 1) * g,
                    t = (t + 1) * n;
                void 0 === E[H] && (E[H] = f(h, La));
                E[H].left = z;
                E[H].top = x;
                E[H].right = p;
                E[H].bottom = t
            } else E = this.Im, p = p * a, t = t * e, z = a, x = e, void 0 === E[H] && (E[H] = f(b, Object)), E[H].x = p, E[H].y = t, E[H].q = z, E[H].Bu = x
        }
    };
    var a = [];
    c.vp = function(b) {
        y(a);
        for (var c = "", d, e = 0; e < b.length;)
            if (d = b.charAt(e), "\n" === d) c.length && (a.push(c), c = ""), a.push("\n"), ++e;
            else if (" " === d || "\t" === d || "-" === d) {
            do c += b.charAt(e), e++; while (e < b.length && (" " === b.charAt(e) || "\t" === b.charAt(e)));
            a.push(c);
            c = ""
        } else e < b.length && (c += d, e++);
        c.length && a.push(c)
    };
    c.wp = function(a) {
        var b = a.text,
            c = a.Wc;
        if (b && b.length) {
            var e = a.width;
            if (2 >= e) m(d, c, !0);
            else {
                var g = a.ug,
                    h = a.Bi;
                if (b.length * (a.Hm * g + h) - h <= e && -1 === b.indexOf("\n") && (h = a.tr(b), h <= e)) {
                    m(d, c, !0);
                    c.push(f(d,
                        Object));
                    c[0].text = b;
                    c[0].width = h;
                    a.dg = h;
                    a.uf = a.tg * g + a.lineHeight;
                    return
                }
                this.xp(a);
                a.uf = c.length * (a.tg * g + a.lineHeight)
            }
        } else m(d, c, !0)
    };
    c.xp = function(b) {
        var c = b.jm,
            g = b.text,
            f = b.Wc,
            h = b.width;
        c && (this.vp(g), g = a);
        var n = "",
            m, p, t, w = 0,
            H = !1;
        for (t = 0; t < g.length; t++) "\n" === g[t] ? (!0 === H ? H = !1 : (k(b, w, n), w++), n = "") : (H = !1, m = n, n += g[t], p = b.tr(n.replace(/\s\s*$/, "")), p > h && ("" === m ? (k(b, w, n), n = "", H = !0) : (k(b, w, m), n = g[t]), w++, c || " " !== n || (n = "")));
        n.replace(/\s\s*$/, "").length && (k(b, w, n), w++);
        for (t = w; t < f.length; t++) d.length <
            e && d.push(f[t]);
        f.length = w
    };
    t.tr = function(a) {
        for (var b = this.Bi, c = a.length, d = 0, e = 0; e < c; e++) d += this.qq(a.charAt(e)) * this.ug + b;
        return d - (0 < d ? b : 0)
    };
    t.qq = function(a) {
        var b = this.vg;
        return void 0 !== b[a] ? b[a] : this.Hm
    };
    t.xw = function() {
        if (this.Wd || this.width !== this.Xh) this.uf = this.dg = 0, this.type.Ja.wp(this), this.Wd = !1, this.Xh = this.width
    };
    t.ke = function(a) {
        var b = this.T;
        if ("" !== this.text && null != b && (this.xw(), !(this.height < this.tg * this.ug + this.lineHeight))) {
            a.globalAlpha = this.opacity;
            var b = this.x,
                c = this.y;
            this.b.Sd &&
                (b = Math.round(b), c = Math.round(c));
            var d = this.n.La,
                e = this.n.Ra,
                g = this.n.ab,
                f = this.n.$a;
            a.save();
            a.translate(b, c);
            a.rotate(this.k);
            for (var h = this.k, k = this.Lf, m = this.ug, p = this.tg * m, t = this.lineHeight, z = this.Bi, x = this.Wc, K, Y = -(this.jc * this.width), D = -(this.kc * this.height), D = D + this.fg * Ba(0, this.height - this.uf), X, T, Q, L = 0; L < x.length; L++) {
                var v = x[L].text;
                K = k * Ba(0, this.width - x[L].width);
                X = Y + K;
                D += t;
                if (0 === h && c + D + p < e) D += p;
                else {
                    for (var F = 0; F < v.length; F++) {
                        T = v.charAt(F);
                        K = this.qq(T);
                        var C = this.Im[T];
                        if (0 === h && b +
                            X + K * m + z < d) X += K * m + z;
                        else {
                            if (X + K * m > this.width + 1E-5) break;
                            void 0 !== C && (T = X, Q = D, 0 === h && 1 === m && (T = Math.round(T), Q = Math.round(Q)), a.drawImage(this.T, C.x, C.y, C.q, C.Bu, T, Q, C.q * m, C.Bu * m));
                            X += K * m + z;
                            if (0 === h && b + X > g) break
                        }
                    }
                    D += p;
                    if (0 === h && (D + p + t > this.height || c + D > f)) break
                }
            }
            a.restore()
        }
    };
    var g = new Ma;
    t.Tc = function(a) {
        a.md(this.ma);
        a.eh(this.opacity);
        if (this.text && (this.xw(), !(this.height < this.tg * this.ug + this.lineHeight))) {
            this.Ga();
            var b = this.Ec,
                c = 0,
                d = 0;
            this.b.Sd && (c = Math.round(this.x) - this.x, d = Math.round(this.y) -
                this.y);
            var e = this.n.La,
                f = this.n.Ra,
                h = this.n.ab,
                k = this.n.$a,
                m = this.k,
                p = this.Lf,
                t = this.fg,
                E = this.ug,
                z = this.tg * E,
                x = this.lineHeight,
                K = this.Bi,
                Y = this.Wc,
                D = this.uf,
                X, T, Q;
            0 !== m && (T = Math.cos(m), Q = Math.sin(m));
            for (var c = b.kb + c, b = b.lb + d, L, t = t * Ba(0, this.height - D), v, F, D = 0; D < Y.length; D++)
                if (d = Y[D].text, L = X = p * Ba(0, this.width - Y[D].width), t += x, 0 === m && b + t + z < f) t += z;
                else {
                    for (var C = 0; C < d.length; C++) {
                        var R = d.charAt(C);
                        X = this.qq(R);
                        R = this.Jm[R];
                        if (0 === m && c + L + X * E + K < e) L += X * E + K;
                        else {
                            if (L + X * E > this.width + 1E-5) break;
                            if (void 0 !==
                                R) {
                                var G = this.Hm * E,
                                    I = this.tg * E;
                                v = L;
                                F = t;
                                0 === m && 1 === E && (v = Math.round(v), F = Math.round(F));
                                g.kb = v;
                                g.lb = F;
                                g.Ib = v + G;
                                g.Jb = F;
                                g.Ab = v;
                                g.Bb = F + I;
                                g.Cb = v + G;
                                g.Db = F + I;
                                0 !== m && (v = g, F = T, G = Q, I = void 0, I = v.kb * F - v.lb * G, v.lb = v.lb * F + v.kb * G, v.kb = I, I = v.Ib * F - v.Jb * G, v.Jb = v.Jb * F + v.Ib * G, v.Ib = I, I = v.Ab * F - v.Bb * G, v.Bb = v.Bb * F + v.Ab * G, v.Ab = I, I = v.Cb * F - v.Db * G, v.Db = v.Db * F + v.Cb * G, v.Cb = I);
                                g.offset(c, b);
                                a.Qe(g.kb, g.lb, g.Ib, g.Jb, g.Cb, g.Db, g.Ab, g.Bb, R)
                            }
                            L += X * E + K;
                            if (0 === m && c + L > h) break
                        }
                    }
                    t += z;
                    if (0 === m && (t + z + x > this.height || b + t > k)) break
                }
        }
    };
    c.j = new function() {};
    p.prototype.mt = function(a) {
        ua(a) && 1E9 > a && (a = Math.round(1E10 * a) / 1E10);
        a = a.toString();
        this.text !== a && (this.text = a, this.Wd = !0, this.b.Ka = !0)
    };
    t.ne = function(a, b) {
        var c = parseInt(b, 10);
        this.vg[a] !== c && (this.vg[a] = c, this.Wd = !0, this.b.Ka = !0)
    };
    c.C = new p;
    c.Xa = new function() {}
})();

function cd(f) {
    this.b = f
}
(function() {
    function f() {
        return d.length ? d.pop() : {}
    }

    function m(b) {
        var c, a;
        c = 0;
        for (a = b.length; c < a; c++) d.push(b[c]);
        y(b)
    }

    function k(b) {
        return b.length && " " === b.charAt(b.length - 1) ? b.substring(0, b.length - 1) : b
    }

    function p() {}
    var c = cd.prototype;
    c.S = function() {
        c.C.Hz = function(b) {
            this.width !== b && (this.width = b, this.Wd = !0, this.H())
        }
    };
    c.Ba = function(b) {
        this.Ja = b;
        this.b = b.b
    };
    var t = c.Ba.prototype;
    t.S = function() {};
    t.sl = function() {
        if (!this.R) {
            var b, c, a;
            b = 0;
            for (c = this.e.length; b < c; b++) a = this.e[b], a.lf = null, a.ci = null,
                a.Dd = null
        }
    };
    c.na = function(b) {
        this.type = b;
        this.b = b.b;
        this.jd ? y(this.Wc) : this.Wc = [];
        this.Wd = !0
    };
    t = c.na.prototype;
    t.S = function() {
        this.text = this.r[0];
        this.visible = 0 === this.r[1];
        this.font = this.r[2];
        this.color = this.r[3];
        this.Lf = this.r[4];
        this.fg = this.r[5];
        this.jm = 0 === this.r[7];
        this.Xh = this.Mn = this.width;
        this.Ln = this.height;
        this.ir = this.r[8];
        this.jn = this.Mi = "";
        this.uf = this.dg = this.Bl = 0;
        this.vD();
        this.Dd = this.ci = this.lf = null;
        this.Jv = !1;
        this.Wh = this.b.Xd;
        this.jd ? this.ah.set(0, 0, 1, 1) : this.ah = new La(0, 0, 1, 1);
        this.b.F && this.b.$l(this)
    };
    t.vD = function() {
        var b = this.font.split(" "),
            c;
        for (c = 0; c < b.length; c++)
            if ("pt" === b[c].substr(b[c].length - 2, 2)) {
                this.Bl = parseInt(b[c].substr(0, b[c].length - 2));
                this.Tr = Math.ceil(this.Bl / 72 * 96) + 4;
                0 < c && (this.jn = b[c - 1]);
                this.Mi = b[c + 1];
                for (c += 2; c < b.length; c++) this.Mi += " " + b[c];
                break
            }
    };
    t.Nc = function() {
        return {
            t: this.text,
            f: this.font,
            c: this.color,
            ha: this.Lf,
            va: this.fg,
            wr: this.jm,
            lho: this.ir,
            fn: this.Mi,
            fs: this.jn,
            ps: this.Bl,
            pxh: this.Tr,
            tw: this.dg,
            th: this.uf,
            lrt: this.Wh
        }
    };
    t.gd = function(b) {
        this.text =
            b.t;
        this.font = b.f;
        this.color = b.c;
        this.Lf = b.ha;
        this.fg = b.va;
        this.jm = b.wr;
        this.ir = b.lho;
        this.Mi = b.fn;
        this.jn = b.fs;
        this.Bl = b.ps;
        this.Tr = b.pxh;
        this.dg = b.tw;
        this.uf = b.th;
        this.Wh = b.lrt;
        this.Wd = !0;
        this.Xh = this.Mn = this.width;
        this.Ln = this.height
    };
    t.zb = function() {
        if (this.b.F && this.Dd && 300 <= this.b.Xd - this.Wh) {
            var b = this.n;
            this.Ga();
            var c = this.gb;
            if (c.right < b.La || c.bottom < b.Ra || c.left > b.ab || c.top > b.$a) this.b.F.deleteTexture(this.Dd), this.lf = this.ci = this.Dd = null
        }
    };
    t.Uf = function() {
        this.lf = this.ci = null;
        this.b.F &&
            this.Dd && this.b.F.deleteTexture(this.Dd);
        this.Dd = null
    };
    t.ne = function() {
        this.font = this.jn + " " + this.Bl.toString() + "pt " + this.Mi;
        this.Wd = !0;
        this.b.Ka = !0
    };
    t.ke = function(b, c) {
        b.font = this.font;
        b.textBaseline = "top";
        b.fillStyle = this.color;
        b.globalAlpha = c ? 1 : this.opacity;
        var a = 1;
        c && (a = Math.abs(this.n.wd()), b.save(), b.scale(a, a));
        if (this.Wd || this.width !== this.Xh) this.type.Ja.wp(this.text, this.Wc, b, this.width, this.jm), this.Wd = !1, this.Xh = this.width;
        this.Ga();
        var a = c ? 0 : this.Ec.kb,
            d = c ? 0 : this.Ec.lb;
        this.b.Sd && (a =
            a + .5 | 0, d = d + .5 | 0);
        0 === this.k || c || (b.save(), b.translate(a, d), b.rotate(this.k), d = a = 0);
        var e = d + this.height,
            f = this.Tr,
            f = f + this.ir,
            k, m;
        1 === this.fg ? d += Math.max(this.height / 2 - this.Wc.length * f / 2, 0) : 2 === this.fg && (d += Math.max(this.height - this.Wc.length * f - 2, 0));
        for (m = 0; m < this.Wc.length && !(k = a, 1 === this.Lf ? k = a + (this.width - this.Wc[m].width) / 2 : 2 === this.Lf && (k = a + (this.width - this.Wc[m].width)), b.fillText(this.Wc[m].text, k, d), d += f, d >= e - f); m++);
        (0 !== this.k || c) && b.restore();
        this.Wh = this.b.Xd
    };
    t.Tc = function(b) {
        if (!(1 >
                this.width || 1 > this.height)) {
            var c = this.Wd || this.Jv;
            this.Jv = !1;
            var a = this.n.wd(),
                d = this.n.Eb(),
                e = this.ah,
                f = a * this.width,
                k = a * this.height,
                m = Math.ceil(f),
                r = Math.ceil(k),
                n = Math.abs(m),
                p = Math.abs(r),
                t = this.b.W / 2,
                B = this.b.V / 2;
            this.ci || (this.lf = document.createElement("canvas"), this.lf.width = n, this.lf.height = p, this.Mn = n, this.Ln = p, c = !0, this.ci = this.lf.getContext("2d"));
            if (n !== this.Mn || p !== this.Ln) this.lf.width = n, this.lf.height = p, this.Dd && (b.deleteTexture(this.Dd), this.Dd = null), c = !0;
            c && (this.ci.clearRect(0,
                0, n, p), this.ke(this.ci, !0), this.Dd || (this.Dd = b.Id(n, p, this.b.jb, this.b.Jg)), b.PE(this.lf, this.Dd, this.b.Jg));
            this.Mn = n;
            this.Ln = p;
            b.md(this.Dd);
            b.eh(this.opacity);
            b.ue();
            b.translate(-t, -B);
            b.$d();
            var w = this.Ec,
                c = this.n.ob(w.kb, w.lb, !0, !0),
                n = this.n.ob(w.kb, w.lb, !1, !0),
                p = this.n.ob(w.Ib, w.Jb, !0, !0),
                t = this.n.ob(w.Ib, w.Jb, !1, !0),
                B = this.n.ob(w.Cb, w.Db, !0, !0),
                H = this.n.ob(w.Cb, w.Db, !1, !0),
                E = this.n.ob(w.Ab, w.Bb, !0, !0),
                w = this.n.ob(w.Ab, w.Bb, !1, !0);
            if (this.b.Sd || 0 === this.k && 0 === d) var z = (c + .5 | 0) - c,
                x = (n + .5 | 0) -
                n,
                c = c + z,
                n = n + x,
                p = p + z,
                t = t + x,
                B = B + z,
                H = H + x,
                E = E + z,
                w = w + x;
            0 === this.k && 0 === d ? (p = c + m, t = n, B = p, H = n + r, E = c, w = H, e.right = 1, e.bottom = 1) : (e.right = f / m, e.bottom = k / r);
            b.Qe(c, n, p, t, B, H, E, w, e);
            b.ue();
            b.scale(a, a);
            b.Do(-this.n.Eb());
            b.translate((this.n.La + this.n.ab) / -2, (this.n.Ra + this.n.$a) / -2);
            b.$d();
            this.Wh = this.b.Xd
        }
    };
    var e = [];
    c.vp = function(b) {
        y(e);
        for (var c = "", a, d = 0; d < b.length;)
            if (a = b.charAt(d), "\n" === a) c.length && (e.push(c), c = ""), e.push("\n"), ++d;
            else if (" " === a || "\t" === a || "-" === a) {
            do c += b.charAt(d), d++; while (d < b.length &&
                (" " === b.charAt(d) || "\t" === b.charAt(d)));
            e.push(c);
            c = ""
        } else d < b.length && (c += a, d++);
        c.length && e.push(c)
    };
    var d = [];
    c.wp = function(b, c, a, d, e) {
        if (b && b.length)
            if (2 >= d) m(c);
            else {
                if (100 >= b.length && -1 === b.indexOf("\n")) {
                    var l = a.measureText(b).width;
                    if (l <= d) {
                        m(c);
                        c.push(f());
                        c[0].text = b;
                        c[0].width = l;
                        return
                    }
                }
                this.xp(b, c, a, d, e)
            }
        else m(c)
    };
    c.xp = function(b, c, a, g, m) {
        m && (this.vp(b), b = e);
        var l = "",
            p, t, r, n = 0;
        for (r = 0; r < b.length; r++) "\n" === b[r] ? (n >= c.length && c.push(f()), l = k(l), t = c[n], t.text = l, t.width = a.measureText(l).width,
            n++, l = "") : (p = l, l += b[r], t = a.measureText(l).width, t >= g && (n >= c.length && c.push(f()), p = k(p), t = c[n], t.text = p, t.width = a.measureText(p).width, n++, l = b[r], m || " " !== l || (l = "")));
        l.length && (n >= c.length && c.push(f()), l = k(l), t = c[n], t.text = l, t.width = a.measureText(l).width, n++);
        for (r = n; r < c.length; r++) d.push(c[r]);
        c.length = n
    };
    c.j = new function() {};
    p.prototype.mt = function(b) {
        ua(b) && 1E9 > b && (b = Math.round(1E10 * b) / 1E10);
        b = b.toString();
        this.text !== b && (this.text = b, this.Wd = !0, this.b.Ka = !0)
    };
    c.C = new p;
    c.Xa = new function() {}
})();

function dd(f) {
    this.b = f
}
(function() {
    var f = dd.prototype;
    f.Ba = function(f) {
        this.Ja = f;
        this.b = f.b
    };
    var m = f.Ba.prototype;
    m.S = function() {
        this.R || (this.T = new Image, this.T.Xt = this.Bs, this.b.Qs(this.T, this.Vo), this.ma = this.pattern = null)
    };
    m.sl = function() {
        this.R || (this.ma = null)
    };
    m.fo = function() {
        if (!this.R && this.e.length) {
            this.ma || (this.ma = this.b.F.hj(this.T, !0, this.b.jb, this.Zl));
            var f, m;
            f = 0;
            for (m = this.e.length; f < m; f++) this.e[f].ma = this.ma
        }
    };
    m.lr = function() {
        this.R || this.ma || !this.b.F || (this.ma = this.b.F.hj(this.T, !0, this.b.jb, this.Zl))
    };
    m.ep = function() {
        this.R || this.e.length || !this.ma || (this.b.F.deleteTexture(this.ma), this.ma = null)
    };
    m.vo = function(f) {
        f.drawImage(this.T, 0, 0)
    };
    f.na = function(f) {
        this.type = f;
        this.b = f.b
    };
    m = f.na.prototype;
    m.S = function() {
        this.visible = 0 === this.r[0];
        this.ah = new La(0, 0, 0, 0);
        this.Fu = !1;
        this.T = this.type.T;
        this.b.F ? (this.type.lr(), this.ma = this.type.ma) : (this.type.pattern || (this.type.pattern = this.b.mb.createPattern(this.type.T, "repeat")), this.pattern = this.type.pattern)
    };
    m.ze = function() {
        this.Fu = !1;
        this.T = this.type.T
    };
    m.Uf = function() {
        this.b.F && this.Fu && this.ma && (this.b.F.deleteTexture(this.ma), this.ma = null)
    };
    m.ke = function(f) {
        f.globalAlpha = this.opacity;
        f.save();
        f.fillStyle = this.pattern;
        var m = this.x,
            c = this.y;
        this.b.Sd && (m = Math.round(m), c = Math.round(c));
        var t = -(this.jc * this.width),
            e = -(this.kc * this.height),
            d = t % this.T.width,
            b = e % this.T.height;
        0 > d && (d += this.T.width);
        0 > b && (b += this.T.height);
        f.translate(m, c);
        f.rotate(this.k);
        f.translate(d, b);
        f.fillRect(t - d, e - b, this.width, this.height);
        f.restore()
    };
    m.yh = function(f) {
        this.Tc(f)
    };
    m.Tc = function(f) {
        f.md(this.ma);
        f.eh(this.opacity);
        var m = this.ah;
        m.right = this.width / this.T.width;
        m.bottom = this.height / this.T.height;
        var c = this.Ec;
        if (this.b.Sd) {
            var t = Math.round(this.x) - this.x,
                e = Math.round(this.y) - this.y;
            f.Qe(c.kb + t, c.lb + e, c.Ib + t, c.Jb + e, c.Cb + t, c.Db + e, c.Ab + t, c.Bb + e, m)
        } else f.Qe(c.kb, c.lb, c.Ib, c.Jb, c.Cb, c.Db, c.Ab, c.Bb, m)
    };
    f.j = new function() {};
    f.C = new function() {};
    f.Xa = new function() {}
})();

function ed(f) {
    this.b = f
}
(function() {
    function f(c) {
        b = c.x;
        h = c.y;
        a = c.z
    }

    function m(a, b, c, d) {
        var e;
        e = g.length ? g.pop() : new k;
        e.init(a, b, c, d);
        return e
    }

    function k() {
        this.Vl = this.id = this.y = this.x = this.Ro = this.Qo = this.er = this.time = this.vs = 0;
        this.cm = this.$o = !1
    }

    function p() {}

    function c() {}
    var t = ed.prototype;
    t.Ba = function(a) {
        this.Ja = a;
        this.b = a.b
    };
    t.Ba.prototype.S = function() {};
    t.na = function(a) {
        this.type = a;
        this.b = a.b;
        this.touches = [];
        this.yr = !1
    };
    var e = t.na.prototype,
        d = {
            left: 0,
            top: 0
        };
    e.sk = function(a) {
        var b, c;
        b = 0;
        for (c = this.touches.length; b <
            c; b++)
            if (this.touches[b].id === a) return b;
        return -1
    };
    var b = 0,
        h = 0,
        a = 0,
        g = [];
    k.prototype.init = function(a, b, c, d) {
        var e = nb();
        this.vs = this.er = this.time = e;
        this.Qo = a;
        this.Ro = b;
        this.x = a;
        this.y = b;
        this.pressure = this.height = this.width = 0;
        this.id = c;
        this.Vl = d;
        this.cm = this.$o = !1
    };
    k.prototype.update = function(a, b, c, d, e, g) {
        this.er = this.time;
        this.time = a;
        this.x = b;
        this.y = c;
        this.width = d;
        this.height = e;
        this.pressure = g;
        !this.cm && 15 <= jb(this.Qo, this.Ro, this.x, this.y) && (this.cm = !0)
    };
    k.prototype.dD = function(a, b) {
        !this.$o && 500 <=
            nb() - this.vs && !this.cm && 15 > jb(this.Qo, this.Ro, this.x, this.y) && (this.$o = !0, a.wf = this.Vl, a.Lj = this.id, a.Ri = b, a.b.trigger(ed.prototype.j.Ny, a), a.Ef = this.x, a.Ff = this.y, a.b.trigger(ed.prototype.j.Oy, a), a.Ri = 0)
    };
    var q = -1E3,
        l = -1E3,
        N = -1E4;
    k.prototype.Av = function(a, b) {
        if (!this.$o) {
            var c = nb();
            333 >= c - this.vs && !this.cm && 15 > jb(this.Qo, this.Ro, this.x, this.y) && (a.wf = this.Vl, a.Lj = this.id, a.Ri = b, 666 >= c - N && 25 > jb(q, l, this.x, this.y) ? (a.b.trigger(ed.prototype.j.Fy, a), a.Ef = this.x, a.Ff = this.y, a.b.trigger(ed.prototype.j.Gy,
                a), l = q = -1E3, N = -1E4) : (a.b.trigger(ed.prototype.j.lz, a), a.Ef = this.x, a.Ff = this.y, a.b.trigger(ed.prototype.j.et, a), q = this.x, l = this.y, N = c), a.Ri = 0)
        }
    };
    e.S = function() {
        this.QC = !("undefined" === typeof window.c2isWindows8 || !window.c2isWindows8);
        this.Ri = this.Lj = this.wf = this.Ff = this.Ef = this.tt = this.qt = this.pt = this.Xz = this.Wz = this.Vz = this.jo = this.io = this.ho = 0;
        this.LE = 0 !== this.r[0];
        var a = 0 < this.b.dd ? document : this.b.canvas,
            b = document;
        this.b.Kc ? b = a = window.Canvas : this.b.yd && (b = a = window);
        var c = this;
        "undefined" !== typeof PointerEvent ?
            (a.addEventListener("pointerdown", function(a) {
                c.Uv(a)
            }, !1), a.addEventListener("pointermove", function(a) {
                c.Tv(a)
            }, !1), b.addEventListener("pointerup", function(a) {
                c.eo(a, !1)
            }, !1), b.addEventListener("pointercancel", function(a) {
                c.eo(a, !0)
            }, !1), this.b.canvas && (this.b.canvas.addEventListener("MSGestureHold", function(a) {
                a.preventDefault()
            }, !1), document.addEventListener("MSGestureHold", function(a) {
                a.preventDefault()
            }, !1), this.b.canvas.addEventListener("gesturehold", function(a) {
                a.preventDefault()
            }, !1), document.addEventListener("gesturehold",
                function(a) {
                    a.preventDefault()
                }, !1))) : window.navigator.msPointerEnabled ? (a.addEventListener("MSPointerDown", function(a) {
                c.Uv(a)
            }, !1), a.addEventListener("MSPointerMove", function(a) {
                c.Tv(a)
            }, !1), b.addEventListener("MSPointerUp", function(a) {
                c.eo(a, !1)
            }, !1), b.addEventListener("MSPointerCancel", function(a) {
                c.eo(a, !0)
            }, !1), this.b.canvas && (this.b.canvas.addEventListener("MSGestureHold", function(a) {
                a.preventDefault()
            }, !1), document.addEventListener("MSGestureHold", function(a) {
                a.preventDefault()
            }, !1))) : (a.addEventListener("touchstart",
                function(a) {
                    c.Yv(a)
                }, !1), a.addEventListener("touchmove", function(a) {
                c.Xv(a)
            }, !1), b.addEventListener("touchend", function(a) {
                c.Hr(a, !1)
            }, !1), b.addEventListener("touchcancel", function(a) {
                c.Hr(a, !0)
            }, !1));
        if (this.QC) {
            var d = function(a) {
                    a = a.reading;
                    c.pt = a.accelerationX;
                    c.qt = a.accelerationY;
                    c.tt = a.accelerationZ
                },
                e = function(a) {
                    a = a.reading;
                    c.ho = a.yawDegrees;
                    c.io = a.pitchDegrees;
                    c.jo = a.rollDegrees
                },
                g = Windows.Devices.Sensors.Accelerometer.getDefault();
            g && (g.reportInterval = Math.max(g.minimumReportInterval, 16),
                g.addEventListener("readingchanged", d));
            var h = Windows.Devices.Sensors.Inclinometer.getDefault();
            h && (h.reportInterval = Math.max(h.minimumReportInterval, 16), h.addEventListener("readingchanged", e));
            document.addEventListener("visibilitychange", function() {
                document.hidden || document.msHidden ? (g && g.removeEventListener("readingchanged", d), h && h.removeEventListener("readingchanged", e)) : (g && g.addEventListener("readingchanged", d), h && h.addEventListener("readingchanged", e))
            }, !1)
        } else window.addEventListener("deviceorientation",
            function(a) {
                c.ho = a.alpha || 0;
                c.io = a.beta || 0;
                c.jo = a.gamma || 0
            }, !1), window.addEventListener("devicemotion", function(a) {
            a.accelerationIncludingGravity && (c.Vz = a.accelerationIncludingGravity.x || 0, c.Wz = a.accelerationIncludingGravity.y || 0, c.Xz = a.accelerationIncludingGravity.z || 0);
            a.acceleration && (c.pt = a.acceleration.x || 0, c.qt = a.acceleration.y || 0, c.tt = a.acceleration.z || 0)
        }, !1);
        this.LE && !this.b.wb && (jQuery(document).mousemove(function(a) {
            c.lD(a)
        }), jQuery(document).mousedown(function(a) {
            c.kD(a)
        }), jQuery(document).mouseup(function(a) {
            c.mD(a)
        }));
        !this.b.Nd && this.b.Uc && navigator.accelerometer && navigator.accelerometer.watchAcceleration && navigator.accelerometer.watchAcceleration(f, null, {
            frequency: 40
        });
        this.b.yE(this)
    };
    e.Tv = function(a) {
        if (a.pointerType !== a.MSPOINTER_TYPE_MOUSE && "mouse" !== a.pointerType) {
            a.preventDefault && a.preventDefault();
            var c = this.sk(a.pointerId),
                b = nb();
            if (0 <= c) {
                var e = this.b.wb ? d : jQuery(this.b.canvas).offset(),
                    c = this.touches[c];
                2 > b - c.time || c.update(b, a.pageX - e.left, a.pageY - e.top, a.width || 0, a.height || 0, a.pressure || 0)
            }
        }
    };
    e.Uv =
        function(a) {
            if (a.pointerType !== a.MSPOINTER_TYPE_MOUSE && "mouse" !== a.pointerType) {
                a.preventDefault && Eb(a) && a.preventDefault();
                var c = this.b.wb ? d : jQuery(this.b.canvas).offset(),
                    b = a.pageX - c.left,
                    c = a.pageY - c.top;
                nb();
                this.wf = this.touches.length;
                this.Lj = a.pointerId;
                this.touches.push(m(b, c, a.pointerId, this.wf));
                this.b.jf = !0;
                this.b.trigger(ed.prototype.j.ct, this);
                this.b.trigger(ed.prototype.j.qp, this);
                this.Ef = b;
                this.Ff = c;
                this.b.trigger(ed.prototype.j.pp, this);
                this.b.jf = !1
            }
        };
    e.eo = function(a, c) {
        if (a.pointerType !==
            a.MSPOINTER_TYPE_MOUSE && "mouse" !== a.pointerType) {
            a.preventDefault && Eb(a) && a.preventDefault();
            var b = this.sk(a.pointerId);
            this.wf = 0 <= b ? this.touches[b].Vl : -1;
            this.Lj = 0 <= b ? this.touches[b].id : -1;
            this.b.jf = !0;
            this.b.trigger(ed.prototype.j.bt, this);
            this.b.trigger(ed.prototype.j.gt, this);
            0 <= b && (c || this.touches[b].Av(this, b), 100 > g.length && g.push(this.touches[b]), this.touches.splice(b, 1));
            this.b.jf = !1
        }
    };
    e.Xv = function(a) {
        a.preventDefault && a.preventDefault();
        var c = nb(),
            b, e, g, f;
        b = 0;
        for (e = a.changedTouches.length; b <
            e; b++)
            if (g = a.changedTouches[b], f = this.sk(g.identifier), 0 <= f) {
                var h = this.b.wb ? d : jQuery(this.b.canvas).offset();
                f = this.touches[f];
                2 > c - f.time || f.update(c, g.pageX - h.left, g.pageY - h.top, 2 * (g.rH || g.BH || g.gH || g.jH || 0), 2 * (g.sH || g.CH || g.hH || g.kH || 0), g.WG || g.AH || g.fH || g.iH || 0)
            }
    };
    e.Yv = function(a) {
        a.preventDefault && Eb(a) && a.preventDefault();
        var c = this.b.wb ? d : jQuery(this.b.canvas).offset();
        nb();
        this.b.jf = !0;
        var b, e, g, f;
        b = 0;
        for (e = a.changedTouches.length; b < e; b++)
            if (g = a.changedTouches[b], f = this.sk(g.identifier), -1 ===
                f) {
                f = g.pageX - c.left;
                var h = g.pageY - c.top;
                this.wf = this.touches.length;
                this.Lj = g.identifier;
                this.touches.push(m(f, h, g.identifier, this.wf));
                this.b.trigger(ed.prototype.j.ct, this);
                this.b.trigger(ed.prototype.j.qp, this);
                this.Ef = f;
                this.Ff = h;
                this.b.trigger(ed.prototype.j.pp, this)
            }
        this.b.jf = !1
    };
    e.Hr = function(a, b) {
        a.preventDefault && Eb(a) && a.preventDefault();
        this.b.jf = !0;
        var c, d, e;
        c = 0;
        for (d = a.changedTouches.length; c < d; c++) e = a.changedTouches[c], e = this.sk(e.identifier), 0 <= e && (this.wf = this.touches[e].Vl, this.Lj =
            this.touches[e].id, this.b.trigger(ed.prototype.j.bt, this), this.b.trigger(ed.prototype.j.gt, this), b || this.touches[e].Av(this, e), 100 > g.length && g.push(this.touches[e]), this.touches.splice(e, 1));
        this.b.jf = !1
    };
    e.ne = function() {
        return this.b.Uc && 0 === this.ho && 0 !== a ? 90 * a : this.ho
    };
    e.Xq = function() {
        return this.b.Uc && 0 === this.io && 0 !== h ? 90 * h : this.io
    };
    e.vw = function() {
        return this.b.Uc && 0 === this.jo && 0 !== b ? 90 * b : this.jo
    };
    e.kD = function(a) {
        this.Yv({
            changedTouches: [{
                pageX: a.pageX,
                pageY: a.pageY,
                identifier: 0
            }]
        });
        this.yr = !0
    };
    e.lD = function(a) {
        this.yr && this.Xv({
            changedTouches: [{
                pageX: a.pageX,
                pageY: a.pageY,
                identifier: 0
            }]
        })
    };
    e.mD = function(a) {
        a.preventDefault && this.b.Cu && !this.b.Jg && a.preventDefault();
        this.b.Cu = !0;
        this.Hr({
            changedTouches: [{
                pageX: a.pageX,
                pageY: a.pageY,
                identifier: 0
            }]
        });
        this.yr = !1
    };
    e.Yo = function() {
        var a, c, b, d = nb();
        a = 0;
        for (c = this.touches.length; a < c; ++a) b = this.touches[a], b.time <= d - 50 && (b.er = d), b.dD(this, a)
    };
    p.prototype.qp = function() {
        return !0
    };
    p.prototype.gt = function() {
        return !0
    };
    p.prototype.jy = function() {
        return this.touches.length
    };
    p.prototype.pp = function(a) {
        return a ? this.b.To(a, this.Ef, this.Ff) : !1
    };
    var O = [];
    p.prototype.qy = function(a) {
        if (!a) return !1;
        var b = a.ba(),
            c = b.ed(),
            d, e, g, f, h, l;
        g = 0;
        for (f = c.length; g < f; g++) {
            var k = c[g];
            k.Ga();
            h = 0;
            for (l = this.touches.length; h < l; h++)
                if (e = this.touches[h], d = k.n.tc(e.x, e.y, !0), e = k.n.tc(e.x, e.y, !1), k.Fc(d, e)) {
                    O.push(k);
                    break
                }
        }
        return O.length ? (b.ta = !1, Ra(b.e, O), a.ee(), y(O), !0) : !1
    };
    p.prototype.ct = function(a) {
        a = Math.floor(a);
        return a === this.wf
    };
    p.prototype.bt = function(a) {
        a = Math.floor(a);
        return a ===
            this.wf
    };
    p.prototype.Ny = function() {
        return !0
    };
    p.prototype.lz = function() {
        return !0
    };
    p.prototype.Fy = function() {
        return !0
    };
    p.prototype.Oy = function(a) {
        return a ? this.b.To(a, this.Ef, this.Ff) : !1
    };
    p.prototype.et = function(a) {
        return a ? this.b.To(a, this.Ef, this.Ff) : !1
    };
    p.prototype.Gy = function(a) {
        return a ? this.b.To(a, this.Ef, this.Ff) : !1
    };
    t.j = new p;
    c.prototype.qm = function(a, b) {
        var c = this.Ri;
        if (0 > c || c >= this.touches.length) a.B(0);
        else {
            var d, e, g, f, h;
            ta(b) ? (d = this.b.Qi(0), e = d.scale, g = d.Ye, f = d.re, h = d.k, d.scale = 1, d.Ye =
                1, d.re = 1, d.k = 0, a.B(d.tc(this.touches[c].x, this.touches[c].y, !0)), d.scale = e, d.Ye = g, d.re = f, d.k = h) : (d = ua(b) ? this.b.Qi(b) : this.b.pn(b)) ? a.B(d.tc(this.touches[c].x, this.touches[c].y, !0)) : a.B(0)
        }
    };
    c.prototype.ot = function(a, c) {
        var b = this.Ri;
        if (0 > b || b >= this.touches.length) a.B(0);
        else {
            var d, e, g, f, h;
            ta(c) ? (d = this.b.Qi(0), e = d.scale, g = d.Ye, f = d.se, h = d.k, d.scale = 1, d.Ye = 1, d.se = 1, d.k = 0, a.B(d.tc(this.touches[b].x, this.touches[b].y, !1)), d.scale = e, d.Ye = g, d.se = f, d.k = h) : (d = ua(c) ? this.b.Qi(c) : this.b.pn(c)) ? a.B(d.tc(this.touches[b].x,
                this.touches[b].y, !1)) : a.B(0)
        }
    };
    t.Xa = new c
})();

function fd(f) {
    this.b = f
}
(function() {
    function f() {}

    function m() {}

    function k() {}
    var p = fd.prototype;
    p.Ba = function(b) {
        this.Ja = b;
        this.b = b.b
    };
    p.Ba.prototype.S = function() {};
    p.na = function(b) {
        this.type = b;
        this.b = b.b
    };
    var c = p.na.prototype,
        t = "",
        e = "undefined" !== typeof window.is_scirra_arcade;
    e && (t = "arcade" + window.scirra_arcade_id);
    var d = !1;
    try {
        localStorage.getItem("test"), d = !0
    } catch (b) {
        d = !1
    }
    c.S = function() {
        d || ra("[Construct 2] Webstorage plugin: local storage is not supported on this platform.")
    };
    f.prototype.wy = function(b) {
        return d ? null !=
            localStorage.getItem(t + b) : !1
    };
    f.prototype.cz = function() {
        return !0
    };
    f.prototype.Vx = function(b, a, c) {
        if (!d) return !1;
        b = localStorage.getItem(t + b) || "";
        return Kc(parseFloat(b), a, c)
    };
    p.j = new f;
    m.prototype.Nz = function(b, a) {
        if (d) try {
            localStorage.setItem(t + b, a)
        } catch (c) {
            this.b.trigger(fd.prototype.j.cz, this)
        }
    };
    p.C = new m;
    k.prototype.xy = function(b, a) {
        d ? b.qc(localStorage.getItem(t + a) || "") : b.qc("")
    };
    k.prototype.Ts = function(b) {
        if (d) {
            var a = {},
                c, f, l;
            c = 0;
            for (f = localStorage.length; c < f; c++) l = localStorage.key(c), e ? l.substr(0,
                t.length) === t && (a[l.substr(t.length)] = localStorage.getItem(l)) : a[l] = localStorage.getItem(l);
            b.qc(JSON.stringify({
                c2dictionary: !0,
                data: a
            }))
        } else b.qc("")
    };
    p.Xa = new k
})();

function gd(f) {
    this.b = f
}
(function() {
    function f() {}

    function m() {}
    var k = gd.prototype;
    k.Ba = function(c) {
        this.Ja = c;
        this.b = c.b
    };
    k.Ba.prototype.S = function() {
        if (this.b.yn || this.b.Cn || this.b.Lg || this.b.Dn) {
            for (var c = document.getElementsByTagName("script"), f = !1, e = 0; e < c.length; e++)
                if (-1 != c[e].src.indexOf("cordova.js") || -1 != c[e].src.indexOf("phonegap.js")) {
                    f = !0;
                    break
                }
            f || (c = document.createElement("script"), c.setAttribute("type", "text/javascript"), c.setAttribute("src", "cordova.js"), document.getElementsByTagName("head")[0].appendChild(c))
        }
    };
    k.na = function(c) {
        this.type = c;
        this.b = c.b
    };
    var p = k.na.prototype;
    p.S = function() {
        if ((this.b.Je || this.b.Nd) && "undefined" != typeof game) {
            var c = this;
            game.setUp();
            game.onLoginSucceeded = function(f) {
                c.mH = f.playerId;
                c.lH = f.playerDisplayName;
                c.ic = game.tag;
                c.b.trigger(gd.prototype.j.Wy, c)
            };
            game.onLoginFailed = function() {
                c.ic = game.tag;
                c.b.trigger(gd.prototype.j.Vy, c)
            };
            game.onGetPlayerImageSucceeded = function(f) {
                c.nH = f;
                c.b.trigger(gd.prototype.j.Ky, c)
            };
            game.onGetPlayerImageFailed = function() {
                c.b.trigger(gd.prototype.j.Jy,
                    c)
            };
            game.onGetPlayerScoreSucceeded = function(f) {
                c.oH = f;
                c.ic = game.tag;
                c.b.trigger(gd.prototype.j.My, c)
            };
            game.onGetPlayerScoreFailed = function() {
                c.ic = game.tag;
                c.b.trigger(gd.prototype.j.Ly, c)
            };
            game.onSubmitScoreSucceeded = function() {
                c.ic = game.tag;
                c.b.trigger(gd.prototype.j.kz, c)
            };
            game.onSubmitScoreFailed = function() {
                c.ic = game.tag;
                c.b.trigger(gd.prototype.j.jz, c)
            };
            game.onUnlockAchievementSucceeded = function() {
                c.ic = game.tag;
                c.b.trigger(gd.prototype.j.nz, c)
            };
            game.onUnlockAchievementFailed = function() {
                c.ic = game.tag;
                c.b.trigger(gd.prototype.j.mz, c)
            };
            game.onIncrementAchievementSucceeded = function() {
                c.ic = game.tag;
                c.b.trigger(gd.prototype.j.Qy, c)
            };
            game.onIncrementAchievementFailed = function() {
                c.ic = game.tag;
                c.b.trigger(gd.prototype.j.Py, c)
            };
            game.onResetAchievementsSucceeded = function() {
                c.b.trigger(gd.prototype.j.ez, c)
            };
            game.onResetAchievementsFailed = function() {
                c.b.trigger(gd.prototype.j.dz, c)
            }
        }
    };
    p.ke = function() {};
    p.Tc = function() {};
    f.prototype.Wy = function(c) {
        return Db(c, this.ic)
    };
    f.prototype.Vy = function(c) {
        return Db(c,
            this.ic)
    };
    f.prototype.ky = function() {
        return !this.b.Je && !this.b.Nd || "undefined" == typeof game ? !1 : game.isLoggedIn()
    };
    f.prototype.Ky = function() {
        return !0
    };
    f.prototype.Jy = function() {
        return !0
    };
    f.prototype.My = function(c) {
        return Db(c, this.ic)
    };
    f.prototype.Ly = function(c) {
        return Db(c, this.ic)
    };
    f.prototype.kz = function(c) {
        return Db(c, this.ic)
    };
    f.prototype.jz = function(c) {
        return Db(c, this.ic)
    };
    f.prototype.nz = function(c) {
        return Db(c, this.ic)
    };
    f.prototype.mz = function(c) {
        return Db(c, this.ic)
    };
    f.prototype.Qy = function(c) {
        return Db(c,
            this.ic)
    };
    f.prototype.Py = function(c) {
        return Db(c, this.ic)
    };
    f.prototype.ez = function() {
        return !0
    };
    f.prototype.dz = function() {
        return !0
    };
    k.j = new f;
    m.prototype.yy = function(c) {
        (this.b.Je || this.b.Nd) && "undefined" != typeof game && game.login(c)
    };
    m.prototype.Pz = function(c, f, e) {
        (this.b.Je || this.b.Nd) && "undefined" != typeof game && game.submitScore(c, f, e)
    };
    m.prototype.Jz = function(c) {
        (this.b.Je || this.b.Nd) && "undefined" != typeof game && game.showLeaderboard(c)
    };
    k.C = new m;
    k.Xa = new function() {}
})();

function hd(f) {
    this.b = f
}
(function() {
    function f() {}
    var m = hd.prototype;
    m.Ba = function(f) {
        this.behavior = f;
        this.b = f.b
    };
    m.Ba.prototype.S = function() {};
    m.na = function(f, c) {
        this.type = f;
        this.behavior = f.behavior;
        this.d = c;
        this.b = f.b
    };
    var k = m.na.prototype;
    k.S = function() {
        this.Rb = null;
        this.lo = -1;
        this.mode = this.cj = this.Wo = this.pj = this.Vf = this.yl = 0;
        var f = this;
        this.jd || (this.il = function(c) {
            f.ql(c)
        });
        this.b.tm(this.il)
    };
    k.Nc = function() {
        return {
            uid: this.Rb ? this.Rb.uid : -1,
            pa: this.yl,
            pd: this.Vf,
            msa: this.pj,
            tsa: this.Wo,
            lka: this.cj,
            m: this.mode
        }
    };
    k.gd = function(f) {
        this.lo = f.uid;
        this.yl = f.pa;
        this.Vf = f.pd;
        this.pj = f.msa;
        this.Wo = f.tsa;
        this.cj = f.lka;
        this.mode = f.m
    };
    k.ze = function() {
        -1 === this.lo ? this.Rb = null : this.Rb = this.b.Gg(this.lo);
        this.lo = -1
    };
    k.ql = function(f) {
        this.Rb == f && (this.Rb = null)
    };
    k.Uf = function() {
        this.Rb = null;
        this.b.Bw(this.il)
    };
    k.zb = function() {};
    k.Yo = function() {
        if (this.Rb) {
            this.cj !== this.d.k && (this.pj = ab(this.pj + (this.d.k - this.cj)));
            var f = this.d.x,
                c = this.d.y;
            if (3 === this.mode || 4 === this.mode) {
                var k = jb(this.d.x, this.d.y, this.Rb.x, this.Rb.y);
                if (k > this.Vf || 4 === this.mode && k < this.Vf) c = eb(this.Rb.x, this.Rb.y, this.d.x, this.d.y), f = this.Rb.x + Math.cos(c) * this.Vf, c = this.Rb.y + Math.sin(c) * this.Vf
            } else f = this.Rb.x + Math.cos(this.Rb.k + this.yl) * this.Vf, c = this.Rb.y + Math.sin(this.Rb.k + this.yl) * this.Vf;
            this.cj = k = ab(this.pj + (this.Rb.k - this.Wo));
            0 !== this.mode && 1 !== this.mode && 3 !== this.mode && 4 !== this.mode || this.d.x === f && this.d.y === c || (this.d.x = f, this.d.y = c, this.d.H());
            0 !== this.mode && 2 !== this.mode || this.d.k === k || (this.d.k = k, this.d.H())
        }
    };
    m.j = new function() {};
    f.prototype.qz = function(f, c) {
        if (f) {
            var k = f.uq(this.d);
            k && (this.Rb = k, this.yl = eb(k.x, k.y, this.d.x, this.d.y) - k.k, this.Vf = jb(k.x, k.y, this.d.x, this.d.y), this.cj = this.pj = this.d.k, this.Wo = k.k, this.mode = c)
        }
    };
    f.prototype.Rz = function() {
        this.Rb = null
    };
    m.C = new f;
    m.Xa = new function() {}
})();

function id(f) {
    this.b = f
}
(function() {
    function f() {}

    function m() {}
    var k = id.prototype;
    k.Ba = function(c) {
        this.behavior = c;
        this.b = c.b
    };
    k.Ba.prototype.S = function() {};
    k.na = function(c, f) {
        this.type = c;
        this.behavior = c.behavior;
        this.d = f;
        this.b = c.b;
        this.No = this.rs = this.qs = this.Jq = this.dk = this.mk = this.aj = this.bj = this.Jl = this.Xk = !1;
        this.Mc = null;
        this.jr = -1;
        this.Sh = this.Rh = 0;
        this.hn = !1;
        this.Fh = this.Be = 0;
        this.gn = !0;
        this.Ua = this.qa = 0
    };
    var p = k.na.prototype;
    p.Dx = function() {
        this.Xb = Math.cos(this.Pi);
        this.Yb = Math.sin(this.Pi);
        this.gi = Math.cos(this.Pi -
            Math.PI / 2);
        this.hi = Math.sin(this.Pi - Math.PI / 2);
        this.Xb = Cb(this.Xb);
        this.Yb = Cb(this.Yb);
        this.gi = Cb(this.gi);
        this.hi = Cb(this.hi);
        this.nq = this.Kf;
        0 > this.Kf && (this.Xb *= -1, this.Yb *= -1, this.Kf = Math.abs(this.Kf))
    };
    p.S = function() {
        this.mj = this.r[0];
        this.vi = this.r[1];
        this.Ii = this.r[2];
        this.Sk = this.r[3];
        this.nq = this.Kf = this.r[4];
        this.Zn = this.r[5];
        this.aq = 0 !== this.r[6];
        this.Wq = this.r[7] / 1E3;
        this.BA = 1 === this.r[8];
        this.enabled = 0 !== this.r[9];
        this.Xj = !1;
        this.Yj = this.b.bg(this.d);
        this.kr = -1;
        this.mi = 0;
        this.Pi = Ya(90);
        this.Dx();
        var c = this;
        this.BA && !this.b.wb && (jQuery(document).keydown(function(f) {
            c.iD(f)
        }), jQuery(document).keyup(function(f) {
            c.jD(f)
        }));
        this.jd || (this.il = function(f) {
            c.ql(f)
        });
        this.b.tm(this.il);
        this.d.M.isPlatformBehavior = !0
    };
    p.Nc = function() {
        return {
            ii: this.Jq,
            lfx: this.Rh,
            lfy: this.Sh,
            lfo: this.Mc ? this.Mc.uid : -1,
            am: this.Be,
            en: this.enabled,
            fall: this.Fh,
            ft: this.gn,
            dx: this.qa,
            dy: this.Ua,
            ms: this.mj,
            acc: this.vi,
            dec: this.Ii,
            js: this.Sk,
            g: this.Kf,
            g1: this.nq,
            mf: this.Zn,
            wof: this.Xj,
            woj: this.Yj ? this.Yj.uid : -1,
            ga: this.Pi,
            edj: this.aq,
            cdj: this.dk,
            dj: this.mk,
            sus: this.Wq
        }
    };
    p.gd = function(c) {
        this.Jq = c.ii;
        this.Rh = c.lfx;
        this.Sh = c.lfy;
        this.jr = c.lfo;
        this.Be = c.am;
        this.enabled = c.en;
        this.Fh = c.fall;
        this.gn = c.ft;
        this.qa = c.dx;
        this.Ua = c.dy;
        this.mj = c.ms;
        this.vi = c.acc;
        this.Ii = c.dec;
        this.Sk = c.js;
        this.Kf = c.g;
        this.nq = c.g1;
        this.Zn = c.mf;
        this.Xj = c.wof;
        this.kr = c.woj;
        this.Pi = c.ga;
        this.aq = c.edj;
        this.dk = c.cdj;
        this.mk = c.dj;
        this.Wq = c.sus;
        this.No = this.rs = this.qs = this.aj = this.bj = this.Jl = this.Xk = !1;
        this.mi = 0;
        this.Dx()
    };
    p.ze = function() {
        -1 ===
            this.jr ? this.Mc = null : this.Mc = this.b.Gg(this.jr); - 1 === this.kr ? this.Yj = null : this.Yj = this.b.Gg(this.kr)
    };
    p.ql = function(c) {
        this.Mc == c && (this.Mc = null)
    };
    p.Uf = function() {
        this.Mc = null;
        this.b.Bw(this.il)
    };
    p.iD = function(c) {
        switch (c.which) {
            case 38:
                c.preventDefault();
                this.bj = !0;
                break;
            case 37:
                c.preventDefault();
                this.Xk = !0;
                break;
            case 39:
                c.preventDefault(), this.Jl = !0
        }
    };
    p.jD = function(c) {
        switch (c.which) {
            case 38:
                c.preventDefault();
                this.aj = this.bj = !1;
                break;
            case 37:
                c.preventDefault();
                this.Xk = !1;
                break;
            case 39:
                c.preventDefault(),
                    this.Jl = !1
        }
    };
    p.wj = function() {
        this.bj = this.Jl = this.Xk = !1
    };
    p.ne = function() {
        return 0 > this.Kf ? -1 : 1
    };
    p.Qu = function() {
        var c = null,
            f = null,
            e, d;
        e = this.d.x;
        d = this.d.y;
        this.d.x += this.Xb;
        this.d.y += this.Yb;
        this.d.H();
        if (this.Mc && this.b.qd(this.d, this.Mc) && (!this.b.Gs(this.Mc.type, Wc) || this.Mc.M.solidEnabled)) return this.d.x = e, this.d.y = d, this.d.H(), this.Mc;
        (c = this.b.rd(this.d)) || 0 !== this.Fh || (f = this.b.bg(this.d, !0));
        this.d.x = e;
        this.d.y = d;
        this.d.H();
        if (c) {
            if (this.b.qd(this.d, c)) return null;
            this.hn = !1;
            return c
        }
        if (f &&
            f.length) {
            d = c = 0;
            for (e = f.length; c < e; c++) f[d] = f[c], this.b.qd(this.d, f[c]) || d++;
            if (1 <= d) return this.hn = !0, f[0]
        }
        return null
    };
    p.zb = function() {};
    p.qw = function() {
        var c = this.b.vk(this.d),
            f, e, d, b, h, a, g, k, l;
        this.bj || this.No || (this.aj = !1);
        var m = this.Xk || this.qs;
        d = this.Jl || this.rs;
        var p = (b = this.bj || this.No) && !this.aj;
        this.No = this.rs = this.qs = !1;
        if (this.enabled) {
            this.Jq && (p = b = d = m = !1);
            b || (this.mi = 0);
            k = this.Mc;
            l = !1;
            this.gn && ((this.b.rd(this.d) || this.b.bg(this.d)) && this.b.Pe(this.d, -this.Xb, -this.Yb, 4, !0), this.gn = !1);
            !k || 0 !== this.Ua || k.y === this.Sh && k.x === this.Rh || (f = k.x - this.Rh, e = k.y - this.Sh, this.d.x += f, this.d.y += e, this.d.H(), this.Rh = k.x, this.Sh = k.y, l = !0, this.b.rd(this.d) && this.b.Pe(this.d, -f, -e, 2.5 * Math.sqrt(f * f + e * e)));
            var r = this.Qu();
            if (e = this.b.rd(this.d))
                if (this.d.M.inputPredicted) this.b.Pe(this.d, -this.Xb, -this.Yb, 10, !1);
                else if (this.b.KD(this.d, Math.max(this.d.width, this.d.height) / 2)) this.b.Fl(this.d, e);
            else return;
            r ? (this.dk = this.mk = !1, 0 < this.Ua && (this.Xj || (this.b.Sr(this.d, -this.Xb, -this.Yb, r), this.Xj = !0), this.Ua = 0), k != r) ? (this.Mc = r, this.Rh = r.x, this.Sh = r.y, this.b.Fl(this.d, r)) : l && (e = this.b.rd(this.d)) && (this.b.Fl(this.d, e), 0 !== f && (0 < f ? this.b.Pe(this.d, -this.gi, -this.hi) : this.b.Pe(this.d, this.gi, this.hi)), this.b.Pe(this.d, -this.Xb, -this.Yb)) : b || (this.dk = !0);
            if (r && p || !r && this.aq && b && this.dk && !this.mk) k = this.d.x, l = this.d.y, this.d.x -= this.Xb, this.d.y -= this.Yb, this.d.H(), this.b.rd(this.d) ? p = !1 : (this.mi = this.Wq, this.b.trigger(id.prototype.j.Ry, this.d), this.Be = 2, this.Ua = -this.Sk, p = !0, r ? this.aj = !0 : this.mk = !0), this.d.x = k, this.d.y = l, this.d.H();
            r || (b && 0 < this.mi ? (this.Ua = -this.Sk, this.mi -= c) : (this.Mc = null, this.Ua += this.Kf * c, this.Ua > this.Zn && (this.Ua = this.Zn)), p && (this.aj = !0));
            this.Xj = !!r;
            m == d && (0 > this.qa ? (this.qa += this.Ii * c, 0 < this.qa && (this.qa = 0)) : 0 < this.qa && (this.qa -= this.Ii * c, 0 > this.qa && (this.qa = 0)));
            m && !d && (this.qa = 0 < this.qa ? this.qa - (this.vi + this.Ii) * c : this.qa - this.vi * c);
            d && !m && (this.qa = 0 > this.qa ? this.qa + (this.vi + this.Ii) * c : this.qa + this.vi * c);
            this.qa > this.mj ? this.qa = this.mj : this.qa < -this.mj && (this.qa = -this.mj);
            m = !1;
            0 !== this.qa && (k = this.d.x, l = this.d.y, f = this.qa * c * this.gi, e = this.qa * c * this.hi, this.d.x += this.gi * (1 < this.qa ? 1 : -1) - this.Xb, this.d.y += this.hi * (1 < this.qa ? 1 : -1) - this.Yb, this.d.H(), b = !1, h = this.b.rd(this.d), this.d.x = k + f, this.d.y = l + e, this.d.H(), d = this.b.rd(this.d), !d && r && (d = this.b.bg(this.d)) && (this.d.x = k, this.d.y = l, this.d.H(), this.b.qd(this.d, d) ? (d = null, b = !1) : b = !0, this.d.x = k + f, this.d.y = l + e, this.d.H()), d ? (f = Math.abs(this.qa * c) + 2, h || !this.b.Pe(this.d, -this.Xb, -this.Yb, f, b, d)) ? (this.b.Fl(this.d,
                d), f = Math.max(Math.abs(this.qa * c * 2.5), 30), this.b.Pe(this.d, this.gi * (0 > this.qa ? 1 : -1), this.hi * (0 > this.qa ? 1 : -1), f, !1) ? !r || b || this.hn || (k = this.d.x, l = this.d.y, this.d.x += this.Xb, this.d.y += this.Yb, this.b.rd(this.d) ? this.b.Pe(this.d, -this.Xb, -this.Yb, 3, !1) || (this.d.x = k, this.d.y = l, this.d.H()) : (this.d.x = k, this.d.y = l, this.d.H())) : (this.d.x = k, this.d.y = l, this.d.H()), b || (this.qa = 0)) : !h && !p && Math.abs(this.Ua) < Math.abs(this.Sk / 4) && (this.Ua = 0, r || (m = !0)) : (k = this.Qu(), r && !k ? (e = Math.ceil(Math.abs(this.qa * c)) + 2, k = this.d.x,
                l = this.d.y, this.d.x += this.Xb * e, this.d.y += this.Yb * e, this.d.H(), this.b.rd(this.d) || this.b.bg(this.d) ? this.b.Pe(this.d, -this.Xb, -this.Yb, e + 2, !0) : (this.d.x = k, this.d.y = l, this.d.H())) : k && 0 === this.Ua && this.b.Sr(this.d, -this.Xb, -this.Yb, k)));
            if (0 !== this.Ua) {
                k = this.d.x;
                l = this.d.y;
                this.d.x += this.Ua * c * this.Xb;
                this.d.y += this.Ua * c * this.Yb;
                f = this.d.x;
                d = this.d.y;
                this.d.H();
                e = this.b.rd(this.d);
                b = !1;
                if (!e && 0 < this.Ua && !r) {
                    if ((b = 0 < this.Fh ? null : this.b.bg(this.d, !0)) && b.length) {
                        if (this.Yj) {
                            this.d.x = k;
                            this.d.y = l;
                            this.d.H();
                            g = h = 0;
                            for (a = b.length; h < a; h++) b[g] = b[h], this.b.qd(this.d, b[h]) || g++;
                            b.length = g;
                            this.d.x = f;
                            this.d.y = d;
                            this.d.H()
                        }
                        1 <= b.length && (e = b[0])
                    }
                    b = !!e
                }
                e && (this.b.Fl(this.d, e), this.mi = 0, f = b ? Math.abs(this.Ua * c * 2.5 + 10) : Math.max(Math.abs(this.Ua * c * 2.5 + 10), 30), this.b.Pe(this.d, this.Xb * (0 > this.Ua ? 1 : -1), this.Yb * (0 > this.Ua ? 1 : -1), f, b, e) ? (this.Mc = e, this.Rh = e.x, this.Sh = e.y, (this.hn = b) && (m = !0), this.Ua = 0) : (this.d.x = k, this.d.y = l, this.d.H(), this.Xj = !0, b || (this.Ua = 0)))
            }
            3 !== this.Be && 0 < this.Ua && !r && (this.b.trigger(id.prototype.j.Iy,
                this.d), this.Be = 3);
            if (r || m) 3 === this.Be || m || p && 0 === this.Ua ? (this.b.trigger(id.prototype.j.Sy, this.d), this.Be = 0 === this.qa && 0 === this.Ua ? 0 : 1) : (0 !== this.Be && 0 === this.qa && 0 === this.Ua && (this.b.trigger(id.prototype.j.iz, this.d), this.Be = 0), 1 === this.Be || 0 === this.qa && 0 === this.Ua || p || (this.b.trigger(id.prototype.j.Xy, this.d), this.Be = 1));
            0 < this.Fh && this.Fh--;
            this.Yj = this.b.bg(this.d)
        }
    };
    f.prototype.ly = function() {
        if (0 !== this.Ua) return !1;
        var c = null,
            f = null,
            e, d;
        e = this.d.x;
        d = this.d.y;
        this.d.x += this.Xb;
        this.d.y += this.Yb;
        this.d.H();
        (c = this.b.rd(this.d)) || 0 !== this.Fh || (f = this.b.bg(this.d, !0));
        this.d.x = e;
        this.d.y = d;
        this.d.H();
        if (c) return !this.b.qd(this.d, c);
        if (f && f.length) {
            d = c = 0;
            for (e = f.length; c < e; c++) f[d] = f[c], this.b.qd(this.d, f[c]) || d++;
            if (1 <= d) return !0
        }
        return !1
    };
    f.prototype.Ry = function() {
        return !0
    };
    f.prototype.Iy = function() {
        return !0
    };
    f.prototype.iz = function() {
        return !0
    };
    f.prototype.Xy = function() {
        return !0
    };
    f.prototype.Sy = function() {
        return !0
    };
    k.j = new f;
    m.prototype.Fz = function(c) {
        this.Ua = c
    };
    m.prototype.kt = function(c) {
        this.enabled !==
            (1 === c) && (this.enabled = 1 === c, this.enabled || (this.Mc = null))
    };
    k.C = new m;
    k.Xa = new function() {}
})();

function jd(f) {
    this.b = f
}
(function() {
    function f(c, f) {
        return (c /= f) < 1 / 2.75 ? 7.5625 * c * c + 0 : c < 2 / 2.75 ? 1 * (7.5625 * (c -= 1.5 / 2.75) * c + .75) + 0 : c < 2.5 / 2.75 ? 1 * (7.5625 * (c -= 2.25 / 2.75) * c + .9375) + 0 : 1 * (7.5625 * (c -= 2.625 / 2.75) * c + .984375) + 0
    }
    var m = jd.prototype;
    m.Ba = function(c) {
        this.behavior = c;
        this.b = c.b
    };
    m.Ba.prototype.S = function() {};
    m.na = function(c, f) {
        this.type = c;
        this.behavior = c.behavior;
        this.d = f;
        this.b = c.b;
        this.P = 0
    };
    var k = m.na.prototype;
    k.ne = function(c) {
        1 < c && (c = 1);
        Lc[this.group] = -1;
        Lc[this.group] = c;
        Lc[this.group] >= c && (Lc[this.group] = c)
    };
    k.zu = function() {
        "" !=
        this.group && ("undefined" === typeof Mc && (Mc = {}, Lc = {}), "undefined" === typeof Mc[this.group] && (Mc[this.group] = [], Lc[this.group] = -1), -1 == Mc[this.group].indexOf(this) && Mc[this.group].push(this))
    };
    k.bh = function() {
        this.Zd = this.d.width;
        this.Yd = this.d.height;
        this.Mj = this.d.k;
        this.vx = this.d.opacity;
        this.hh = this.d.x;
        this.ih = this.d.y;
        this.dp = this.value
    };
    k.S = function() {
        this.J = 1 === this.r[0];
        this.I = this.r[1];
        this.nk = this.r[2];
        this.A = this.r[3];
        this.target = this.r[4];
        this.duration = this.r[5];
        this.oi = this.r[6];
        this.X =
            this.r[7];
        this.value = this.r[8];
        this.Gc = this.r[9];
        this.jq = 1 === this.r[10];
        this.group = this.r[11];
        this.Zc = null;
        this.hd = 0;
        5 == this.X && (this.hd = 1);
        this.zu();
        this.Mh = !1;
        this.ka = this.d.x;
        this.Ob = this.d.y;
        this.la = parseFloat(this.target.split(",")[0]);
        this.Hb = parseFloat(this.target.split(",")[1]);
        this.bh();
        this.Nj = this.Bc = this.Wa = this.Kb = this.ua = 0;
        this.$g = this.d.height / this.d.width;
        this.Bo = this.reverse = !1;
        this.He = this.Ge = !0;
        this.loop = !1;
        this.hb = this.Va = 0;
        this.$q = this.X;
        this.fd = this.Hn = this.ua;
        this.Od = this.Kb;
        this.jq && this.init();
        "" == this.A && (this.A = "current");
        this.ol = this.sj = this.pl = this.tj = this.ul = this.vj = this.tl = this.uj = !1;
        this.J && this.init()
    };
    k.init = function() {
        this.uj = !1;
        "" === this.A && (this.A = "current");
        "" === this.target && (this.target = "current");
        var c = "current" === this.A,
            f = "current" === this.target,
            e = "OBJ" === this.target;
        "OBJ" === this.target && null != this.Zc && (0 == this.I ? this.target = 1 == this.Gc ? this.Zc.x - this.d.x + "," + (this.Zc.y - this.d.y) : this.Zc.x + "," + this.Zc.y : 1 == this.I || 2 == this.I || 3 == this.I || 7 == this.I ? this.target =
            1 == this.Gc ? (2 == this.I ? 1 : this.Zc.width) + "," + (3 == this.I ? 1 : this.Zc.height) : (2 == this.I ? 1 : this.Zc.width / this.Zd) + "," + (3 == this.I ? 1 : this.Zc.height / this.Yd) : 4 == this.I ? this.target = 1 == this.Gc ? Za(this.Zc.k - this.d.k) + "" : Za(this.Zc.k) + "" : 5 == this.I && (this.target = 1 == this.Gc ? 100 * (this.Zc.opacity - this.d.opacity) + "" : 100 * this.Zc.opacity + ""));
        if (0 == this.I) f && (this.target = this.d.x + "," + this.d.y), c ? this.A = 1 == this.Gc ? this.d.x + "," + this.d.y : this.hh + "," + this.ih : this.reverse || 1 == this.X || (this.d.x = parseFloat(this.A.split(",")[0]),
            this.d.y = parseFloat(this.A.split(",")[1])), 1 == this.Gc ? (this.loop && (this.d.x = this.hh, this.d.y = this.ih), this.ka = this.d.x, this.Ob = this.d.y, this.reverse ? (this.la = -parseFloat(this.target.split(",")[0]), this.Hb = -parseFloat(this.target.split(",")[1])) : (this.la = parseFloat(this.target.split(",")[0]), this.Hb = parseFloat(this.target.split(",")[1])), this.ua = this.ka, this.Kb = this.Ob, this.Wa = this.ua + this.la, this.Bc = this.Kb + this.Hb) : (this.reverse ? (this.d.x = parseFloat(this.target.split(",")[0]), this.d.y = parseFloat(this.target.split(",")[1]),
            this.la = this.hh, this.Hb = this.ih) : (this.d.x = this.hh, this.d.y = this.ih, this.la = parseFloat(this.target.split(",")[0]), this.Hb = parseFloat(this.target.split(",")[1])), this.ka = this.d.x, this.Ob = this.d.y, this.ua = this.ka, this.Kb = this.Ob, this.Wa = this.la, this.Bc = this.Hb, -6 == this.X && (this.Wa = this.hh, this.Bc = this.ih));
        else if (1 == this.I || 2 == this.I || 3 == this.I) {
            f && (this.target = "1,1");
            "current" == this.A && (this.A = "1,1");
            this.A = "" + this.A;
            this.target = "" + this.target;
            2 == this.I ? (-1 == this.A.indexOf(",") && (this.A = parseFloat(this.A) +
                ",1"), -1 == this.target.indexOf(",") && (this.target = parseFloat(this.target) + ",1")) : 3 == this.I ? (-1 == this.A.indexOf(",") && (this.A = "1," + parseFloat(this.A)), -1 == this.target.indexOf(",") && (this.target = "1," + parseFloat(this.target))) : (-1 == this.A.indexOf(",") && (this.A = parseFloat(this.A) + "," + parseFloat(this.A)), -1 == this.target.indexOf(",") && (this.target = parseFloat(this.target) + "," + parseFloat(this.target)));
            var d = parseFloat(this.A.split(",")[0]),
                b = parseFloat(this.A.split(",")[1]);
            this.Ge = !0;
            var h = parseFloat(this.target.split(",")[0]);
            if (0 == h || isNaN(h)) this.Ge = !1;
            3 == this.I && (this.Ge = !1);
            this.He = !0;
            var a = parseFloat(this.target.split(",")[1]);
            if (0 == a || isNaN(a)) this.He = !1;
            2 == this.I && (this.He = !1);
            1 == this.Gc ? (this.loop && (this.d.width = this.Zd, this.d.height = this.Yd), c || (this.reverse ? (this.d.width = this.d.width * h, this.d.height = this.d.height * a) : (this.d.width = this.d.width * d, this.d.height = this.d.height * b)), this.ka = this.d.width, this.Ob = this.d.height, this.ua = this.ka, this.Kb = this.Ob, this.reverse ? (this.la = this.ka * d / h, this.Hb = this.Ob * b / a) : (this.la =
                this.ka * h, this.Hb = this.Ob * a)) : (c || (this.reverse ? (this.d.width = this.Zd * h, this.d.height = this.Yd * a) : (this.d.width = this.Zd * d, this.d.height = this.Yd * b)), this.ka = this.d.width, this.Ob = this.d.height, this.ua = this.ka, this.Kb = this.Ob, this.reverse ? (this.la = this.Zd * d, this.Hb = this.Yd * b) : (this.la = this.Zd * h, this.Hb = this.Yd * a));
            this.Wa = this.la;
            this.Bc = this.Hb; - 6 == this.X && (this.Wa = this.Zd * d, this.Bc = this.Yd * b)
        } else if (4 == this.I) f && (this.target = Za(this.d.k)), "current" == this.A || this.reverse || 1 == this.X || (this.d.k = Ya(parseFloat(this.A.split(",")[0]))),
            1 == this.Gc ? (this.loop && (this.d.k = this.Mj), this.ka = this.d.k, this.reverse ? this.la = this.d.k - Ya(parseFloat(this.target.split(",")[0])) : this.la = this.d.k + Ya(parseFloat(this.target.split(",")[0]))) : this.reverse ? (this.d.k = Ya(parseFloat(this.target.split(",")[0])), this.ka = this.d.k, this.la = this.Mj) : (this.d.k = this.Mj, this.ka = this.d.k, this.la = Ya(parseFloat(this.target.split(",")[0]))), this.ua = this.ka, this.Wa = Za(this.la), -6 == this.X && (this.Wa = Za(this.Mj)), this.Nj = Ya(this.Wa);
        else if (5 == this.I) "current" == this.A &&
            (this.A = this.d.opacity), f && (this.target = "" + this.d.opacity), c || this.reverse || 1 == this.X || (this.d.opacity = parseFloat(this.A.split(",")[0]) / 100), 1 == this.Gc ? (this.loop && (this.d.opacity = this.vx), this.ua = this.ka = this.d.opacity, this.la = this.reverse ? -parseFloat(this.target.split(",")[0]) / 100 : parseFloat(this.target.split(",")[0]) / 100, this.Wa = this.ua + this.la) : (this.ka = this.d.opacity, this.reverse ? (this.ua = parseFloat(this.target.split(",")[0]) / 100, this.la = parseFloat(this.A.split(",")[0]) / 100) : (this.ua = this.ka,
                this.la = parseFloat(this.target.split(",")[0]) / 100), this.Wa = this.la), -6 == this.X && (this.Wa = this.vx);
        else if (6 == this.I) isNaN(this.value) && (this.value = 0), "current" == this.A && (this.A = "" + this.value), f && (this.target = "" + this.value), c || this.reverse || 1 == this.X || (this.value = parseFloat(this.A.split(",")[0])), 1 == this.Gc ? (this.loop && (this.value = this.dp), c || (this.value = this.reverse ? parseFloat(this.target.split(",")[0]) : parseFloat(this.A.split(",")[0])), this.ka = this.value, this.reverse ? this.la = this.ka - parseFloat(this.target.split(",")[0]) :
            this.la = this.ka + parseFloat(this.target.split(",")[0]), this.ua = this.ka, this.Wa = this.la) : (c || (this.value = this.reverse ? parseFloat(this.target.split(",")[0]) : parseFloat(this.A.split(",")[0])), this.ka = this.value, this.la = this.reverse ? parseFloat(this.A.split(",")[0]) : parseFloat(this.target.split(",")[0]), this.ua = this.ka, this.Wa = this.la), -6 == this.X && (this.Wa = this.dp);
        else if (7 == this.I) {
            f && (this.target = this.d.width + "," + this.d.height);
            "current" == this.A || this.reverse || 1 == this.X || (this.d.width = parseFloat(this.A.split(",")[0]),
                this.d.height = parseFloat(this.A.split(",")[1]));
            this.Ge = !0;
            h = parseFloat(this.target.split(",")[0]);
            if (0 > h || isNaN(h)) this.Ge = !1;
            this.He = !0;
            a = parseFloat(this.target.split(",")[1]);
            if (0 > a || isNaN(a)) this.He = !1;
            1 == this.Gc ? (this.loop && (this.d.width = this.Zd, this.d.height = this.Yd), this.ka = this.d.width, this.Ob = this.d.height, this.reverse ? (this.la = this.ka - parseFloat(this.target.split(",")[0]), this.Hb = this.Ob - parseFloat(this.target.split(",")[1])) : (this.la = this.ka + parseFloat(this.target.split(",")[0]), this.Hb =
                this.Ob + parseFloat(this.target.split(",")[1]))) : (c || (this.reverse ? (this.d.width = parseFloat(this.target.split(",")[0]), this.d.height = parseFloat(this.target.split(",")[1])) : (this.d.width = this.Zd, this.d.height = this.Yd)), this.ka = this.d.width, this.Ob = this.d.height, this.reverse ? (this.la = this.Zd, this.Hb = this.Yd) : (this.la = parseFloat(this.target.split(",")[0]), this.Hb = parseFloat(this.target.split(",")[1])));
            this.ua = this.ka;
            this.Kb = this.Ob;
            this.Wa = this.la;
            this.Bc = this.Hb; - 6 == this.X && (this.Wa = this.Zd, this.Bc =
                this.Yd)
        }
        this.fd = this.Hn = this.ua;
        this.Od = this.Kb;
        this.Va = parseFloat(this.oi.split(",")[0]);
        this.hb = parseFloat(this.oi.split(",")[1]);
        if (0 > this.Va || isNaN(this.Va)) this.Va = 0;
        if (0 > this.hb || isNaN(this.hb)) this.hb = 0;
        c && (this.A = "current");
        f && (this.target = "current");
        e && (this.target = "OBJ")
    };
    k.aB = function(c, k) {
        switch (this.nk) {
            case 0:
                return 1 * c / k + 0;
            case 1:
                return 1 * (c /= k) * c + 0;
            case 2:
                return -1 * (c /= k) * (c - 2) + 0;
            case 3:
                return 1 > (c /= k / 2) ? .5 * c * c + 0 : -.5 * (--c * (c - 2) - 1) + 0;
            case 4:
                return 1 * (c /= k) * c * c + 0;
            case 5:
                return 1 * ((c =
                    c / k - 1) * c * c + 1) + 0;
            case 6:
                return 1 > (c /= k / 2) ? .5 * c * c * c + 0 : .5 * ((c -= 2) * c * c + 2) + 0;
            case 7:
                return 1 * (c /= k) * c * c * c + 0;
            case 8:
                return -1 * ((c = c / k - 1) * c * c * c - 1) + 0;
            case 9:
                return 1 > (c /= k / 2) ? .5 * c * c * c * c + 0 : -.5 * ((c -= 2) * c * c * c - 2) + 0;
            case 10:
                return 1 * (c /= k) * c * c * c * c + 0;
            case 11:
                return 1 * ((c = c / k - 1) * c * c * c * c + 1) + 0;
            case 12:
                return 1 > (c /= k / 2) ? .5 * c * c * c * c * c + 0 : .5 * ((c -= 2) * c * c * c * c + 2) + 0;
            case 13:
                return -1 * (Math.sqrt(1 - (c /= k) * c) - 1) + 0;
            case 14:
                return 1 * Math.sqrt(1 - (c = c / k - 1) * c) + 0;
            case 15:
                return 1 > (c /= k / 2) ? -.5 * (Math.sqrt(1 - c * c) - 1) + 0 : .5 * (Math.sqrt(1 - (c -=
                    2) * c) + 1) + 0;
            case 16:
                var e = 0;
                0 == e && (e = 1.70158);
                return 1 * (c /= k) * c * ((e + 1) * c - e) + 0;
            case 17:
                return e = 0, 0 == e && (e = 1.70158), 1 * ((c = c / k - 1) * c * ((e + 1) * c + e) + 1) + 0;
            case 18:
                return e = 0, 0 == e && (e = 1.70158), 1 > (c /= k / 2) ? .5 * c * c * (((e *= 1.525) + 1) * c - e) + 0 : .5 * ((c -= 2) * c * (((e *= 1.525) + 1) * c + e) + 2) + 0;
            case 19:
                var d = 0,
                    b = 0;
                if (0 == c) break;
                if (1 == (c /= k)) return 1;
                0 == b && (b = .3 * k);
                0 == d || d < Math.abs(1) ? (d = 1, e = b / 4) : e = b / (2 * Math.PI) * Math.asin(1 / d);
                return -(d * Math.pow(2, 10 * --c) * Math.sin(2 * (c * k - e) * Math.PI / b)) + 0;
            case 20:
                b = d = 0;
                if (0 == c) break;
                if (1 == (c /= k)) return 1;
                0 == b && (b = .3 * k);
                0 == d || d < Math.abs(1) ? (d = 1, e = b / 4) : e = b / (2 * Math.PI) * Math.asin(1 / d);
                return d * Math.pow(2, -10 * c) * Math.sin(2 * (c * k - e) * Math.PI / b) + 1;
            case 21:
                b = d = 0;
                if (0 == c) break;
                if (2 == (c /= k / 2)) return 1;
                0 == b && (b = .3 * k * 1.5);
                0 == d || d < Math.abs(1) ? (d = 1, e = b / 4) : e = b / (2 * Math.PI) * Math.asin(1 / d);
                return 1 > c ? -.5 * d * Math.pow(2, 10 * --c) * Math.sin(2 * (c * k - e) * Math.PI / b) + 0 : d * Math.pow(2, -10 * --c) * Math.sin(2 * (c * k - e) * Math.PI / b) * .5 + 1;
            case 22:
                return 1 - f(k - c, k) + 0;
            case 23:
                return f(c, k);
            case 24:
                return c < k / 2 ? .5 * (1 - f(k - 2 * c, k) + 0) + 0 : .5 * f(2 * c - k, k) +
                    .5;
            case 25:
                return e = c / k / 2, 2 * e * e * (3 - 2 * e);
            case 26:
                return e = (c / k + 1) / 2, 2 * e * e * (3 - 2 * e) - 1;
            case 27:
                return e = c / k, e * e * (3 - 2 * e)
        }
        return 0
    };
    k.Nc = function() {
        return {
            i: this.P,
            active: this.J,
            tweened: this.I,
            easing: this.nk,
            initial: this.A,
            target: this.target,
            duration: this.duration,
            wait: this.oi,
            playmode: this.X,
            value: this.value,
            coord_mode: this.Gc,
            forceInit: this.jq,
            group: this.group,
            targetObject: this.Zc,
            pingpongCounter: this.hd,
            isPaused: this.Mh,
            initialX: this.ka,
            initialY: this.Ob,
            targetX: this.la,
            targetY: this.Hb,
            tweenSaveWidth: this.Zd,
            tweenSaveHeight: this.Yd,
            tweenSaveAngle: this.Mj,
            tweenSaveX: this.hh,
            tweenSaveY: this.ih,
            tweenSaveValue: this.dp,
            tweenInitialX: this.ua,
            tweenInitialY: this.Kb,
            tweenTargetX: this.Wa,
            tweenTargetY: this.Bc,
            tweenTargetAngle: this.Nj,
            ratio: this.$g,
            reverse: this.reverse,
            rewindMode: this.Bo,
            doTweenX: this.Ge,
            doTweenY: this.He,
            loop: this.loop,
            initiating: this.Va,
            cooldown: this.hb,
            lastPlayMode: this.$q,
            lastKnownValue: this.Hn,
            lastKnownX: this.fd,
            lastKnownY: this.Od,
            onStarted: this.uj,
            onStartedDone: this.tl,
            onWaitEnd: this.vj,
            onWaitEndDone: this.ul,
            onEnd: this.tj,
            onEndDone: this.pl,
            onCooldown: this.sj,
            onCooldownDone: this.ol
        }
    };
    k.gd = function(c) {
        this.P = c.i;
        this.J = c.active;
        this.I = c.tweened;
        this.nk = c.easing;
        this.A = c.initial;
        this.target = c.target;
        this.duration = c.duration;
        this.oi = c.wait;
        this.X = c.playmode;
        this.value = c.value;
        this.Gc = c.coord_mode;
        this.jq = c.forceInit;
        this.group = c.group;
        this.Zc = c.targetObject;
        this.hd = c.pingpongCounter;
        this.Mh = c.isPaused;
        this.ka = c.initialX;
        this.Ob = c.initialY;
        this.la = c.targetX;
        this.Hb = c.targetY;
        this.Zd = c.tweenSaveWidth;
        this.Yd =
            c.tweenSaveHeight;
        this.Mj = c.tweenSaveAngle;
        this.hh = c.tweenSaveX;
        this.ih = c.tweenSaveY;
        this.dp = c.tweenSaveValue;
        this.ua = c.tweenInitialX;
        this.Kb = c.tweenInitialY;
        this.Wa = c.tweenTargetX;
        this.Bc = c.tweenTargetY;
        this.Nj = c.tweenTargetAngle;
        this.$g = c.ratio;
        this.reverse = c.reverse;
        this.Bo = c.rewindMode;
        this.Ge = c.doTweenX;
        this.He = c.doTweenY;
        this.loop = c.loop;
        this.Va = c.initiating;
        this.hb = c.cooldown;
        this.$q = c.lastPlayMode;
        this.Hn = c.lastKnownValue;
        this.fd = c.lastKnownX;
        this.Od = c.lastKnownY;
        this.uj = c.onStarted;
        this.tl =
            c.onStartedDone;
        this.vj = c.onWaitEnd;
        this.ul = c.onWaitEndDone;
        this.tj = c.onEnd;
        this.pl = c.onEndDone;
        this.sj = c.onCooldown;
        this.ol = c.onCooldownDone;
        this.zu()
    };
    k.zb = function() {
        var c = this.b.vk(this.d),
            f = -1 == this.P;
        this.J && 0 !== c && (0 != this.P || this.uj || (this.uj = !0, this.ol = this.sj = this.pl = this.tj = this.ul = this.vj = this.tl = !1, this.b.trigger(jd.prototype.j.hz, this.d), this.tl = !0), this.P = -1 == this.P ? this.Va + this.duration + this.hb : this.P + c, this.P <= this.Va || (0 == this.vj && (this.vj = !0, this.b.trigger(jd.prototype.j.pz, this.d),
            this.ul = !0), this.P <= this.duration + this.Va && (c = this.aB(this.P - this.Va, this.duration), 0 == this.I ? (1 == this.Gc ? (this.d.x !== this.fd && (this.ua += this.d.x - this.fd, this.Wa += this.d.x - this.fd), this.d.y !== this.Od && (this.Kb += this.d.y - this.Od, this.Bc += this.d.y - this.Od)) : (this.d.x !== this.fd && (this.ua += this.d.x - this.fd), this.d.y !== this.Od && (this.Kb += this.d.y - this.Od)), this.d.x = this.ua + (this.Wa - this.ua) * c, this.d.y = this.Kb + (this.Bc - this.Kb) * c, this.fd = this.d.x, this.Od = this.d.y) : 1 == this.I || 2 == this.I || 3 == this.I ? (this.d.width !==
                this.fd && (this.ua = this.d.width), this.d.height !== this.Od && (this.Kb = this.d.height), this.Ge && (this.d.width = this.ua + (this.Wa - this.ua) * c), this.He ? this.d.height = this.Kb + (this.Bc - this.Kb) * c : 1 == this.I && (this.d.height = this.d.width * this.$g), this.fd = this.d.width, this.Od = this.d.height) : 4 == this.I ? (c = this.ua + (this.Nj - this.ua) * c, this.P >= this.duration + this.Va && (c = this.Nj), this.d.k = ab(c)) : 5 == this.I ? (1 == this.Gc && this.d.opacity !== this.fd && (this.ua = this.d.opacity), this.d.opacity = this.ua + (this.Wa - this.ua) * c, this.fd = this.d.opacity) :
            6 == this.I ? this.value = this.ua + (this.Wa - this.ua) * c : 7 == this.I && (1 == this.Gc && (this.d.width !== this.fd && (this.ua = this.d.width), this.d.height !== this.Od && (this.Kb = this.d.height)), this.Ge && (this.d.width = this.ua + (this.Wa - this.ua) * c), this.He && (this.d.height = this.Kb + (this.Bc - this.Kb) * c), this.fd = this.d.width, this.Od = this.d.height), this.d.H()), this.P >= this.duration + this.Va && (this.GA(f), this.d.H(), 0 == this.tj && (this.tj = !0, this.b.trigger(jd.prototype.j.Hy, this.d), this.pl = !0))))
    };
    k.GA = function(c) {
        switch (this.I) {
            case 0:
                this.d.x =
                    this.Wa;
                this.d.y = this.Bc;
                break;
            case 1:
                this.Ge && (this.d.width = this.Wa);
                this.He ? this.d.height = this.Bc : this.d.height = this.d.width * this.$g;
                break;
            case 2:
                this.d.width = this.Wa;
                break;
            case 3:
                this.d.height = this.Bc;
                break;
            case 4:
                this.d.k = ab(this.Nj);
                this.Hn = this.d.k;
                break;
            case 5:
                this.d.opacity = this.Wa;
                break;
            case 6:
                this.value = this.Wa;
                break;
            case 7:
                this.Ge && (this.d.width = this.Wa), this.He && (this.d.height = this.Bc)
        }
        this.P >= this.duration + this.Va + this.hb && (0 == this.X ? (this.reverse = this.J = !1, this.P = this.duration + this.Va +
            this.hb) : 1 == this.X ? (this.P = 0, this.init(), this.J = !0) : 2 == this.X ? c ? (this.reverse = !1, this.init()) : (this.reverse = !this.reverse, this.P = 0, this.init(), this.J = !0) : 3 == this.X ? this.b.kg(this.d) : 4 == this.X ? (this.loop = !0, this.P = 0, this.init(), this.J = !0) : 5 == this.X ? c ? (this.reverse = !1, this.init()) : 0 >= this.hd ? (this.P = this.duration + this.Va + this.hb, this.J = !1) : (this.reverse ? (--this.hd, this.reverse = !1) : (--this.hd, this.reverse = !0), this.P = 0, this.init(), this.J = !0) : -6 == this.X ? (this.X = this.$q, this.reverse = !1, this.P = 0, this.J = !1) : 6 == this.X && (this.reverse = !1, this.P = this.duration + this.Va + this.hb, this.J = !1));
        0 == this.sj && (this.sj = !0, this.b.trigger(jd.prototype.j.Dy, this.d), this.ol = !0)
    };
    m.j = {};
    k = m.j;
    k.yF = function() {
        return this.J
    };
    k.dF = function(c, f) {
        var e = [];
        Mc[this.group].forEach(function(c) {
            e.push(c.P / (c.duration + c.Va + c.hb))
        });
        return Kc(Math.min.apply(null, e), c, f)
    };
    k.gF = function(c, f) {
        return Kc(this.P / (this.duration + this.Va + this.hb), c, f)
    };
    k.hz = function() {
        if (!1 === this.tl) return this.uj
    };
    k.pz = function() {
        if (!1 === this.ul) return this.vj
    };
    k.Hy = function() {
        if (!1 === this.pl) return this.tj
    };
    k.Dy = function() {
        if (!1 === this.ol) return this.sj
    };
    m.C = {};
    var p = m.C;
    p.mG = function(c) {
        this.J = 1 === c
    };
    p.HG = function(c, f) {
        "" === f && (f = this.group);
        (1 === c || Mc[f].every(function(c) {
            return !c.J
        })) && Mc[f].forEach(function(e) {
            1 === c ? p.by.apply(e) : p.nt.apply(e)
        })
    };
    p.IG = function(c, f) {
        "" === f && (f = this.group);
        Mc[f].forEach(function(e) {
            p.pm.apply(e, [c])
        })
    };
    p.eG = function(c, f, e) {
        "" === e && (e = this.group);
        (1 === c || Mc[e].every(function(c) {
            return !c.J
        })) && Mc[e].forEach(function(d) {
            1 ===
                c ? p.cy.apply(d, [f]) : p.it.apply(d, [f])
        })
    };
    p.by = function() {
        this.loop = 4 === this.X;
        5 == this.X && (this.hd = 1);
        6 == this.X || -6 == this.X ? this.P < this.duration + this.hb + this.Va && (this.reverse = !1, this.init(), this.J = !0) : (this.reverse = !1, this.P = 0, this.init(), this.J = !0)
    };
    p.cy = function(c) {
        this.Bo = 1 == c;
        this.loop = 4 === this.X;
        5 == this.X && (this.hd = 1);
        6 == this.X || -6 == this.X ? this.P < this.duration + this.hb + this.Va && (this.reverse = !0, this.init(), this.J = !0) : c ? 1 == this.hd && this.P >= this.duration + this.hb + this.Va && (this.reverse = !0, this.P =
            0, this.hd = 2, this.init(), this.J = !0) : (this.reverse = !0, this.P = 0, this.init(), this.J = !0)
    };
    p.nt = function() {
        this.J || (this.loop = 4 === this.X, 5 == this.X && (this.hd = 1), 6 == this.X || -6 == this.X ? this.P < this.duration + this.hb + this.Va && (this.reverse = !1, this.init(), this.J = !0) : (this.hd = 1, this.reverse = !1, this.P = 0, this.init(), this.J = !0))
    };
    p.pm = function(c) {
        this.J && (2 == this.X || 4 == this.X ? this.P = this.reverse ? 0 : -1 : 1 == c ? this.bh() : 0 == c ? this.P = this.Va + this.hb + this.duration : this.P = 0, this.zb(), this.J = !1)
    };
    p.SF = function() {
        this.J && (this.Mh = !0, this.J = !1)
    };
    p.dG = function() {
        this.Mh ? (this.J = !0, this.Mh = !1) : this.J || (this.reverse = !1, this.P = 0, this.init(), this.J = !0)
    };
    p.it = function(c) {
        this.Bo = 1 == c;
        this.J || (this.loop = 4 === this.X, 5 == this.X && (this.hd = 1), 6 == this.X || -6 == this.X ? this.P < this.duration + this.hb + this.Va && (this.reverse = !0, this.init(), this.J = !0) : c ? 1 == this.hd && this.P >= this.duration + this.hb + this.Va && (this.reverse = !0, this.P = 0, this.hd = 2, this.init(), this.J = !0) : (this.reverse = !0, this.P = 0, this.init(), this.J = !0))
    };
    p.jt = function(c) {
        this.duration = c
    };
    p.Gz =
        function(c) {
            this.oi = c;
            this.Va = parseFloat(this.oi.split(",")[0]);
            this.hb = parseFloat(this.oi.split(",")[1]);
            if (0 > this.Va || isNaN(this.Va)) this.Va = 0;
            if (0 > this.hb || isNaN(this.hb)) this.hb = 0
        };
    p.Dz = function(c) {
        "string" == typeof c ? (this.target = c, this.la = parseFloat(c.split(",")[0]), this.Hb = parseFloat(c.split(",")[1])) : this.la = this.target = c;
        this.J || this.init()
    };
    p.xG = function(c) {
        c && (c = c.uq()) && (this.Zc = c, this.target = "OBJ")
    };
    p.yG = function(c) {
        2 == this.I || 3 == this.I || 4 == this.I || 5 == this.I || 6 == this.I ? ("string" == typeof c ?
            this.target = parseFloat(c.split(",")[0]) : this.target = "" + c + "," + this.Hb, this.la = this.target) : (this.target = String(c) + "," + this.target.split(",")[1], this.la = parseFloat(this.target.split(",")[0]), this.Hb = parseFloat(this.target.split(",")[1]));
        this.J || (this.bh(), this.init())
    };
    p.zG = function(c) {
        2 == this.I || 3 == this.I || 4 == this.I || 5 == this.I || 6 == this.I ? this.la = this.target = "string" == typeof c ? parseFloat(c) + "" : this.la + "," + c : (this.target = this.target.split(",")[0] + "," + String(c), this.la = parseFloat(this.target.split(",")[0]),
            this.Hb = parseFloat(this.target.split(",")[1]));
        this.J || (this.bh(), this.init())
    };
    p.xz = function(c) {
        "string" == typeof c ? (this.A = c, this.ka = parseFloat(c.split(",")[0]), this.Ob = parseFloat(c.split(",")[1])) : (this.A = "" + c, this.ka = c);
        6 == this.I && (this.value = this.ka);
        this.J || (this.bh(), this.init())
    };
    p.rG = function(c) {
        2 == this.I || 3 == this.I || 4 == this.I || 5 == this.I || 6 == this.I ? ("string" == typeof c ? this.A = parseFloat(c) : this.A = "" + c + "," + this.Ob, this.ka = this.A) : ("" == this.A && (this.A = "current"), this.A = String(c) + "," + ("current" ==
            this.A ? this.ih : this.A.split(",")[1]), this.ka = parseFloat(this.A.split(",")[0]), this.Ob = parseFloat(this.A.split(",")[1]));
        6 == this.I && (this.value = this.ka);
        this.J || (this.bh(), this.init())
    };
    p.yz = function(c) {
        2 == this.I || 3 == this.I || 4 == this.I || 5 == this.I || 6 == this.I ? ("string" == typeof c ? this.A = parseFloat(c) : this.A = "" + this.ka + "," + c, this.ka = this.A) : ("" == this.A && (this.A = "current"), this.A = ("current" == this.A ? this.hh : this.A.split(",")[0]) + "," + String(c), this.ka = parseFloat(this.A.split(",")[0]), this.Ob = parseFloat(this.A.split(",")[1]));
        this.J || (this.bh(), this.init())
    };
    p.CG = function(c) {
        this.value = c
    };
    p.BG = function(c) {
        this.I = c
    };
    p.nG = function(c) {
        this.nk = c
    };
    p.uG = function(c) {
        this.X = c
    };
    p.tG = function(c, f, e, d, b, h, a, g) {
        this.I = c;
        this.X = f;
        this.nk = e;
        p.xz.apply(this, [d]);
        p.Dz.apply(this, [b]);
        p.jt.apply(this, [h]);
        p.Gz.apply(this, [a]);
        this.Gc = g;
        this.bh()
    };
    m.Xa = {};
    m = m.Xa;
    m.$F = function(c) {
        c.B(this.P / (this.duration + this.Va + this.hb))
    };
    m.aG = function(c) {
        c.B(this.P)
    };
    m.Zx = function(c) {
        c.B(this.duration)
    };
    m.xF = function(c) {
        c.B(this.Va)
    };
    m.kF = function(c) {
        c.B(this.hb)
    };
    m.LG = function(c) {
        c.qc(this.target)
    };
    m.OG = function(c) {
        c.B(this.value)
    };
    m.Mh = function(c) {
        c.bb(this.Mh ? 1 : 0)
    }
})();
(function() {
    function f(a, b) {
        return (b - a.WD) * a.ws
    }

    function m(a, b) {
        return (a.XD - b) * a.ws
    }

    function k(a, b, c, d, e, g) {
        var f;
        f = a.Le + b.Le;
        var h = a.ya,
            k = c.x * c.x * h;
        a = -c.x * c.y * h;
        c = f + c.y * c.y * h;
        f += k;
        h = b.ya;
        b = d.x * d.x * h;
        k = -d.x * d.y * h;
        c += d.y * d.y * h;
        d = 0 + a + k;
        a = 0 + a + k;
        f += b;
        b = c * f - d * a;
        oa(0 !== b, "Unsolvable constraint.");
        b = 1 / b;
        e.x = f * b;
        e.y = -d * b;
        g.x = -a * b;
        g.y = c * b
    }

    function p(a, b, d, e, g) {
        a = c(a, d, g) + c(b, e, g);
        oa(0 !== a, "Unsolvable collision or constraint.");
        return a
    }

    function c(a, b, c) {
        b = Da(b, c);
        return a.Le + a.ya * b * b
    }

    function t(a, b, c, d) {
        a.Rj +=
            b * a.Le;
        a.Sj += c * a.Le;
        a.kh += a.ya * (d.x * c - d.y * b)
    }

    function e(a, b, c, e, g, f) {
        d(a, -g, -f, c);
        d(b, g, f, e)
    }

    function d(a, b, c, d) {
        a.Qc += b * a.Le;
        a.Rc += c * a.Le;
        a.q += a.ya * (d.x * c - d.y * b)
    }

    function b(a, b, c, d, e) {
        return (b.Qc + -d.y * b.q - (a.Qc + -c.y * a.q)) * e.x + (b.Rc + d.x * b.q - (a.Rc + c.x * a.q)) * e.y
    }

    function h(a, b, c, d) {
        return new J(b.Qc + -d.y * b.q - (a.Qc + -c.y * a.q), b.Rc + d.x * b.q - (a.Rc + c.x * a.q))
    }

    function a(a) {
        var b = a.body;
        a.update(b.Da, b.pb)
    }

    function g(a, b) {
        var c = pd;
        if (a.Sa <= b.Ta && b.Sa <= a.Ta && a.Na <= b.Oa && b.Na <= a.Oa && a.body !== b.body && (!a.group ||
                a.group !== b.group) && a.U & b.U) {
            var d = c.kv(a.ek, b.ek),
                e = a.Hw || b.Hw;
            if (!e || d !== qd) {
                if (a.Bf > b.Bf) {
                    var g = a;
                    a = b;
                    b = g
                }
                g = yd(a, b);
                if (0 !== g.length) {
                    var f = P(a.tb, b.tb),
                        h = c.bf[f];
                    h || (h = c.bf[f] = new w(a, b));
                    h.update(g, d, a, b);
                    "ignore" !== h.state && d.uo(h, c) && !e ? c.yi.push(h) : (h.ge = null, "ignore" !== h.state && (h.state = "normal"));
                    h.Vb = c.Vb
                }
            }
        }
    }

    function q(a, b) {
        if (!b.Ya()) {
            var c = b ? b.Vg : null;
            if (null == c) {
                b.Vg = a;
                b !== a && (b.pe = a.pe, a.pe = b);
                for (c = b.qh; c; c = c.next(b)) q(a, b == c.rb ? c.Ee : c.rb);
                for (c = b.Di; c; c = c.next(b)) q(a, b == c.u ? c.L : c.u)
            } else oa(c ===
                a, "Internal Error: Inconsistency detected in the contact graph.")
        }
    }

    function l(a) {
        W(!a.Cd, "This addition/removal cannot be done safely during a call to cpSpaceStep() \r\n or during a query. Put these calls into a post-step callback.")
    }

    function N(a, b, c, d, e) {
        for (var g = Da(b.vf, b.od), f = Da(b.vf, b.Vd), h = Z(b.vf, e), k = c.ag, l = 0; l < k.length; l += 2) {
            var m = k[l],
                n = k[l + 1];
            if (m * h.x + n * h.y < ca(b.vf, b.od) * e + b.Qa) {
                var p = b.vf.x * n - b.vf.y * m;
                g >= p && p >= f && a.push(new S(new J(m, n), h, d, P(c.tb, l)))
            }
        }
    }

    function O(a, b, c) {
        var d = ca(b, a.od) -
            a.Qa;
        a = ca(b, a.Vd) - a.Qa;
        return la(d, a) - c
    }

    function r(a, b, c, d) {
        for (var e = [], g = a.ag, f = 0; f < g.length; f += 2) {
            var h = g[f],
                k = g[f + 1];
            b.Mm(h, k) && e.push(new S(new J(h, k), c, d, P(a.tb, f >> 1)))
        }
        g = b.ag;
        for (f = 0; f < g.length; f += 2) h = g[f], k = g[f + 1], a.Mm(h, k) && e.push(new S(new J(h, k), c, d, P(b.tb, f >> 1)));
        if (!e.length) {
            e = [];
            g = a.ag;
            for (f = 0; f < g.length; f += 2) h = g[f], k = g[f + 1], b.Vt(h, k, qa(c)) && e.push(new S(new J(h, k), c, d, P(a.tb, f)));
            g = b.ag;
            for (f = 0; f < g.length; f += 2) h = g[f], k = g[f + 1], a.Vt(h, k, c) && e.push(new S(new J(h, k), c, d, P(b.tb, f)))
        }
        return a =
            e
    }

    function n(a, b) {
        var c = 0,
            d = a.jp(b[0].O, b[0].he);
        if (0 < d) return -1;
        for (var e = 1; e < b.length; e++) {
            var g = a.jp(b[e].O, b[e].he);
            if (0 < g) return -1;
            g > d && (d = g, c = e)
        }
        lc = d;
        return c
    }

    function u(a, b, c, d) {
        d = c + d;
        b = da(b, a);
        var e = bb(b);
        if (!(e >= d * d)) return e = Math.sqrt(e), new S(ba(a, Z(b, .5 + (c - .5 * d) / (e ? e : Infinity))), e ? Z(b, 1 / e) : new J(1, 0), e - d, 0)
    }

    function S(a, b, c, d) {
        this.Da = a;
        this.O = b;
        this.kk = c;
        this.Y = this.Z = pa;
        this.mc = this.Qh = this.Qk = this.Me = this.kx = this.It = this.cb = 0;
        this.hash = d;
        zd++
    }

    function B(a, b, c) {
        b ? b.rb === a ? b.Hj = c : b.Jj =
            c : a.qh = c;
        c && (c.rb === a ? c.Ij = b : c.Kj = b)
    }

    function w(a, b) {
        this.Oj = this.Ki = 0;
        this.jx = pa;
        this.u = a;
        this.rb = a.body;
        this.L = b;
        this.Ee = b.body;
        this.ge = this.Jj = this.Kj = this.Hj = this.Ij = null;
        this.Vb = 0;
        this.Dq = null;
        this.xs = !1;
        this.state = "first coll"
    }

    function H(a, b) {
        !a.zn && 10 >= b && (H(a.Sc, b + 1), H(a.Gd, b + 1));
        for (var c = "", d = 0; d < b; d++) c += " ";
        console.log(c + a.Na + " " + a.Oa)
    }

    function E(a, b) {
        return a.Sa <= b.Ta && b.Sa <= a.Ta && a.Na <= b.Oa && b.Na <= a.Oa
    }

    function z(a, b, c) {
        if (b == a) return null;
        var d = b.parent;
        if (d == a) return b = a.$v(b), b.parent =
            a.parent, a.fi(c), b;
        d.parent.replaceChild(d, d.$v(b), c);
        return a
    }

    function x(a, b, c) {
        a.Lu(b) && (a.zn ? c(a.ca) : (x(a.Sc, b, c), x(a.Gd, b, c)))
    }

    function K(a, b, c) {
        if (null == a) return b;
        if (a.zn) return c.aD(b, a);
        var d = a.Gd.Bp() + D(a.Sc, b),
            e = a.Sc.Bp() + D(a.Gd, b);
        d === e && (d = Y(a.Sc, b), e = Y(a.Gd, b));
        e < d ? a.hs(K(a.Gd, b, c)) : a.gs(K(a.Sc, b, c));
        a.Sa = la(a.Sa, b.Sa);
        a.Na = la(a.Na, b.Na);
        a.Ta = ha(a.Ta, b.Ta);
        a.Oa = ha(a.Oa, b.Oa);
        return a
    }

    function Y(a, b) {
        return Math.abs(a.Sa + a.Ta - b.Sa - b.Ta) + Math.abs(a.Na + a.Oa - b.Na - b.Oa)
    }

    function D(a, b) {
        return (ha(a.Ta,
            b.Ta) - la(a.Sa, b.Sa)) * (ha(a.Oa, b.Oa) - la(a.Na, b.Na))
    }

    function X(a, b, c) {
        var d = a.Wg,
            e = b.Wg;
        c = c.bD(a, d, b, e);
        a.Wg = b.Wg = c;
        d && (d.Og === a ? d.ei = c : d.zl = c);
        e && (e.Og === b ? e.ei = c : e.zl = c)
    }

    function T(a, b, c) {
        c && (c.Og === b ? c.ei = a : c.zl = a);
        a ? a.Og === b ? a.kl = c : a.ll = c : b.Wg = c
    }

    function Q(a, b, c, d) {
        this.ei = null;
        this.Og = a;
        this.kl = b;
        this.zl = null;
        this.hr = c;
        this.ll = d
    }

    function L(a, b) {
        this.ca = b;
        a.oq(b, this);
        this.parent = null;
        this.Vb = 1;
        this.Wg = null;
        Ad++
    }

    function v(a, b, c) {
        this.ca = null;
        this.Sa = la(b.Sa, c.Sa);
        this.Na = la(b.Na, c.Na);
        this.Ta =
            ha(b.Ta, c.Ta);
        this.Oa = ha(b.Oa, c.Oa);
        this.parent = null;
        this.gs(b);
        this.hs(c)
    }

    function F(a, b, c) {
        if (a === c) return a.next(b);
        a.u === b ? a.Br = F(a.Br, b, c) : a.Cr = F(a.Cr, b, c);
        return a
    }

    function C(a, b) {
        this.O = a;
        this.he = b
    }

    function R(a) {
        for (var b = a.length, c = 0; c < b; c += 2) {
            var d = a[(c + 2) % b],
                e = a[(c + 3) % b];
            if (0 < (d - a[c]) * (a[(c + 5) % b] - e) - (e - a[c + 1]) * (a[(c + 4) % b] - d)) return !1
        }
        return !0
    }

    function G(a, b, c) {
        return la(ha(a, b), c)
    }

    function I(a, b, c, d, e, g, f, h) {
        if (0 > d) return 0;
        if (0 == d) return b[2 * h] = g.x, b[2 * h + 1] = g.y, 1;
        var k = M(b, c, d, e, g, a),
            l =
            new J(b[2 * c], b[2 * c + 1]);
        e = I(a, b, c + 1, k - 1, e, l, g, h);
        l = h + e++;
        b[2 * l] = g.x;
        b[2 * l + 1] = g.y;
        d = M(b, c + k, d - k, g, f, a);
        l = new J(b[2 * (c + k)], b[2 * (c + k) + 1]);
        return e + I(a, b, c + k + 1, d - 1, g, l, f, h + e)
    }

    function M(a, b, c, d, e, g) {
        if (0 === c) return 0;
        var f = 0,
            h = b;
        e = da(e, d);
        g = g * fa(e);
        var k = b;
        for (c = b + c - 1; k <= c;) {
            var l = new J(a[2 * k], a[2 * k + 1]),
                l = Da(e, da(l, d));
            l > g ? (l > f && (f = l, h = k), k++) : (V(a, k, c), c--)
        }
        h != b && V(a, b, h);
        return k - b
    }

    function V(a, b, c) {
        var d = a[2 * b];
        a[2 * b] = a[2 * c];
        a[2 * c] = d;
        d = a[2 * b + 1];
        a[2 * b + 1] = a[2 * c + 1];
        a[2 * c + 1] = d
    }

    function ka(a, b) {
        for (var c =
                0; c < a.length; c++)
            if (a[c] === b) {
                a[c] = a[a.length - 1];
                a.length--;
                break
            }
    }

    function P(a, b) {
        return a < b ? a + " " + b : b + " " + a
    }

    function Ia(a, b) {
        return a > b ? a : b
    }

    function Ca(a, b) {
        return a < b ? a : b
    }

    function oa(a, b) {
        !a && console && console.warn && (console.warn("ASSERTION FAILED: " + b), console.trace && console.trace())
    }

    function W(a, b) {
        if (!a) throw Error("Assertion failed: " + b);
    }
    Object.create = Object.create || function(a) {
        function b() {}
        b.prototype = a;
        return new b
    };
    var A;
    "undefined" === typeof exports ? (A = {}, "object" === typeof window && (window.cp =
        A)) : A = exports;
    var la, ha;
    "object" === typeof window && -1 < window.navigator.userAgent.indexOf("Firefox") ? (la = Math.min, ha = Math.max) : (la = Ca, ha = Ia);
    A.Fv = function(a, b) {
        var c = cp.D(0, 0);
        return a * (.5 * (b * b + 0) + bb(c))
    };
    A.cA = function(a) {
        return Math.PI * Math.abs(a * a - 0)
    };
    A.Gv = function(a, b, c) {
        var d = Z(ba(b, c), .5);
        return a * (md(c, b) / 12 + bb(d))
    };
    A.dA = function(a, b, c) {
        return c * (Math.PI * c + 2 * ud(a, b))
    };
    A.xr = function(a, b, c) {
        for (var d = 0, e = 0, g = b.length, f = 0; f < g; f += 2) var h = b[f] + c.x,
            k = b[f + 1] + c.y,
            l = b[(f + 2) % g] + c.x,
            m = b[(f + 3) % g] + c.y,
            n = l *
            k - m * h,
            d = d + n * (h * h + k * k + (h * l + k * m) + (l * l + m * m)),
            e = e + n;
        return a * d / (6 * e)
    };
    A.Ap = function(a) {
        for (var b = 0, c = 0, d = a.length; c < d; c += 2) b += Da(new J(a[c], a[c + 1]), new J(a[(c + 2) % d], a[(c + 3) % d]));
        return -b / 2
    };
    A.lA = function(a) {
        for (var b = 0, c = new J(0, 0), d = 0, e = a.length; d < e; d += 2) var g = new J(a[d], a[d + 1]),
            f = new J(a[(d + 2) % e], a[(d + 3) % e]),
            h = Da(g, f),
            b = b + h,
            c = ba(c, Z(ba(g, f), h));
        return Z(c, 1 / (3 * b))
    };
    A.tH = function(a) {
        for (var b = A.lA(a), c = 0; c < a.length; c += 2) a[c] -= b.x, a[c + 1] -= b.y
    };
    A.Ev = function(a, b, c) {
        return a * (b * b + c * c) / 12
    };
    A.eH = function(a,
        b) {
        var c = b.Qa - b.Vk,
            d = b.Pc - b.L,
            e = Z([b.Vk + b.Qa, b.L + b.Pc], .5);
        return A.Ev(a, c, d) + a * bb(e)
    };
    var yb = A.dH = function(a) {
        var b = 0,
            c = 0,
            d, e, g, f;
        d = g = a[0];
        e = f = a[1];
        for (var h = a.length >> 1, k = 1; k < h; k++) {
            var l = a[2 * k],
                m = a[2 * k + 1];
            if (l < d || l == d && m < e) d = l, e = m, b = k;
            else if (l > g || l == g && m > f) g = l, f = m, c = k
        }
        return [b, c]
    };
    A.VG = function(a, b, c) {
        if (b)
            for (var d = 0; d < a.length; d++) b[d] = a[d];
        else b = a;
        var e = yb(a),
            d = e[0],
            e = e[1];
        if (d == e) return b.length = 2, b;
        V(b, 0, d);
        V(b, 1, 0 == e ? d : e);
        d = new J(b[0], b[1]);
        e = new J(b[2], b[3]);
        a = I(c, b, 2, (a.length >> 1) - 2,
            d, e, d, 1) + 1;
        b.length = 2 * a;
        oa(R(b), "Internal error: cpConvexHull() and cpPolyValidate() did not agree.Please report this error with as much info as you can.");
        return b
    };
    var J = A.PG = function(a, b) {
        this.x = a;
        this.y = b
    };
    A.D = function(a, b) {
        return new J(a, b)
    };
    var pa = A.zH = new J(0, 0),
        ca = A.D.lk = function(a, b) {
            return a.x * b.x + a.y * b.y
        },
        fa = A.D.pF = function(a) {
            return Math.sqrt(ca(a, a))
        };
    A.D.vF = function(a, b) {
        return Math.sqrt(a * a + b * b)
    };
    A.D.bF = function(a, b) {
        return a.x === b.x && a.y === b.y
    };
    var ba = A.D.add = function(a, b) {
        return new J(a.x +
            b.x, a.y + b.y)
    };
    J.prototype.add = function(a) {
        this.x += a.x;
        this.y += a.y;
        return this
    };
    var da = A.D.sub = function(a, b) {
        return new J(a.x - b.x, a.y - b.y)
    };
    J.prototype.sub = function(a) {
        this.x -= a.x;
        this.y -= a.y;
        return this
    };
    var qa = A.D.ne = function(a) {
        return new J(-a.x, -a.y)
    };
    J.prototype.ne = function() {
        this.x = -this.x;
        this.y = -this.y;
        return this
    };
    var Z = A.D.Hv = function(a, b) {
        return new J(a.x * b, a.y * b)
    };
    J.prototype.Hv = function(a) {
        this.x *= a;
        this.y *= a;
        return this
    };
    var Da = A.D.zA = function(a, b) {
            return a.x * b.y - a.y * b.x
        },
        va = A.D.QF = function(a) {
            return new J(-a.y,
                a.x)
        };
    A.D.RF = function(a) {
        return new J(a.y, -a.x)
    };
    var sd = A.D.xo = function(a, b) {
        return Z(b, ca(a, b) / bb(b))
    };
    J.prototype.xo = function(a) {
        this.Hv(ca(this, a) / bb(a));
        return this
    };
    var ya = A.D.rotate = function(a, b) {
        return new J(a.x * b.x - a.y * b.y, a.x * b.y + a.y * b.x)
    };
    J.prototype.rotate = function(a) {
        this.x = this.x * a.x - this.y * a.y;
        this.y = this.x * a.y + this.y * a.x;
        return this
    };
    var td = A.D.KG = function(a, b) {
            return new J(a.x * b.x + a.y * b.y, a.y * b.x - a.x * b.y)
        },
        bb = A.D.BF = function(a) {
            return ca(a, a)
        };
    A.D.CF = function(a, b) {
        return a * a + b * b
    };
    A.D.qF = function(a, b, c) {
        return ba(Z(a, 1 - c), Z(b, c))
    };
    var wb = A.D.normalize = function(a) {
            return Z(a, 1 / fa(a))
        },
        ld = A.D.MF = function(a) {
            return 0 === a.x && 0 === a.y ? pa : wb(a)
        },
        xb = A.D.Ci = function(a, b) {
            return ca(a, a) > b * b ? Z(wb(a), b) : a
        };
    A.D.DF = function(a, b, c) {
        return ba(a, xb(da(b, a), c))
    };
    var ud = A.D.kk = function(a, b) {
            return fa(da(a, b))
        },
        md = A.D.vw = function(a, b) {
            return bb(da(a, b))
        };
    A.D.GF = function(a, b, c) {
        return md(a, b) < c * c
    };
    var vd = A.D.bG = function(a, b, c) {
        var d = Math.acos(ca(a, b));
        if (d) {
            var e = 1 / Math.sin(d);
            return ba(Z(a, Math.sin((1 -
                c) * d) * e), Z(b, Math.sin(c * d) * e))
        }
        return a
    };
    A.D.kG = function(a, b, c) {
        var d = Math.acos(ca(a, b));
        return vd(a, b, la(c, d) / d)
    };
    A.D.mF = function(a) {
        return new J(Math.cos(a), Math.sin(a))
    };
    A.D.Xq = function(a) {
        return Math.atan2(a.y, a.x)
    };
    A.D.tF = function(a) {
        return "(" + a.x.toFixed(3) + ", " + a.y.toFixed(3) + ")"
    };
    var wd = 0,
        Ob = A.WE = function(a, b, c, d) {
            this.Vk = a;
            this.L = b;
            this.Qa = c;
            this.Pc = d;
            wd++
        };
    A.TG = function(a, b, c, d) {
        return new Ob(a, b, c, d)
    };
    var nd = 0;
    A.NF = 0;
    var xd = A.TE = -1;
    A.uH = function() {
        nd = 0
    };
    var Ua = A.DG = function(a) {
        this.body =
            a;
        this.Sa = this.Na = this.Ta = this.Oa = 0;
        this.tb = nd++;
        this.Hw = !1;
        this.Oj = this.Ki = 0;
        this.ix = pa;
        this.group = this.ek = 0;
        this.U = xd;
        this.da = null;
        this.ub = !1;
        this.Bf = this.Bf
    };
    Ua.prototype.Jo = function(a) {
        this.Ki = a
    };
    Ua.prototype.Ko = function(a) {
        this.body.sc();
        this.Oj = a
    };
    Ua.prototype.J = function() {
        return this.body && -1 !== this.body.ki.indexOf(this)
    };
    Ua.prototype.update = function(a, b) {
        W(!isNaN(b.x), "Rotation is NaN");
        W(!isNaN(a.x), "Position is NaN");
        this.Ep(a, b)
    };
    Ua.prototype.oq = function() {
        return new Ob(this.Sa, this.Na,
            this.Ta, this.Oa)
    };
    A.OF = function(a, b, c) {
        this.shape = a;
        this.Da = b;
        this.he = c
    };
    A.lG = function(a, b, c) {
        this.shape = a;
        this.Pc = b;
        this.O = c
    };
    var Qb = A.Qx = function(a, b, c) {
        this.ck = this.tf = c;
        this.Qa = b;
        this.type = "circle";
        Ua.call(this, a)
    };
    Qb.prototype = Object.create(Ua.prototype);
    Qb.prototype.Ep = function(a, b) {
        var c = this.tf = ya(this.ck, b).add(a),
            d = this.Qa;
        this.Sa = c.x - d;
        this.Na = c.y - d;
        this.Ta = c.x + d;
        this.Oa = c.y + d
    };
    var Rb = A.rz = function(a, b, c, d) {
        this.u = b;
        this.L = c;
        this.O = va(wb(da(c, b)));
        this.od = this.Vd = this.vf = null;
        this.Qa = d;
        this.gA = this.Uz = pa;
        this.type = "segment";
        Ua.call(this, a)
    };
    Rb.prototype = Object.create(Ua.prototype);
    Rb.prototype.Ep = function(a, b) {
        this.od = ba(a, ya(this.u, b));
        this.Vd = ba(a, ya(this.L, b));
        this.vf = ya(this.O, b);
        var c, d, e, g;
        this.od.x < this.Vd.x ? (c = this.od.x, d = this.Vd.x) : (c = this.Vd.x, d = this.od.x);
        this.od.y < this.Vd.y ? (e = this.od.y, g = this.Vd.y) : (e = this.Vd.y, g = this.od.y);
        var f = this.Qa;
        this.Sa = c - f;
        this.Na = e - f;
        this.Ta = d + f;
        this.Oa = g + f
    };
    var Va = A.rp = function(a, b, c) {
        this.pE(b, c);
        this.type = "poly";
        Ua.call(this, a)
    };
    Va.prototype =
        Object.create(Ua.prototype);
    C.prototype.compare = function(a) {
        return ca(this.O, a) - this.he
    };
    Va.prototype.pE = function(a, b) {
        W(4 <= a.length, "Polygons require some verts");
        W("number" === typeof a[0], "Polygon verticies should be specified in a flattened list (eg [x1,y1,x2,y2,x3,y3,...])");
        W(R(a), "Polygon is concave or has a reversed winding. Consider using cpConvexHull()");
        var c = a.length,
            d = c >> 1;
        this.Vj = Array(c);
        this.ag = Array(c);
        this.lw = Array(d);
        this.sf = Array(d);
        for (d = 0; d < c; d += 2) {
            var e = a[d] + b.x,
                g = a[d + 1] + b.y,
                f = wb(va(new J(a[(d + 2) % c] + b.x - e, a[(d + 3) % c] + b.y - g)));
            this.Vj[d] = e;
            this.Vj[d + 1] = g;
            this.lw[d >> 1] = new C(f, f.x * e + f.y * g);
            this.sf[d >> 1] = new C(new J(0, 0), 0)
        }
    };
    A.Ox = function(a, b, c) {
        b = b / 2;
        c = c / 2;
        return Bd(a, new Ob(-b, -c, b, c))
    };
    var Bd = A.aF = function(a, b) {
        return new Va(a, [b.Vk, b.L, b.Vk, b.Pc, b.Qa, b.Pc, b.Qa, b.L], pa)
    };
    Va.prototype.DE = function(a, b) {
        for (var c = this.Vj, d = this.ag, e = Infinity, g = -Infinity, f = Infinity, h = -Infinity, k = 0; k < c.length; k += 2) {
            var l = c[k],
                m = c[k + 1],
                n = a.x + l * b.x - m * b.y,
                l = a.y + l * b.y + m * b.x;
            d[k] = n;
            d[k + 1] = l;
            e =
                la(e, n);
            g = ha(g, n);
            f = la(f, l);
            h = ha(h, l)
        }
        this.Sa = e;
        this.Na = f;
        this.Ta = g;
        this.Oa = h
    };
    Va.prototype.CE = function(a, b) {
        for (var c = this.lw, d = this.sf, e = 0; e < c.length; e++) {
            var g = ya(c[e].O, b);
            d[e].O = g;
            d[e].he = ca(a, g) + c[e].he
        }
    };
    Va.prototype.Ep = function(a, b) {
        this.CE(a, b);
        this.DE(a, b)
    };
    Va.prototype.jp = function(a, b) {
        for (var c = this.ag, d = a.x * c[0] + a.y * c[1], e = 2; e < c.length; e += 2) d = la(d, a.x * c[e] + a.y * c[e + 1]);
        return d - b
    };
    Va.prototype.Mm = function(a, b) {
        for (var c = this.sf, d = 0; d < c.length; d++) {
            var e = c[d].O;
            if (0 < e.x * a + e.y * b - c[d].he) return !1
        }
        return !0
    };
    Va.prototype.Vt = function(a, b, c) {
        for (var d = this.sf, e = 0; e < d.length; e++) {
            var g = d[e].O;
            if (!(0 > ca(g, c)) && 0 < g.x * a + g.y * b - d[e].he) return !1
        }
        return !0
    };
    var ia = A.Us = function(a, b) {
        this.Da = new J(0, 0);
        this.Qc = this.Rc = 0;
        this.Zm = new J(0, 0);
        this.Pc = this.q = 0;
        this.Ps = this.Ns = Infinity;
        this.kh = this.Rj = this.Sj = 0;
        this.da = null;
        this.ub = !1;
        this.ki = [];
        this.pe = this.Vg = this.Di = this.qh = null;
        this.Ug = 0;
        this.Lo(a);
        this.Nl(b);
        this.pb = new J(0, 0);
        this.Jw(0)
    };
    if ("undefined" !== typeof DEBUG && DEBUG) {
        var mc = function(a, b) {
                W(a.x == a.x && a.y ==
                    a.y, b)
            },
            nc = function(a, b) {
                W(Infinity !== Math.abs(a.x) && Infinity !== Math.abs(a.y), b)
            };
        ia.prototype.Ml = function() {
            W(this.kj === this.kj && this.Le === this.Le, "Body's mass is invalid.");
            W(this.P === this.P && this.ya === this.ya, "Body's moment is invalid.");
            var a = this.Da;
            mc(a, "Body's position is invalid.");
            nc(a, "Body's position is invalid.");
            a = this.Zm;
            mc(a, "Body's force is invalid.");
            nc(a, "Body's force is invalid.");
            W(this.Qc === this.Qc && Infinity !== Math.abs(this.Qc), "Body's velocity is invalid.");
            W(this.Rc === this.Rc &&
                Infinity !== Math.abs(this.Rc), "Body's velocity is invalid.");
            W(this.u === this.u && Infinity !== Math.abs(this.u), "Body's angle is invalid.");
            W(this.q === this.q && Infinity !== Math.abs(this.q), "Body's angular velocity is invalid.");
            W(this.Pc === this.Pc && Infinity !== Math.abs(this.Pc), "Body's torque is invalid.");
            a = this.pb;
            mc(a, "Body's rotation vector is invalid.");
            nc(a, "Body's rotation vector is invalid.");
            W(this.Ns === this.Ns, "Body's velocity limit is invalid.");
            W(this.Ps === this.Ps, "Body's angular velocity limit is invalid.")
        }
    } else ia.prototype.Ml =
        function() {};
    ia.prototype.Eb = function() {
        return A.D.Xq(this.pb)
    };
    ia.prototype.Pf = function() {
        return null !== this.Vg
    };
    ia.prototype.Vc = function() {
        return Infinity === this.Ug
    };
    ia.prototype.Ya = function() {
        return null === this.da
    };
    ia.prototype.Lo = function(a) {
        W(0 < a, "Mass must be positive and non-zero.");
        this.sc();
        this.kj = a;
        this.Le = 1 / a
    };
    ia.prototype.Nl = function(a) {
        W(0 < a, "Moment of Inertia must be positive and non-zero.");
        this.sc();
        this.P = a;
        this.ya = 1 / a
    };
    ia.prototype.wi = function(a) {
        this.ki.push(a)
    };
    ia.prototype.zj =
        function(a) {
            ka(this.ki, a)
        };
    ia.prototype.Hl = function(a) {
        this.Di = F(this.Di, this, a)
    };
    ia.prototype.Pw = function(a) {
        this.sc();
        this.Ml();
        a === pa && (a = A.D(0, 0));
        this.Da = a
    };
    ia.prototype.Kw = function(a) {
        W(!isNaN(a), "Internal Error: Attempting to set body's angle to NaN");
        this.u = a;
        this.pb.x = Math.cos(a);
        this.pb.y = Math.sin(a)
    };
    ia.prototype.Jw = function(a) {
        this.sc();
        this.Ml();
        this.Kw(a)
    };
    ia.prototype.OE = function(a, b, c) {
        var d = this.Qc * b + (a.x + this.Zm.x * this.Le) * c;
        a = this.Rc * b + (a.y + this.Zm.y * this.Le) * c;
        var e = this.Ns,
            g =
            d * d + a * a,
            e = g > e * e ? e / Math.sqrt(g) : 1;
        this.Qc = d * e;
        this.Rc = a * e;
        d = this.Ps;
        this.q = G(this.q * b + this.Pc * this.ya * c, -d, d);
        this.Ml()
    };
    ia.prototype.BD = function(a) {
        this.Da.x += (this.Qc + this.Rj) * a;
        this.Da.y += (this.Rc + this.Sj) * a;
        this.Kw(this.u + (this.q + this.kh) * a);
        this.kh = this.Rj = this.Sj = 0;
        this.Ml()
    };
    ia.prototype.VD = function() {
        this.sc();
        this.Zm = new J(0, 0);
        this.Pc = 0
    };
    ia.prototype.ud = function(a, b) {
        this.sc();
        d(this, a.x, a.y, b)
    };
    ia.prototype.Xm = function(a) {
        for (var b = this.Di; b;) {
            var c = b.next(this);
            a(b);
            b = c
        }
    };
    ia.prototype.iv =
        function(a) {
            return ba(this.Da, ya(a, this.pb))
        };
    ia.prototype.mp = function(a) {
        return td(da(a, this.Da), this.pb)
    };
    ia.prototype.XC = function() {
        var a = this.Qc * this.Qc + this.Rc * this.Rc,
            b = this.q * this.q;
        return (a ? a * this.kj : 0) + (b ? b * this.P : 0)
    };
    var oc = A.GG = function(a) {
        if (this.gx = a) {
            if (a.Ji) throw Error("This static index is already associated with a dynamic index.");
            a.Ji = this
        }
    };
    oc.prototype.oA = function(a, b) {
        if (0 < a.count) {
            var c = a.LD;
            this.each(function(a) {
                c(a, new Ob(a.Sa, a.Na, a.Ta, a.Oa), b)
            })
        }
    };
    var Ea = A.Nx = function(a) {
        oc.call(this,
            a);
        this.NE = null;
        this.Pg = {};
        this.count = 0;
        this.po = this.oo = this.root = null;
        this.Vb = 0
    };
    Ea.prototype = Object.create(oc.prototype);
    var Cd = 0;
    Ea.prototype.aD = function(a, b) {
        var c = this.oo;
        if (c) return this.oo = c.parent, c.constructor(this, a, b), c;
        Cd++;
        return new v(0, a, b)
    };
    var Ad = 0;
    Ea.prototype.oq = function(a, b) {
        var c = this.NE;
        if (c) {
            var d = .1 * (a.Ta - a.Sa),
                e = .1 * (a.Oa - a.Na),
                c = Z(c(a), .1);
            b.Sa = a.Sa + la(-d, c.x);
            b.Na = a.Na + la(-e, c.y);
            b.Ta = a.Ta + ha(d, c.x);
            b.Oa = a.Oa + ha(e, c.y)
        } else b.Sa = a.Sa, b.Na = a.Na, b.Ta = a.Ta, b.Oa = a.Oa
    };
    Ea.prototype.zq =
        function() {
            var a = this.Ji;
            return a && a.Vb ? a.Vb : this.Vb
        };
    Ea.prototype.Lq = function() {
        this.Ji && this.Ji.Vb ? this.Ji.Vb++ : this.Vb++
    };
    var Dd = 0;
    Ea.prototype.bD = function(a, b, c, d) {
        var e = this.po;
        if (e) return this.po = e.ei, e.ei = null, e.Og = a, e.kl = b, e.zl = null, e.hr = c, e.ll = d, e;
        Dd++;
        return new Q(a, b, c, d)
    };
    Q.prototype.fi = function(a) {
        this.ei = a.po;
        a.po = this
    };
    L.prototype.Rt = function(a) {
        var b = this.Wg,
            c;
        for (this.Wg = null; b;) b.Og === this ? (c = b.kl, T(b.zl, b.hr, b.ll)) : (c = b.ll, T(b.ei, b.Og, b.kl)), b.fi(a), b = c
    };
    v.prototype.fi = function(a) {
        this.parent =
            a.oo;
        a.oo = this
    };
    L.prototype.fi = function() {};
    v.prototype.gs = function(a) {
        this.Sc = a;
        a.parent = this
    };
    v.prototype.hs = function(a) {
        this.Gd = a;
        a.parent = this
    };
    L.prototype.zn = !0;
    v.prototype.zn = !1;
    v.prototype.$v = function(a) {
        return this.Sc == a ? this.Gd : this.Sc
    };
    v.prototype.replaceChild = function(a, b, c) {
        oa(a == this.Sc || a == this.Gd, "Node is not a child of parent.");
        this.Sc == a ? (this.Sc.fi(c), this.gs(b)) : (this.Gd.fi(c), this.hs(b));
        for (a = this; a; a = a.parent) b = a.Sc, c = a.Gd, a.Sa = la(b.Sa, c.Sa), a.Na = la(b.Na, c.Na), a.Ta = ha(b.Ta,
            c.Ta), a.Oa = ha(b.Oa, c.Oa)
    };
    v.prototype.Bp = L.prototype.Bp = function() {
        return (this.Ta - this.Sa) * (this.Oa - this.Na)
    };
    v.prototype.Lu = L.prototype.Lu = function(a) {
        return this.Sa <= a.Qa && a.Vk <= this.Ta && this.Na <= a.Pc && a.L <= this.Oa
    };
    L.prototype.ai = function(a, b, c, d) {
        E(a, this) && (b ? X(a, this, c) : (this.Vb < a.Vb && X(this, a, c), d && d(a.ca, this.ca)))
    };
    v.prototype.ai = function(a, b, c, d) {
        E(a, this) && (this.Sc.ai(a, b, c, d), this.Gd.ai(a, b, c, d))
    };
    L.prototype.hl = function(a, b, c) {
        if (this.Vb == a.zq())
            for (b && b.ai(this, !1, a, c), b = this; b.parent; b =
                b.parent) b == b.parent.Sc ? b.parent.Gd.ai(this, !0, a, c) : b.parent.Sc.ai(this, !1, a, c);
        else
            for (a = this.Wg; a;) this === a.hr ? (c && c(a.Og.ca, this.ca), a = a.ll) : a = a.kl
    };
    v.prototype.hl = function(a, b, c) {
        this.Sc.hl(a, b, c);
        this.Gd.hl(a, b, c)
    };
    L.prototype.uA = function(a) {
        return this.Sa <= a.Sa && this.Ta >= a.Ta && this.Na <= a.Na && this.Oa >= a.Oa
    };
    L.prototype.update = function(a) {
        var b = a.root;
        return this.uA(this.ca) ? !1 : (a.oq(this.ca, this), b = z(b, this, a), a.root = K(b, this, a), this.Rt(a), this.Vb = a.zq(), !0)
    };
    L.prototype.zt = function(a) {
        var b =
            a.Ji;
        b ? (a = b.root) && a.ai(this, !0, b, null) : this.hl(a, a.gx.root, null)
    };
    Ea.prototype.Ig = function(a, b) {
        var c = new L(this, a);
        this.Pg[b] = c;
        this.root = K(this.root, c, this);
        this.count++;
        c.Vb = this.zq();
        c.zt(this);
        this.Lq()
    };
    Ea.prototype.remove = function(a, b) {
        var c = this.Pg[b];
        delete this.Pg[b];
        this.root = z(this.root, c, this);
        this.count--;
        c.Rt(this);
        c.fi(this)
    };
    Ea.prototype.contains = function(a, b) {
        return null != this.Pg[b]
    };
    Ea.prototype.PD = function(a) {
        if (this.root) {
            var b, c = this.Pg;
            for (b in c) c[b].update(this);
            c = (b = this.gx) &&
                b.root;
            this.root.hl(this, c, a);
            b && !c && this.oA(this, b);
            this.Lq()
        }
    };
    Ea.prototype.zw = function(a) {
        if (a = this.Pg[a]) a.update(this) && a.zt(this), this.Lq()
    };
    Ea.prototype.LD = function(a, b) {
        this && this.root && this instanceof A.Nx && x(this.root, a, b)
    };
    Ea.prototype.count = function() {
        return this.count
    };
    Ea.prototype.each = function(a) {
        for (var b in this.Pg) a(this.Pg[b].ca)
    };
    Ea.prototype.log = function() {
        this.root && H(this.root, 0)
    };
    var Sb = A.cF = function() {
        this.u = this.L = 0
    };
    Sb.prototype.uo = function() {
        return !0
    };
    Sb.prototype.so = function() {};
    w.prototype.pu = function() {
        return this.xs ? this.L : this.u
    };
    w.prototype.su = function() {
        return this.xs ? this.u : this.L
    };
    w.prototype.Qq = function() {
        return "first coll" === this.state
    };
    w.prototype.xx = function() {
        B(this.rb, this.Ij, this.Hj);
        B(this.Ee, this.Kj, this.Jj);
        this.Kj = this.Jj = this.Ij = this.Hj = null
    };
    w.prototype.update = function(a, b, c, d) {
        if (this.ge)
            for (var e = 0; e < this.ge.length; e++)
                for (var g = this.ge[e], f = 0; f < a.length; f++) {
                    var h = a[f];
                    h.hash === g.hash && (h.mc = g.mc, h.Qh = g.Qh)
                }
        this.ge = a;
        this.Dq = b;
        this.xs = c.ek !== b.u;
        this.Ki =
            c.Ki * d.Ki;
        this.Oj = c.Oj * d.Oj;
        this.jx = da(c.ix, d.ix);
        this.u = c;
        this.rb = c.body;
        this.L = d;
        this.Ee = d.body;
        "cached" == this.state && (this.state = "first coll")
    };
    w.prototype.Td = function(a, c, d) {
        for (var e = this.rb, g = this.Ee, f = 0; f < this.ge.length; f++) {
            var h = this.ge[f];
            h.Y = da(h.Da, e.Da);
            h.Z = da(h.Da, g.Da);
            h.Me = 1 / p(e, g, h.Y, h.Z, h.O);
            h.kx = 1 / p(e, g, h.Y, h.Z, va(h.O));
            h.cb = -d * la(0, h.kk + c) / a;
            h.Qk = 0;
            h.It = b(e, g, h.Y, h.Z, h.O) * this.Ki
        }
    };
    w.prototype.de = function(a) {
        if (!this.Qq())
            for (var b = this.rb, c = this.Ee, d = 0; d < this.ge.length; d++) {
                var g =
                    this.ge[d],
                    f = g.O.x,
                    h = g.O.y;
                e(b, c, g.Y, g.Z, (f * g.mc - h * g.Qh) * a, (f * g.Qh + h * g.mc) * a)
            }
    };
    var Ed = 0,
        Fd = 0;
    w.prototype.ud = function() {
        Ed++;
        for (var a = this.rb, b = this.Ee, c = this.jx, d = this.Oj, g = 0; g < this.ge.length; g++) {
            Fd++;
            var f = this.ge[g],
                h = f.Me,
                k = f.O,
                l = f.Y,
                m = f.Z,
                n = b.Qc - m.y * b.q - (a.Qc - l.y * a.q),
                p = b.Rc + m.x * b.q - (a.Rc + l.x * a.q),
                q = n * k.x + p * k.y,
                r = (n + c.x) * -k.y + (p + c.y) * k.x,
                p = f.Qk;
            f.Qk = ha(p + (f.cb - (k.x * (b.Rj - m.y * b.kh - a.Rj + l.y * a.kh) + k.y * (m.x * b.kh + b.Sj - l.x * a.kh - a.Sj))) * h, 0);
            n = f.mc;
            f.mc = ha(n + -(f.It + q) * h, 0);
            q = d * f.mc;
            h = f.Qh;
            f.Qh = G(h +
                -r * f.kx, -q, q);
            q = k.x * (f.Qk - p);
            p = k.y * (f.Qk - p);
            t(a, -q, -p, l);
            t(b, q, p, m);
            n = f.mc - n;
            f = f.Qh - h;
            e(a, b, l, m, k.x * n - k.y * f, k.x * f + k.y * n)
        }
    };
    w.prototype.next = function(a) {
        return this.rb == a ? this.Hj : this.Jj
    };
    var zd = 0,
        Qa = [],
        lc = 0;
    Qb.prototype.Bf = 0;
    Rb.prototype.Bf = 1;
    Va.prototype.Bf = 2;
    Qb.prototype.Qp = [function(a, b) {
        var c = u(a.tf, b.tf, a.Qa, b.Qa);
        return c ? [c] : Qa
    }, function(a, b) {
        var c = b.od,
            d = a.tf,
            e = da(b.Vd, c),
            g;
        g = ca(e, da(d, c)) / bb(e);
        g = ha(0, la(g, 1));
        c = ba(c, Z(e, g));
        return (d = u(d, c, a.Qa, b.Qa)) ? (c = d.O, 0 === g && 0 > ca(c, b.Uz) || 1 === g && 0 >
            ca(c, b.gA) ? Qa : [d]) : Qa
    }, function(a, b) {
        for (var c = b.sf, d = 0, e = ca(c[0].O, a.tf) - c[0].he - a.Qa, g = 0; g < c.length; g++) {
            var f = ca(c[g].O, a.tf) - c[g].he - a.Qa;
            if (0 < f) return Qa;
            f > e && (e = f, d = g)
        }
        var c = c[d].O,
            h = b.ag,
            k = h.length,
            l = d << 1,
            d = h[l],
            g = h[l + 1],
            f = h[(l + 2) % k],
            h = h[(l + 3) % k],
            k = c.x * g - c.y * d,
            l = c.x * h - c.y * f,
            m = Da(c, a.tf);
        return m < l ? (e = u(a.tf, new J(f, h), a.Qa, 0)) ? [e] : Qa : m < k ? [new S(da(a.tf, Z(c, a.Qa + e / 2)), qa(c), e, 0)] : (e = u(a.tf, new J(d, g), a.Qa, 0)) ? [e] : Qa
    }];
    Rb.prototype.Qp = [null, function() {
        return Qa
    }, function(a, b) {
        var c = [],
            d = b.sf,
            e = d.length,
            g = ca(a.vf, a.od),
            f = b.jp(a.vf, g) - a.Qa,
            g = b.jp(qa(a.vf), -g) - a.Qa;
        if (0 < g || 0 < f) return Qa;
        var h = 0,
            k = O(a, d[0].O, d[0].he);
        if (0 < k) return Qa;
        for (var l = 0; l < e; l++) {
            var m = O(a, d[l].O, d[l].he);
            if (0 < m) return Qa;
            m > k && (k = m, h = l)
        }
        d = qa(d[h].O);
        l = ba(a.od, Z(d, a.Qa));
        m = ba(a.Vd, Z(d, a.Qa));
        b.Mm(l.x, l.y) && c.push(new S(l, d, k, P(a.tb, 0)));
        b.Mm(m.x, m.y) && c.push(new S(m, d, k, P(a.tb, 1)));
        if (f >= k || g >= k) f > g ? N(c, a, b, f, 1) : N(c, a, b, g, -1);
        if (0 === c.length) {
            f = 2 * h;
            g = b.ag;
            k = new J(g[f], g[f + 1]);
            if ((h = u(a.od, k, a.Qa, 0)) || (h = u(a.Vd, k, a.Qa,
                    0))) return [h];
            e = 2 * e;
            e = new J(g[(f + 2) % e], g[(f + 3) % e]);
            if ((h = u(a.od, e, a.Qa, 0)) || (h = u(a.Vd, e, a.Qa, 0))) return [h]
        }
        return c
    }];
    Va.prototype.Qp = [null, null, function(a, b) {
        var c = n(b, a.sf);
        if (-1 == c) return Qa;
        var d = lc,
            e = n(a, b.sf);
        if (-1 == e) return Qa;
        var g = lc;
        return d > g ? r(a, b, a.sf[c].O, d) : r(a, b, qa(b.sf[e].O), g)
    }];
    var yd = A.St = function(a, b) {
            W(a.Bf <= b.Bf, "Collided shapes must be sorted by type");
            return a.Qp[b.Bf](a, b)
        },
        qd = new Sb,
        ga = A.Kz = function() {
            this.Zt = this.Vb = 0;
            this.rg = [];
            this.as = [];
            this.ss = [];
            this.Fj = new Ea(null);
            this.mh = new Ea(this.Fj);
            this.yi = [];
            this.bf = {};
            this.Ei = [];
            this.Cd = 0;
            this.Pp = {};
            this.CA = qd;
            this.Pr = [];
            this.cd = [];
            this.VC = 10;
            this.Bq = pa;
            this.jk = 1;
            this.Iq = 0;
            this.Tl = Infinity;
            this.rA = .1;
            this.pA = Math.pow(.9, 60);
            this.qA = 3;
            this.cx = new ia(Infinity, Infinity);
            this.cx.Ug = Infinity;
            this.St = this.$C()
        };
    ga.prototype.Yz = function(a, b) {
        l(this);
        this.TD();
        var c = new Sb;
        c.u = 0;
        c.L = 0;
        a && (c.uo = a);
        b && (c.so = b);
        this.Pp[P(0, 0)] = c
    };
    ga.prototype.TD = function() {
        l(this);
        delete this.Pp[P(0, 0)]
    };
    ga.prototype.kv = function(a, b) {
        return this.Pp[P(a,
            b)] || this.CA
    };
    ga.prototype.wi = function(a) {
        var b = a.body;
        if (b.Vc()) return this.Bt(a);
        if (this.Cd) return a.ub || (a.ub = !0, this.cd.push(this.wi), this.cd.push(a)), a;
        a.ub = !0;
        W(!a.da, "This shape is already added to a space and cannot be added to another.");
        l(this);
        b.sc();
        b.wi(a);
        a.update(b.Da, b.pb);
        this.mh.Ig(a, a.tb);
        a.da = this;
        return a
    };
    ga.prototype.Bt = function(a) {
        if (this.Cd) return a.ub || (a.ub = !0, this.cd.push(this.Bt), this.cd.push(a)), a;
        a.ub = !0;
        W(!a.da, "This shape is already added to a space and cannot be added to another.");
        l(this);
        var b = a.body;
        b.wi(a);
        a.update(b.Da, b.pb);
        this.Fj.Ig(a, a.tb);
        a.da = this;
        return a
    };
    ga.prototype.xt = function(a) {
        W(!a.Vc(), "Static bodies cannot be added to a space as they are not meant to be simulated.");
        if (this.Cd) return a.ub || (a.ub = !0, this.cd.push(this.xt), this.cd.push(a)), a;
        a.ub = !0;
        W(!a.da, "This body is already added to a space and cannot be added to another.");
        l(this);
        this.rg.push(a);
        a.da = this;
        return a
    };
    ga.prototype.lu = function(a, b) {
        for (var c in this.bf) {
            var d = this.bf[c];
            if (a === d.rb && (b ===
                    d.u || null === b) || a === d.Ee && (b === d.L || null === b)) d.xx(), ka(this.yi, d), delete this.bf[c]
        }
    };
    ga.prototype.zj = function(a) {
        var b = a.body;
        b.Vc() ? this.Cw(a) : this.Cd ? a.ub && (a.ub = !1, this.cd.push(this.zj), this.cd.push(a)) : (a.ub = !1, W(this.Ut(a), "Cannot remove a shape that was not added to the space. (Removed twice maybe?)"), l(this), b.sc(), b.zj(a), this.lu(b, a), this.mh.remove(a, a.tb), a.da = null)
    };
    ga.prototype.Cw = function(a) {
        if (this.Cd) a.ub && (a.ub = !1, this.cd.push(this.Cw), this.cd.push(a));
        else {
            a.ub = !1;
            W(this.Ut(a),
                "Cannot remove a static or sleeping shape that was not added to the space. (Removed twice maybe?)");
            l(this);
            var b = a.body;
            b.Vc() && b.wt(a);
            b.zj(a);
            this.lu(b, a);
            this.Fj.remove(a, a.tb);
            a.da = null
        }
    };
    ga.prototype.Aw = function(a) {
        this.Cd ? a.ub && (a.ub = !1, this.cd.push(this.Aw), this.cd.push(a)) : (a.ub = !1, W(this.sA(a), "Cannot remove a body that was not added to the space. (Removed twice maybe?)"), l(this), a.sc(), ka(this.rg, a), a.da = null)
    };
    ga.prototype.Hl = function(a) {
        this.Cd ? a.ub && (a.ub = !1, this.cd.push(this.Hl), this.cd.push(a)) :
            (a.ub = !1, W(this.tA(a), "Cannot remove a constraint that was not added to the space. (Removed twice maybe?)"), l(this), a.u.sc(), a.L.sc(), ka(this.Ei, a), a.u.Hl(a), a.L.Hl(a), a.da = null)
    };
    ga.prototype.Ut = function(a) {
        return a.da === this
    };
    ga.prototype.sA = function(a) {
        return a.da == this
    };
    ga.prototype.tA = function(a) {
        return a.da == this
    };
    ga.prototype.EE = function(a) {
        delete this.bf[P(a.u.tb, a.L.tb)];
        ka(this.yi, a)
    };
    ga.prototype.Yp = function(a, b) {
        this.Un();
        for (var c = this.rg, d = 0; d < c.length; d++) a.call(b, c[d]);
        c = this.ss;
        for (d =
            0; d < c.length; d++)
            for (var e = c[d]; e;) {
                var g = e.pe;
                a.call(b, e);
                e = g
            }
        this.fp(!0)
    };
    ga.prototype.Xm = function(a) {
        this.Un();
        for (var b = this.Ei, c = 0; c < b.length; c++) a(b[c]);
        this.fp(!0)
    };
    ga.prototype.QD = function(a) {
        W(!this.Cd, "You cannot manually reindex objects while the space is locked. Wait until the current query or step is complete.");
        var b = a.body;
        a.update(b.Da, b.pb);
        this.mh.zw(a.tb);
        this.Fj.zw(a.tb)
    };
    ga.prototype.ut = function(a) {
        W(!a.Ya(), "Internal error: Attempting to activate a rogue body.");
        if (this.Cd) - 1 ===
            this.as.indexOf(a) && this.as.push(a);
        else {
            this.rg.push(a);
            for (var b = 0; b < a.ki.length; b++) {
                var c = a.ki[b];
                this.Fj.remove(c, c.tb);
                this.mh.Ig(c, c.tb)
            }
            for (b = a.qh; b; b = b.next(a))
                if (c = b.rb, a === c || c.Vc()) {
                    var c = b.u,
                        d = b.L;
                    this.bf[P(c.tb, d.tb)] = b;
                    b.Vb = this.Vb;
                    b.Dq = this.kv(c.ek, d.ek);
                    this.yi.push(b)
                }
            for (b = a.Di; b; b = b.pe) c = b.u, (a === c || c.Vc()) && this.Ei.push(b)
        }
    };
    ga.prototype.AA = function(a) {
        W(!a.Ya(), "Internal error: Attempting to deactivate a rogue body.");
        ka(this.rg, a);
        for (var b = 0; b < a.ki.length; b++) {
            var c = a.ki[b];
            this.mh.remove(c, c.tb);
            this.Fj.Ig(c, c.tb)
        }
        for (c = a.qh; c; c = c.next(a)) b = c.rb, (a === b || b.Vc()) && this.EE(c);
        for (c = a.Di; c; c = c.pe) b = c.u, (a === b || b.Vc()) && ka(this.Ei, c)
    };
    ia.prototype.sc = function() {
        if (!this.Ya()) {
            this.Ug = 0;
            var a = this ? this.Vg : null;
            if (a && a.Pf(a)) {
                W(!a.Ya(), "Internal Error: componentActivate() called on a rogue body.");
                for (var b = a.da, c = a; c;) {
                    var d = c.pe;
                    c.Ug = 0;
                    c.Vg = null;
                    c.pe = null;
                    b.ut(c);
                    c = d
                }
                ka(b.ss, a)
            }
        }
    };
    ia.prototype.wt = function(a) {
        W(this.Vc(), "Body.activateStatic() called on a non-static body.");
        for (var b = this.qh; b; b = b.next(this)) a && a != b.u && a != b.L || (b.rb == this ? b.Ee : b.rb).sc()
    };
    ia.prototype.uw = function(a) {
        oa(null === (a.rb === this ? a.Hj : a.Jj), "Internal Error: Dangling contact graph pointers detected. (A)");
        oa(null === (a.rb === this ? a.Ij : a.Kj), "Internal Error: Dangling contact graph pointers detected. (B)");
        var b = this.qh;
        oa(null === b || null === (b.rb === this ? b.Ij : b.Kj), "Internal Error: Dangling contact graph pointers detected. (C)");
        a.rb === this ? a.Hj = b : a.Jj = b;
        b && (b.rb === this ? b.Ij = a : b.Kj = a);
        this.qh = a
    };
    ga.prototype.GD =
        function(a) {
            for (var b = Infinity !== this.Tl, c = this.rg, d = 0; d < c.length; d++) {
                var e = c[d];
                oa(null === e.pe, "Internal Error: Dangling next pointer detected in contact graph.");
                oa(null === e.Vg, "Internal Error: Dangling root pointer detected in contact graph.")
            }
            if (b)
                for (var g = (d = this.Iq) ? d * d : bb(this.Bq) * a * a, d = 0; d < c.length; d++) e = c[d], e.Ug = Infinity !== e.kj ? e.XC() > (g ? e.kj * g : 0) ? 0 : e.Ug + a : Infinity;
            for (var g = this.yi, d = 0, f = g.length; d < f; d++) {
                var h = g[d],
                    e = h.rb;
                a = h.Ee;
                b && ((a.Ya() && !a.Vc() || e.Pf()) && e.sc(), (e.Ya() && !e.Vc() ||
                    a.Pf()) && a.sc());
                e.uw(h);
                a.uw(h)
            }
            if (b) {
                b = this.Ei;
                for (d = 0; d < b.length; d++) a = b[d], e = a.u, a = a.L, a.Ya() && !a.Vc() && e.sc(), e.Ya() && !e.Vc() && a.sc();
                for (d = 0; d < c.length;) {
                    e = c[d];
                    if (null === (e ? e.Vg : null)) {
                        q(e, e);
                        a: {
                            for (b = e; b; b = b.pe)
                                if (b.Ug < this.Tl) {
                                    b = !0;
                                    break a
                                }
                            b = !1
                        }
                        if (!b) {
                            this.ss.push(e);
                            for (b = e; b; b = b.pe) this.AA(b);
                            continue
                        }
                    }
                    d++;
                    e.Vg = null;
                    e.pe = null
                }
            }
        };
    ga.prototype.aE = function() {
        for (var a = 0; a < this.Pr.length; a++) this.Pr[a]();
        this.Pr.length = 0
    };
    ga.prototype.Un = function() {
        this.Cd++
    };
    ga.prototype.fp = function(a) {
        this.Cd--;
        W(0 <= this.Cd, "Internal Error: Space lock underflow.");
        if (0 === this.Cd && a) {
            a = this.as;
            for (var b = 0; b < a.length; b++) this.ut(a[b]);
            a.length = 0;
            this.aE()
        }
    };
    var pd;
    ga.prototype.$C = function() {
        pd = this;
        return g
    };
    ga.prototype.bA = function(a) {
        var b = this.Vb - a.Vb,
            c = a.rb,
            d = a.Ee;
        if ((c.Vc() || c.Pf()) && (d.Vc() || d.Pf())) return !0;
        1 <= b && "cached" != a.state && (a.state = "cached");
        return b >= this.qA ? (a.ge = null, !1) : !0
    };
    ga.prototype.step = function(b) {
        if (0 !== b) {
            W(0 === pa.x && 0 === pa.y, "vzero is invalid");
            this.Vb++;
            var c = this.Zt;
            this.Zt =
                b;
            var d, e, g = this.rg,
                f = this.Ei,
                h = this.yi;
            for (d = 0; d < h.length; d++) {
                var k = h[d];
                k.state = "normal";
                k.rb.Pf() || k.Ee.Pf() || k.xx()
            }
            h.length = 0;
            this.Un();
            for (d = 0; d < g.length; d++) g[d].BD(b);
            this.mh.each(a);
            this.mh.PD(this.St);
            this.fp(!1);
            this.GD(b);
            this.Un();
            for (e in this.bf) this.bA(this.bf[e]) || delete this.bf[e];
            e = this.rA;
            k = 1 - Math.pow(this.pA, b);
            for (d = 0; d < h.length; d++) h[d].Td(b, e, k);
            for (d = 0; d < f.length; d++) e = f[d], e.uo(this), e.Td(b);
            e = Math.pow(this.jk, b);
            k = this.Bq;
            for (d = 0; d < g.length; d++) g[d].OE(k, e, b);
            b = 0 === c ? 0 :
                b / c;
            for (d = 0; d < h.length; d++) h[d].de(b);
            for (d = 0; d < f.length; d++) f[d].de(b);
            for (d = 0; d < this.VC; d++) {
                for (b = 0; b < h.length; b++) h[b].ud();
                for (b = 0; b < f.length; b++) f[b].ud()
            }
            for (d = 0; d < f.length; d++) f[d].so(this);
            for (d = 0; d < h.length; d++) h[d].Dq.so(h[d], this);
            this.fp(!0)
        }
    };
    var ja = A.jF = function(a, b) {
        this.u = a;
        this.L = b;
        this.da = null;
        this.ub = !1;
        this.Cr = this.Br = null;
        this.Tg = Infinity;
        this.Bh = Math.pow(.9, 60);
        this.bi = Infinity
    };
    ja.prototype.Td = function() {};
    ja.prototype.de = function() {};
    ja.prototype.ud = function() {};
    ja.prototype.uo =
        function() {};
    ja.prototype.so = function() {};
    ja.prototype.next = function(a) {
        return this.u === a ? this.Br : this.Cr
    };
    var Tb = A.YF = function(a, b, c, d) {
        ja.call(this, a, b);
        this.nh = c;
        this.xf = d;
        a = a ? ba(a.Da, ya(c, a.pb)) : c;
        b = b ? ba(b.Da, ya(d, b.pb)) : d;
        this.kk = fa(da(b, a));
        oa(0 < this.kk, "You created a 0 length pin joint. A pivot joint will be much more stable.");
        this.O = this.Y = this.Z = null;
        this.cb = this.mc = this.$i = this.Me = 0
    };
    Tb.prototype = Object.create(ja.prototype);
    Tb.prototype.Td = function(a) {
        var b = this.u,
            c = this.L;
        if (!b.Ya() ||
            !c.Ya()) {
            this.Y = ya(this.nh, b.pb);
            this.Z = ya(this.xf, c.pb);
            var d = da(ba(c.Da, this.Z), ba(b.Da, this.Y)),
                e = fa(d);
            this.O = Z(d, 1 / (e ? e : Infinity));
            this.Me = 1 / p(b, c, this.Y, this.Z, this.O);
            b = this.bi;
            this.cb = G(-(1 - Math.pow(this.Bh, a)) * (e - this.kk) / a, -b, b);
            this.$i = this.Tg * a
        }
    };
    Tb.prototype.de = function(a) {
        a = Z(this.O, this.mc * a);
        e(this.u, this.L, this.Y, this.Z, a.x, a.y)
    };
    Tb.prototype.ud = function() {
        var a = this.u,
            c = this.L,
            d = this.O,
            g = (this.cb - b(a, c, this.Y, this.Z, d)) * this.Me,
            f = this.mc;
        this.mc = G(f + g, -this.$i, this.$i);
        g = this.mc -
            f;
        e(a, c, this.Y, this.Z, d.x * g, d.y * g)
    };
    var Ub = A.FG = function(a, b, c, d, e, g) {
        ja.call(this, a, b);
        this.nh = c;
        this.xf = d;
        this.min = e;
        this.max = g;
        this.Y = this.Z = this.O = null;
        this.cb = this.mc = this.$i = this.Me = 0
    };
    Ub.prototype = Object.create(ja.prototype);
    Ub.prototype.Td = function(a) {
        var b = this.u,
            c = this.L;
        if (!b.Ya() || !c.Ya()) {
            this.Y = ya(this.nh, b.pb);
            this.Z = ya(this.xf, c.pb);
            var d = da(ba(c.Da, this.Z), ba(b.Da, this.Y)),
                e = fa(d),
                g = 0;
            e > this.max ? (g = e - this.max, this.O = ld(d)) : e < this.min ? (g = this.min - e, this.O = qa(ld(d))) : (this.O = pa, this.mc =
                0);
            this.Me = 1 / p(b, c, this.Y, this.Z, this.O);
            b = this.bi;
            this.cb = G(-(1 - Math.pow(this.Bh, a)) * g / a, -b, b);
            this.$i = this.Tg * a
        }
    };
    Ub.prototype.de = function(a) {
        a = this.mc * a;
        e(this.u, this.L, this.Y, this.Z, this.O.x * a, this.O.y * a)
    };
    Ub.prototype.ud = function() {
        if (0 !== this.O.x || 0 !== this.O.y) {
            var a = this.u,
                b = this.L,
                c = this.O,
                d = h(a, b, this.Y, this.Z),
                d = ca(d, c),
                d = (this.cb - d) * this.Me,
                g = this.mc;
            this.mc = G(g + d, -this.$i, 0);
            d = this.mc - g;
            e(a, b, this.Y, this.Z, c.x * d, c.y * d)
        }
    };
    var Vb = A.ZF = function(a, b, c, d) {
        ja.call(this, a, b);
        "undefined" === typeof d &&
            (d = c, c = a ? a.mp(d) : d, d = b ? b.mp(d) : d);
        this.nh = c;
        this.xf = d;
        this.Y = this.Z = pa;
        this.Tk = new J(0, 0);
        this.Uk = new J(0, 0);
        this.za = pa;
        this.Rk = 0;
        this.cb = pa
    };
    Vb.prototype = Object.create(ja.prototype);
    Vb.prototype.Td = function(a) {
        var b = this.u,
            c = this.L;
        b.Ya() && c.Ya() || (this.Y = ya(this.nh, b.pb), this.Z = ya(this.xf, c.pb), k(b, c, this.Y, this.Z, this.Tk, this.Uk), this.Rk = this.Tg * a, b = da(ba(c.Da, this.Z), ba(b.Da, this.Y)), this.cb = xb(Z(b, -(1 - Math.pow(this.Bh, a)) / a), this.bi))
    };
    Vb.prototype.de = function(a) {
        e(this.u, this.L, this.Y, this.Z,
            this.za.x * a, this.za.y * a)
    };
    Vb.prototype.ud = function() {
        var a = this.u,
            b = this.L,
            c = h(a, b, this.Y, this.Z),
            c = da(this.cb, c),
            d = this.Uk,
            c = new J(ca(c, this.Tk), ca(c, d)),
            d = this.za;
        this.za = xb(ba(this.za, c), this.Rk);
        e(a, b, this.Y, this.Z, this.za.x - d.x, this.za.y - d.y)
    };
    var zb = A.sF = function(a, b, c, d, e) {
        ja.call(this, a, b);
        this.vC = c;
        this.wC = d;
        this.xC = va(wb(da(d, c)));
        this.xf = e;
        this.Au = null;
        this.Ci = 0;
        this.Y = this.Z = null;
        this.Tk = new J(0, 0);
        this.Uk = new J(0, 0);
        this.za = pa;
        this.Rk = 0;
        this.cb = null
    };
    zb.prototype = Object.create(ja.prototype);
    zb.prototype.Td = function(a) {
        var b = this.u,
            c = this.L;
        if (!b.Ya() || !c.Ya()) {
            var d = b.iv(this.vC),
                e = b.iv(this.wC),
                g = ya(this.xC, b.pb),
                f = ca(d, g);
            this.Au = g;
            this.Z = ya(this.xf, c.pb);
            var h = Da(ba(c.Da, this.Z), g);
            h <= Da(d, g) ? (this.Ci = 1, this.Y = da(d, b.Da)) : h >= Da(e, g) ? (this.Ci = -1, this.Y = da(e, b.Da)) : (this.Ci = 0, this.Y = da(ba(Z(va(g), -h), Z(g, f)), b.Da));
            k(b, c, this.Y, this.Z, this.Tk, this.Uk);
            this.Rk = this.Tg * a;
            b = da(ba(c.Da, this.Z), ba(b.Da, this.Y));
            this.cb = xb(Z(b, -(1 - Math.pow(this.Bh, a)) / a), this.bi)
        }
    };
    zb.prototype.de = function(a) {
        e(this.u,
            this.L, this.Y, this.Z, this.za.x * a, this.za.y * a)
    };
    zb.prototype.uC = function(a) {
        var b = this.Au;
        a = 0 < this.Ci * Da(a, b) ? a : sd(a, b);
        return xb(a, this.Rk)
    };
    zb.prototype.ud = function() {
        var a = this.u,
            b = this.L,
            c = h(a, b, this.Y, this.Z),
            c = da(this.cb, c),
            d = this.Uk,
            c = new J(ca(c, this.Tk), ca(c, d)),
            d = this.za;
        this.za = this.uC(ba(d, c));
        e(a, b, this.Y, this.Z, this.za.x - d.x, this.za.y - d.y)
    };
    var Wb = A.oF = function(a, b, c, d, e, g, f) {
        ja.call(this, a, b);
        this.nh = c;
        this.xf = d;
        this.XD = e;
        this.ws = g;
        this.jk = f;
        this.rE = m;
        this.ys = this.Gx = 0;
        this.Y = this.Z =
            null;
        this.Me = 0;
        this.O = null
    };
    Wb.prototype = Object.create(ja.prototype);
    Wb.prototype.Td = function(a) {
        var b = this.u,
            c = this.L;
        if (!b.Ya() || !c.Ya()) {
            this.Y = ya(this.nh, b.pb);
            this.Z = ya(this.xf, c.pb);
            var d = da(ba(c.Da, this.Z), ba(b.Da, this.Y)),
                g = fa(d);
            this.O = Z(d, 1 / (g ? g : Infinity));
            d = p(b, c, this.Y, this.Z, this.O);
            oa(0 !== d, "Unsolvable this.");
            this.Me = 1 / d;
            this.ys = 0;
            this.Gx = 1 - Math.exp(-this.jk * a * d);
            g = this.rE(this, g);
            e(b, c, this.Y, this.Z, this.O.x * g * a, this.O.y * g * a)
        }
    };
    Wb.prototype.de = function() {};
    Wb.prototype.ud = function() {
        var a =
            this.u,
            c = this.L,
            d = b(a, c, this.Y, this.Z, this.O),
            g = (this.ys - d) * this.Gx;
        this.ys = d + g;
        g *= this.Me;
        e(a, c, this.Y, this.Z, this.O.x * g, this.O.y * g)
    };
    var pc = A.nF = function(a, b, c, d, e) {
        ja.call(this, a, b);
        this.WD = c;
        this.ws = d;
        this.jk = e;
        this.sE = f;
        this.xd = this.Ix = this.zs = 0
    };
    pc.prototype = Object.create(ja.prototype);
    pc.prototype.Td = function(a) {
        var b = this.u,
            c = this.L;
        if (!b.Ya() || !c.Ya()) {
            var d = b.ya + c.ya;
            oa(0 !== d, "Unsolvable spring.");
            this.xd = 1 / d;
            this.Ix = 1 - Math.exp(-this.jk * a * d);
            this.zs = 0;
            a = this.sE(this, b.u - c.u) * a;
            b.q -= a * b.ya;
            c.q += a * c.ya
        }
    };
    pc.prototype.ud = function() {
        var a = this.u,
            b = this.L,
            c = a.q - b.q,
            d = (this.zs - c) * this.Ix;
        this.zs = c + d;
        c = d * this.xd;
        a.q += c * a.ya;
        b.q -= c * b.ya
    };
    var Xb = A.fG = function(a, b, c, d) {
        ja.call(this, a, b);
        this.min = c;
        this.max = d;
        this.xd = this.cb = this.Ad = this.za = 0
    };
    Xb.prototype = Object.create(ja.prototype);
    Xb.prototype.Td = function(a) {
        var b = this.u,
            c = this.L;
        if (!b.Ya() || !c.Ya()) {
            var d = c.u - b.u,
                e = 0;
            d > this.max ? e = this.max - d : d < this.min && (e = this.min - d);
            this.xd = 1 / (1 / b.P + 1 / c.P);
            b = this.bi;
            this.cb = G(-(1 - Math.pow(this.Bh, a)) * e /
                a, -b, b);
            this.Ad = this.Tg * a;
            this.cb || (this.za = 0)
        }
    };
    Xb.prototype.de = function(a) {
        var b = this.u,
            c = this.L;
        a = this.za * a;
        b.q -= a * b.ya;
        c.q += a * c.ya
    };
    Xb.prototype.ud = function() {
        if (this.cb) {
            var a = this.u,
                b = this.L,
                c = -(this.cb + (b.q - a.q)) * this.xd,
                d = this.za;
            this.za = 0 > this.cb ? G(d + c, 0, this.Ad) : G(d + c, -this.Ad, 0);
            c = this.za - d;
            a.q -= c * a.ya;
            b.q += c * b.ya
        }
    };
    var Yb = A.cG = function(a, b, c, d) {
        ja.call(this, a, b);
        this.k = 0;
        this.Mr = c;
        this.ww = d;
        this.k = (b ? b.u : 0) - (a ? a.u : 0);
        this.xd = this.cb = this.za = this.Ad = 0
    };
    Yb.prototype = Object.create(ja.prototype);
    Yb.prototype.Td = function(a) {
        var b = this.u,
            c = this.L;
        if (!b.Ya() || !c.Ya()) {
            var d = this.Mr,
                e = this.ww,
                g = c.u - b.u,
                f = this.k - g,
                h = 0;
            0 < f * e ? h = f : this.k = Math.floor((g - d) / e) * e + d;
            this.xd = 1 / (b.ya + c.ya);
            b = this.bi;
            this.cb = G(-(1 - Math.pow(this.Bh, a)) * h / a, -b, b);
            this.Ad = this.Tg * a;
            this.cb || (this.za = 0)
        }
    };
    Yb.prototype.de = function(a) {
        var b = this.u,
            c = this.L;
        a = this.za * a;
        b.q -= a * b.ya;
        c.q += a * c.ya
    };
    Yb.prototype.ud = function() {
        if (this.cb) {
            var a = this.u,
                b = this.L,
                c = this.ww,
                d = -(this.cb + (b.q - a.q)) * this.xd,
                e = this.za;
            this.za = G((e + d) * c, 0, this.Ad *
                Math.abs(c)) / c;
            d = this.za - e;
            a.q -= d * a.ya;
            b.q += d * b.ya
        }
    };
    var Zb = A.rF = function(a, b, c, d) {
        ja.call(this, a, b);
        this.Mr = c;
        this.$g = d;
        this.Vr = 1 / d;
        this.xd = this.cb = this.Ad = this.za = 0
    };
    Zb.prototype = Object.create(ja.prototype);
    Zb.prototype.Td = function(a) {
        var b = this.u,
            c = this.L;
        if (!b.Ya() || !c.Ya()) {
            this.xd = 1 / (b.ya * this.Vr + this.$g * c.ya);
            var d = this.bi;
            this.cb = G(-(1 - Math.pow(this.Bh, a)) * (c.u * this.$g - b.u - this.Mr) / a, -d, d);
            this.Ad = this.Tg * a
        }
    };
    Zb.prototype.de = function(a) {
        var b = this.u,
            c = this.L;
        a = this.za * a;
        b.q -= a * b.ya * this.Vr;
        c.q += a * c.ya
    };
    Zb.prototype.ud = function() {
        var a = this.u,
            b = this.L,
            c = (this.cb - (b.q * this.$g - a.q)) * this.xd,
            d = this.za;
        this.za = G(d + c, -this.Ad, this.Ad);
        c = this.za - d;
        a.q -= c * a.ya * this.Vr;
        b.q += c * b.ya
    };
    var $b = A.EG = function(a, b, c) {
        ja.call(this, a, b);
        this.MD = c;
        this.xd = this.Ad = this.za = 0
    };
    $b.prototype = Object.create(ja.prototype);
    $b.prototype.Td = function(a) {
        this.xd = 1 / (this.u.ya + this.L.ya);
        this.Ad = this.Tg * a
    };
    $b.prototype.de = function(a) {
        var b = this.u,
            c = this.L;
        a = this.za * a;
        b.q -= a * b.ya;
        c.q += a * c.ya
    };
    $b.prototype.ud = function() {
        var a =
            this.u,
            b = this.L,
            c = -(b.q - a.q + this.MD) * this.xd,
            d = this.za;
        this.za = G(d + c, -this.Ad, this.Ad);
        c = this.za - d;
        a.q -= c * a.ya;
        b.q += c * b.ya
    }
})();

function kd(f) {
    var m = f[1],
        k = f[2];
    f = cp.D.sub(m, f[0]);
    m = cp.D.sub(k, m);
    return 0 > cp.D.zA(f, m)
}

function od(f) {
    this.b = f;
    var m = this.da = new cp.Kz;
    m.Yz(function(k) {
        if (k.Qq()) {
            var m = k.pu().body.$e,
                c = k.su().body.$e;
            m.jg = k;
            m.So = !1;
            c.jg = k;
            c.So = !0;
            f.trigger(od.prototype.j.Wv, m.d);
            f.trigger(od.prototype.j.Wv, c.d);
            m.jg = null;
            c.jg = null
        }
        return "ignore" !== k.state
    }, function(k) {
        if (k.Qq()) {
            var m = k.pu().body.$e,
                c = k.su().body.$e;
            m.jg = k;
            m.So = !1;
            c.jg = k;
            c.So = !0;
            f.trigger(od.prototype.j.Vv, m.d);
            f.trigger(od.prototype.j.Vv, c.d);
            m.jg = null;
            c.jg = null
        }
        return !0
    });
    m.Bq = cp.D(0, 100);
    m.NB = 1 / 30;
    m.vE = 0;
    m.Tl = 1
}
(function() {
    function f(c) {
        this.b.trigger(od.prototype.j.nD, c.$e.d)
    }

    function m() {}

    function k() {}

    function p() {}
    var c = od.prototype;
    c.Ba = function(c) {
        this.behavior = c;
        this.b = c.b
    };
    c.Ba.prototype.S = function() {
        this.behavior.Xu = -1;
        this.behavior.Ll = []
    };
    c.na = function(c, d) {
        this.type = c;
        this.behavior = c.behavior;
        this.d = d;
        this.b = c.b;
        this.da = this.behavior.da
    };
    var t = c.na.prototype;
    t.GE = function() {
        if (0 !== this.cf && 2 !== this.cf && 4 !== this.cf) {
            var c = this.d,
                d = [];
            c.Ga();
            c.XG(d);
            var b, f, a, g, c = 0;
            for (b = d.length; c < b; ++c)
                if (f = d[c],
                    a = f.ND, f.Yg && 3 === this.cf)
                    for (f.Yg.Wt || (g = f.id & 3758096384, f.Yg.Wt = this.tu(f.Yg, -2147483648 === g || 1073741824 === g || 536870912 === g || g & -2147483648 && g & 1073741824 && g & 536870912)), g = cp.D(a.left, a.top), f = f.Yg.Wt, a = 0; a < f.length; ++a) this.hc.push(new cp.rp(this.body, f[a], g));
                else g = cp.D(0, 0), this.hc.push(new cp.rp(this.body, [a.left, a.top, a.left, a.bottom, a.right, a.bottom, a.right, a.top], g));
            c = 0;
            for (b = this.hc.length; c < b; ++c) d = this.hc[c], d.group = this.Np, d.U = this.Op, d.Jo(this.ok), d.Ko(this.tk), this.enabled && this.da.wi(d)
        }
    };
    t.tu = function(c, d) {
        var b = c.Sb,
            f = c.te,
            a = [];
        a.length = f;
        for (B = 0; B < f; B++) a[B] = cp.D(b[2 * B], b[2 * B + 1]);
        d && a.reverse();
        b = a.slice(0);
        B = [];
        for (f = 0; 3 <= b.length;) {
            var a = [b[f], b[(f + 1) % b.length], b[(f + 2) % b.length]],
                g;
            if (!(g = kd(a))) a: {
                g = b;
                for (var k = a, l = void 0, l = void 0, m = 0; m < g.length; ++m)
                    if (l = g[m], -1 == k.indexOf(l)) {
                        var p = k[0],
                            r = k[1],
                            n = cp.D.sub(k[2], p),
                            r = cp.D.sub(r, p),
                            t = cp.D.sub(l, p),
                            l = cp.D.lk(n, n),
                            p = cp.D.lk(n, r),
                            n = cp.D.lk(n, t),
                            S = cp.D.lk(r, r),
                            r = cp.D.lk(r, t),
                            t = 1 / (l * S - p * p),
                            S = (S * n - p * r) * t,
                            l = (l * r - p * n) * t;
                        if (l = 0 <= S && 0 <= l &&
                            1 > S + l) {
                            g = !0;
                            break a
                        }
                    }
                g = !1
            }
            g ? f++ : (b.splice((f + 1) % b.length, 1), B.push(a));
            f %= b.length
        }
        for (b = []; 0 < B.length;) {
            f = B[0];
            B.shift();
            for (a = 0; a < B.length; a++) {
                g = f;
                l = B[a];
                k = void 0;
                p = 0;
                r = m = void 0;
                for (k = 0; 3 > k; k++) - 1 == g.indexOf(l[k]) ? (m = l[k], r = l[(k + 1) % 3]) : p++;
                2 != p ? g = !1 : (k = g.indexOf(r), l = g.length, kd([g[(k - 2 + l) % l], g[(k - 1 + l) % l], m]) || kd([m, g[k], g[(k + 1) % l]]) ? g = !1 : (g.splice(k, 0, m), g = !0));
                g && (B.splice(a, 1), a = -1)
            }
            b.push(f)
        }
        for (var f = [], B = 0; B < b.length; ++B) {
            a = b[B].reverse();
            g = [];
            g.length = 2 * a.length;
            for (k = 0; k < a.length; ++k) g[2 *
                k] = a[k].x, g[2 * k + 1] = a[k].y;
            f.push(g)
        }
        return f
    };
    t.FE = function() {
        var c = this.hc;
        if (this.enabled)
            for (var d = 0, b = c.length; d < b; d++) this.da.zj(c[d]);
        c.length = 0;
        this.Pj(this.body);
        if (this.d.Te) this.Ue = 0, this.GE(), this.ao = !0, this.body.Nl(Infinity);
        else {
            b = this.cf;
            3 != b || this.d.Ca && !this.d.Ca.Ph() || (b = 1);
            var d = Math.abs(this.d.width),
                f = Math.abs(this.d.height);
            switch (b) {
                case 0:
                    this.Jc = 1;
                    break;
                case 1:
                    this.Jc = cp.Ev(this.Pd, d, f);
                    c.push(new cp.Ox(this.body, d, f));
                    break;
                case 2:
                    this.Jc = cp.Fv(this.Pd, d / 2);
                    c.push(new cp.Qx(this.body,
                        f / 2, cp.D(0, 0)));
                    break;
                case 3:
                    this.d.Ca.vh(this.d.width, this.d.height, 0);
                    b = this.tu(this.d.Ca, 0 > this.d.width != 0 > this.d.height);
                    for (d = this.Ue = 0; d < b.length; ++d) f = new cp.rp(this.body, b[d], this.offset), f.xm = cp.Ap(b[d]), this.Ue += f.xm, c.push(f);
                    for (var f = 0, a, d = 0; d < c.length; ++d) a = c[d].xm / this.Ue, f += cp.xr(a * this.Pd, b[d], this.offset);
                    this.Jc = f;
                    break;
                case 4:
                    f = 0, 0 > this.Zp && (f = -this.Zp), b = cp.D(-d / 2 + f, 0), d = cp.D(d / 2 - f, 0), this.Jc = cp.Gv(this.Pd, b, d), c.push(new cp.rz(this.body, b, d, Math.abs(this.Zp)))
            }
            0 >= this.Jc && (this.Jc =
                1);
            this.Ui || this.ao ? this.body.Nl(Infinity) : this.body.Nl(this.Jc);
            this.body.Ya() || this.body.sc();
            for (d = 0; d < c.length; ++d) f = c[d], f.group = this.Np, f.U = this.Op, f.Jo(this.ok), f.Ko(this.tk), this.enabled && this.da.wi(f)
        }
    };
    t.S = function() {
        this.Ui = 1 == this.r[0];
        this.cf = this.r[1];
        this.Np = this.r[2];
        this.Op = parseInt(this.r[3], 16);
        this.Pd = this.r[4];
        this.Jc = 1;
        this.ok = this.r[5];
        this.tk = this.r[6];
        this.enabled = 0 == this.r[7];
        this.Zp = this.r[8];
        this.ao = 1 == this.r[9];
        this.Oq = !0;
        this.hp = !1;
        this.offset = cp.D(0, 0);
        this.In = this.Kn =
            this.av = this.$u = this.br = this.dr = this.cr = 0;
        this.Yu = null;
        this.Zu = -1;
        this.jg = null;
        this.So = !1;
        this.Ue = 0;
        var c;
        this.Ui ? (c = this.body = new cp.Us(Infinity, Infinity), this.enabled && this.behavior.Ll.push(c), c.Ug = Infinity) : (c = this.body = new cp.Us(this.Pd, 1), this.enabled && this.da.xt(c));
        c.Kx = !1;
        c.$e = this;
        this.d.nA = c;
        this.hc = []
    };
    t.pw = function() {
        this.Jp(this.body)
    };
    t.Uf = function() {
        if (this.enabled)
            for (var c = 0; c < this.hc.length; c++) this.da.zj(this.hc[c]);
        this.hc.length = 0;
        var d = this;
        this.body.Xm(function(b) {
            d.da.Hl(b)
        });
        this.body.Ya() ? Wa(this.behavior.Ll, this.body) : this.da.Aw(this.body)
    };
    t.Nc = function() {
        return {}
    };
    t.gd = function() {};
    t.Pj = function(c) {
        var d = c.$e,
            b = d.d,
            f = !1;
        b.Ga();
        if (d.Kn !== b.width || d.In !== b.height) f = !0, d.Oq = !0, d.Kn = b.width, d.In = b.height;
        if (f || d.cr !== b.x || d.dr !== b.y || d.br !== b.k || d.$u !== b.jc || d.av !== b.kc) b.Te ? c.Pw(cp.D(b.x, b.y)) : (d.offset = cp.D((b.jc - .5) * b.width, (b.kc - .5) * b.height), c.Jw(b.k), c.Pw(cp.D.sub(cp.D(b.x, b.y), cp.D.rotate(d.offset, c.pb)))), c.Vc() && (d.hp = !0, c.wt()), d.cr = b.x, d.dr = b.y, d.br = b.k, d.$u =
            b.jc, d.av = b.kc
    };
    t.Cx = function(c) {
        var d = c.$e,
            b = d.d;
        c.Kx && (c.VD(), c.Kx = !1);
        if (!c.Ya()) {
            d.Pj(c);
            var f = cp.D.add(c.Da, cp.D.rotate(d.offset, c.pb));
            d.cr = b.x = f.x;
            d.dr = b.y = f.y;
            d.br = b.k = c.Eb();
            b.H()
        }
    };
    t.Jp = function(c) {
        c = c.$e;
        if (c.enabled) {
            if (c.Oq || c.d.Te && c.d.xD || c.Kn !== c.d.width || 4 !== c.cf && c.In !== c.d.height || 3 === c.cf && (c.Yu !== c.d.fb || c.Zu !== c.d.N)) c.FE(), c.d.Te && (c.d.xD = !1), c.Kn = c.d.width, c.In = c.d.height, c.Yu = c.d.fb, c.Zu = c.d.N, c.Oq = !1, c.hp = !1;
            if (c.hp) {
                for (var d = 0, b = c.hc.length; d < b; d++) c.da.QD(c.hc[d]);
                c.hp = !1
            }
        }
    };
    t.zb = function() {
        var c = this.b.ni;
        if (this.b.Xd > this.behavior.Xu && 0 < c) {
            this.da.Yp(f, this);
            this.behavior.Ll.forEach(this.Pj);
            this.da.Yp(this.Pj);
            this.behavior.Ll.forEach(this.Jp);
            this.da.rg.forEach(this.Jp);
            this.da.vE ? this.da.step(this.b.vk(this.d)) : this.da.step(this.da.NB * c);
            for (var c = this.da.cd, d = 0, b = c.length / 2; d < b; d++) c[2 * d].call(this.da, c[2 * d + 1]);
            c.length = 0;
            this.da.Yp(this.Cx);
            this.behavior.Ll.forEach(this.Cx);
            this.behavior.Xu = this.b.Xd
        }
    };
    t.Xq = function(c) {
        var d = null,
            b = 0;
        "string" == typeof c ? this.body.Xm(function(b) {
            b.tag ===
                c && (d = b)
        }) : this.body.Xm(function(f) {
            c === b && (d = f);
            b++
        });
        return d
    };
    m.prototype.Pf = function() {
        return this.body.Pf()
    };
    m.prototype.nD = function() {
        return !0
    };
    m.prototype.Vv = function() {
        return !0
    };
    m.prototype.Wv = function() {
        return !0
    };
    c.j = new m;
    t.vw = function(c, d, b, f) {
        var a;
        switch (c) {
            case 0:
                a = cp.D(d, b);
                break;
            case 1:
                d = Ya(d);
                a = cp.D(b * Math.cos(d), b * Math.sin(d));
                break;
            case 2:
                a = f.mp(cp.D(d, b));
                break;
            case 3:
                if (!f.$e) {
                    a = cp.D(0, 0);
                    break
                }
                c = f.$e.d;
                c.Ga();
                b = d;
                c.Fg && -1 !== b ? (d = c.Fg(b, !0), b = c.Fg(b, !1), a = f.mp(cp.D(d, b))) : a = cp.D(0,
                    0)
        }
        return a
    };
    k.prototype.Lo = function(c) {
        this.Pd = c;
        if (this.d.Te) this.Ui || this.body.Lo(this.Pd);
        else {
            c = this.hc[0];
            switch (this.cf) {
                case 0:
                    this.Jc = 1;
                    break;
                case 1:
                    this.Jc = cp.xr(this.Pd, c.Vj, cp.D(0, 0));
                    break;
                case 2:
                    this.Jc = cp.Fv(this.Pd, c.Qa);
                    break;
                case 3:
                    c = 0;
                    for (var d, b = 0; b < this.hc.length; ++b) d = shapes[b].xm / this.Ue, c += cp.xr(d * this.Pd, polys[b], this.offset);
                    this.Jc = c;
                    break;
                case 4:
                    this.Jc = cp.Gv(this.Pd, c.u, c.L)
            }
            0 >= this.Jc && (this.Jc = 1);
            this.Ui || (this.body.Lo(this.Pd), this.ao || this.body.Nl(this.Jc))
        }
    };
    k.prototype.Ko =
        function(c) {
            this.tk = c;
            for (var d = 0; d < this.hc.length; d++) this.hc[d].Ko(c)
        };
    k.prototype.Jo = function(c) {
        this.ok = c;
        for (var d = 0; d < this.hc.length; d++) this.hc[d].Jo(c)
    };
    t.ne = function(c, d) {
        this.Pj(c);
        var b;
        if (-1 == d) b = this.da.cx;
        else {
            b = this.b.Gg(d);
            if (!b) return null;
            b = b.nA;
            this.Pj(b)
        }
        return b && c != b ? b : null
    };
    c.C = new k;
    p.prototype.speed = function(c) {
        var d = this.body.Qc,
            b = this.body.Rc;
        c.B(Math.sqrt(d * d + b * b))
    };
    p.prototype.group = function(c) {
        c.bb(this.Np)
    };
    p.prototype.U = function(c) {
        c.bb(this.Op)
    };
    p.prototype.Pd = function(c) {
        this.Ui ?
            c.B(Infinity) : c.B(this.body.kj)
    };
    p.prototype.Jc = function(c) {
        this.Ui || this.ao ? c.B(Infinity) : c.B(this.body.P)
    };
    p.prototype.ok = function(c) {
        c.B(this.ok)
    };
    p.prototype.tk = function(c) {
        c.B(this.tk)
    };
    p.prototype.xm = function(c) {
        if (this.d.Te || 3 === this.cf) {
            if (!this.Ue)
                for (var d = 0; d < this.hc.length; ++d) this.Ue += cp.Ap(this.hc[d].Vj);
            c.B(this.Ue)
        } else if (0 == this.hc.length) c.B(0);
        else {
            var b = this.hc[0];
            switch (this.cf) {
                case 0:
                    d = 0;
                    break;
                case 1:
                    d = cp.Ap(b.Vj);
                    break;
                case 3:
                    d = this.Ue;
                    break;
                case 2:
                    d = cp.cA(b.Qa);
                    break;
                case 4:
                    d =
                        cp.dA(b.u, b.L, b.Qa)
            }
            c.B(d)
        }
    };
    p.prototype.Tl = function(c) {
        c.B(this.da.Tl)
    };
    p.prototype.Iq = function(c) {
        c.B(this.da.Iq)
    };
    c.Xa = new p
})();

function Wc(f) {
    this.b = f
}
(function() {
    function f() {}
    var m = Wc.prototype;
    m.Ba = function(f) {
        this.behavior = f;
        this.b = f.b
    };
    m.Ba.prototype.S = function() {};
    m.na = function(f, c) {
        this.type = f;
        this.behavior = f.behavior;
        this.d = c;
        this.b = f.b
    };
    var k = m.na.prototype;
    k.S = function() {
        this.d.M.solidEnabled = 0 !== this.r[0]
    };
    k.zb = function() {};
    m.j = new function() {};
    f.prototype.kt = function(f) {
        this.d.M.solidEnabled = !!f
    };
    m.C = new f
})();

function rd(f) {
    this.b = f
}
(function() {
    var f = rd.prototype;
    f.Ba = function(f) {
        this.behavior = f;
        this.b = f.b
    };
    f.Ba.prototype.S = function() {};
    f.na = function(f, k) {
        this.type = f;
        this.behavior = f.behavior;
        this.d = k;
        this.b = f.b
    };
    f = f.na.prototype;
    f.S = function() {
        this.mode = this.r[0]
    };
    f.zb = function() {
        var f = this.d;
        f.Ga();
        var k = f.gb,
            p = f.n,
            c = p.cc,
            t = 0,
            e = 0,
            d = 0,
            b = 0;
        0 === this.mode ? (e = c.width, b = c.height) : (t = p.La, e = p.ab, d = p.Ra, b = p.$a);
        k.right < t ? (f.x = e - 1 + (f.x - k.left), f.H()) : k.left > e ? (f.x = t + 1 - (k.right - f.x), f.H()) : k.bottom < d ? (f.y = b - 1 + (f.y - k.top), f.H()) : k.top >
            b && (f.y = d + 1 - (k.bottom - f.y), f.H())
    }
})();

function Vc() {
    return [$c, ad, Zc, gd, Yc, Xc, bd, cd, dd, ed, fd, jd, id, hd, Wc, od, rd, U.prototype.j.iy, U.prototype.j.Ys, U.prototype.j.Qz, Yc.prototype.C.CallFunction, fd.prototype.j.wy, fd.prototype.j.Vx, Xc.prototype.C.wz, U.prototype.j.Ws, U.prototype.C.Ez, fd.prototype.Xa.xy, bd.prototype.C.mt, U.prototype.j.my, U.prototype.j.Wx, ed.prototype.j.qy, ed.prototype.j.jy, U.prototype.j.uy, U.prototype.C.Az, Xc.prototype.C.uz, bd.prototype.C.tp, Xc.prototype.C.tp, Xc.prototype.C.sp, jd.prototype.C.pm, Xc.prototype.C.sz, Xc.prototype.C.Vs,
        Xc.prototype.j.Xs, ed.prototype.j.pp, jd.prototype.C.nt, U.prototype.C.Sz, Yc.prototype.j.mm, Xc.prototype.j.gy, $c.prototype.C.Play, $c.prototype.C.Bz, ad.prototype.C.ey, Zc.prototype.C.up, gd.prototype.C.Jz, Xc.prototype.j.ry, ed.prototype.j.et, Xc.prototype.C.Iz, bd.prototype.j.Xs, bd.prototype.C.lt, bd.prototype.C.sp, U.prototype.j.Tx, bd.prototype.Xa.qm, U.prototype.j.$x, jd.prototype.C.jt, fd.prototype.C.Nz, $c.prototype.C.pm, gd.prototype.C.yy, U.prototype.C.Lx, U.prototype.C.Oz, gd.prototype.j.ky, gd.prototype.C.Pz,
        hd.prototype.C.qz, Xc.prototype.C.Cz, jd.prototype.C.yz, jd.prototype.C.it, U.prototype.Xa.QE, U.prototype.C.zz, Xc.prototype.j.Ux, Xc.prototype.C.vz, Xc.prototype.Xa.qm, Xc.prototype.Xa.ot, Xc.prototype.C.Tz, U.prototype.j.ay, Xc.prototype.j.ny, Xc.prototype.C.Lz, bd.prototype.j.ht, bd.prototype.C.Vs, Xc.prototype.j.ht, Xc.prototype.C.lt, U.prototype.Xa.Ag, dd.prototype.C.tp, dd.prototype.Xa.qm, dd.prototype.j.Xx, Xc.prototype.j.Cy, id.prototype.j.ly, id.prototype.C.Fz, id.prototype.C.kt, U.prototype.C.Yx, hd.prototype.C.Rz,
        Xc.prototype.j.oy, U.prototype.Xa.random, ed.prototype.j.qp, U.prototype.Xa.Pt, dd.prototype.C.sp
    ]
};